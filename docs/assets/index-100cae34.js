var j_=Object.defineProperty;var $_=(t,e,n)=>e in t?j_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Da=(t,e,n)=>($_(t,typeof e!="symbol"?e+"":e,n),n);function z_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lf={},H_={get exports(){return lf},set exports(t){lf=t}},gd={},U={},V_={get exports(){return U},set exports(t){U=t}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),U_=Symbol.for("react.portal"),W_=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),G_=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),X_=Symbol.for("react.suspense"),Z_=Symbol.for("react.memo"),eT=Symbol.for("react.lazy"),r1=Symbol.iterator;function tT(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var IS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,FS={};function va(t,e,n){this.props=t,this.context=e,this.refs=FS,this.updater=n||IS}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jS(){}jS.prototype=va.prototype;function Iy(t,e,n){this.props=t,this.context=e,this.refs=FS,this.updater=n||IS}var By=Iy.prototype=new jS;By.constructor=Iy;BS(By,va.prototype);By.isPureReactComponent=!0;var i1=Array.isArray,$S=Object.prototype.hasOwnProperty,Fy={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)$S.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Su,type:t,key:o,ref:s,props:i,_owner:Fy.current}}function nT(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function rT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o1=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rT(""+t.key):e.toString(36)}function Rc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Su:case U_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Wh(s,0):r,i1(i)?(n="",t!=null&&(n=t.replace(o1,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(jy(i)&&(i=nT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(o1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",i1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Wh(o,a);s+=Rc(o,e,n,l,i)}else if(l=tT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Wh(o,a++),s+=Rc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Uu(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Lc={transition:null},oT={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Lc,ReactCurrentOwner:Fy};je.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=va;je.Fragment=W_;je.Profiler=G_;je.PureComponent=Iy;je.StrictMode=K_;je.Suspense=X_;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$S.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Su,type:t.type,key:i,ref:o,props:r,_owner:s}};je.createContext=function(t){return t={$$typeof:Q_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J_,_context:t},t.Consumer=t};je.createElement=qS;je.createFactory=function(t){var e=qS.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Y_,render:t}};je.isValidElement=jy;je.lazy=function(t){return{$$typeof:eT,_payload:{_status:-1,_result:t},_init:iT}};je.memo=function(t,e){return{$$typeof:Z_,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Lc.transition;Lc.transition={};try{t()}finally{Lc.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return pn.current.useCallback(t,e)};je.useContext=function(t){return pn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};je.useEffect=function(t,e){return pn.current.useEffect(t,e)};je.useId=function(){return pn.current.useId()};je.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return pn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};je.useRef=function(t){return pn.current.useRef(t)};je.useState=function(t){return pn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return pn.current.useTransition()};je.version="18.2.0";(function(t){t.exports=je})(V_);const fe=Dy(U),bm=z_({__proto__:null,default:fe},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=U,aT=Symbol.for("react.element"),lT=Symbol.for("react.fragment"),uT=Object.prototype.hasOwnProperty,cT=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fT={key:!0,ref:!0,__self:!0,__source:!0};function HS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uT.call(e,r)&&!fT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aT,type:t,key:o,ref:s,props:i,_owner:cT.current}}gd.Fragment=lT;gd.jsx=HS;gd.jsxs=HS;(function(t){t.exports=gd})(H_);const oe=lf.jsx,pt=lf.jsxs;var wm={},Ho={},dT={get exports(){return Ho},set exports(t){Ho=t}},zn={},xm={},hT={get exports(){return xm},set exports(t){xm=t}},VS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,j){var B=z.length;z.push(j);e:for(;0<B;){var I=B-1>>>1,$=z[I];if(0<i($,j))z[I]=j,z[B]=$,B=I;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],B=z.pop();if(B!==j){z[0]=B;e:for(var I=0,$=z.length,V=$>>>1;I<V;){var G=2*(I+1)-1,K=z[G],H=G+1,W=z[H];if(0>i(K,B))H<$&&0>i(W,K)?(z[I]=W,z[H]=B,I=H):(z[I]=K,z[G]=B,I=G);else if(H<$&&0>i(W,B))z[I]=W,z[H]=B,I=H;else break e}}return j}function i(z,j){var B=z.sortIndex-j.sortIndex;return B!==0?B:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,c=null,f=3,h=!1,m=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=z)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w(z){if(y=!1,v(z),!m)if(n(l)!==null)m=!0,P(x);else{var j=n(u);j!==null&&L(w,j.startTime-z)}}function x(z,j){m=!1,y&&(y=!1,b(k),k=-1),h=!0;var B=f;try{for(v(j),c=n(l);c!==null&&(!(c.expirationTime>j)||z&&!_());){var I=c.callback;if(typeof I=="function"){c.callback=null,f=c.priorityLevel;var $=I(c.expirationTime<=j);j=t.unstable_now(),typeof $=="function"?c.callback=$:c===n(l)&&r(l),v(j)}else r(l);c=n(l)}if(c!==null)var V=!0;else{var G=n(u);G!==null&&L(w,G.startTime-j),V=!1}return V}finally{c=null,f=B,h=!1}}var S=!1,E=null,k=-1,A=5,C=-1;function _(){return!(t.unstable_now()-C<A)}function O(){if(E!==null){var z=t.unstable_now();C=z;var j=!0;try{j=E(!0,z)}finally{j?M():(S=!1,E=null)}}else S=!1}var M;if(typeof p=="function")M=function(){p(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,N=T.port2;T.port1.onmessage=O,M=function(){N.postMessage(null)}}else M=function(){g(O,0)};function P(z){E=z,S||(S=!0,M())}function L(z,j){k=g(function(){z(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,P(x))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var B=f;f=j;try{return z()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=f;f=z;try{return j()}finally{f=B}},t.unstable_scheduleCallback=function(z,j,B){var I=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?I+B:I):B=I,z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,z={id:d++,callback:j,priorityLevel:z,startTime:B,expirationTime:$,sortIndex:-1},B>I?(z.sortIndex=B,e(u,z),n(l)===null&&z===n(u)&&(y?(b(k),k=-1):y=!0,L(w,B-I))):(z.sortIndex=$,e(l,z),m||h||(m=!0,P(x))),z},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(z){var j=f;return function(){var B=f;f=j;try{return z.apply(this,arguments)}finally{f=B}}}})(VS);(function(t){t.exports=VS})(hT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US=U,jn=xm;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,Pl={};function as(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Pl[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=Object.prototype.hasOwnProperty,pT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s1={},a1={};function mT(t){return Sm.call(a1,t)?!0:Sm.call(s1,t)?!1:pT.test(t)?a1[t]=!0:(s1[t]=!0,!1)}function gT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yT(t,e,n,r){if(e===null||typeof e>"u"||gT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var $y=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($y,zy);Wt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($y,zy);Wt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($y,zy);Wt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yT(e,n,i,r)&&(n=null),r||i===null?mT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=US.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),As=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),GS=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),l1=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Kh;function el(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Gh=!1;function Jh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function vT(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Jh(t.type,!1),t;case 11:return t=Jh(t.type.render,!1),t;case 1:return t=Jh(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case As:return"Portal";case km:return"Profiler";case Hy:return"StrictMode";case Em:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GS:return(t.displayName||"Context")+".Consumer";case KS:return(t._context.displayName||"Context")+".Provider";case Vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uy:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function bT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wT(t){var e=QS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=wT(t))}function YS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Om(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XS(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function _m(t,e){XS(t,e);var n=oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tm(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tm(t,e,n){(e!=="number"||uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(tl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function ZS(t,e){var n=oo(e.value),r=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ek(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ek(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gu,tk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xT=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){xT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function nk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function rk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ST=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(t,e){if(e){if(ST[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function Wy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dm=null,qs=null,Hs=null;function h1(t){if(t=Au(t)){if(typeof Dm!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=xd(e),Dm(t.stateNode,t.type,e))}}function ik(t){qs?Hs?Hs.push(t):Hs=[t]:qs=t}function ok(){if(qs){var t=qs,e=Hs;if(Hs=qs=null,h1(t),e)for(t=0;t<e.length;t++)h1(e[t])}}function sk(t,e){return t(e)}function ak(){}var Qh=!1;function lk(t,e,n){if(Qh)return t(e,n);Qh=!0;try{return sk(t,e,n)}finally{Qh=!1,(qs!==null||Hs!==null)&&(ak(),ok())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Im=!1;if(fi)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Im=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Im=!1}function kT(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var dl=!1,cf=null,ff=!1,Bm=null,ET={onError:function(t){dl=!0,cf=t}};function AT(t,e,n,r,i,o,s,a,l){dl=!1,cf=null,kT.apply(ET,arguments)}function CT(t,e,n,r,i,o,s,a,l){if(AT.apply(this,arguments),dl){if(dl){var u=cf;dl=!1,cf=null}else throw Error(ae(198));ff||(ff=!0,Bm=u)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p1(t){if(ls(t)!==t)throw Error(ae(188))}function OT(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p1(i),t;if(o===r)return p1(i),e;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function ck(t){return t=OT(t),t!==null?fk(t):null}function fk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fk(t);if(e!==null)return e;t=t.sibling}return null}var dk=jn.unstable_scheduleCallback,m1=jn.unstable_cancelCallback,_T=jn.unstable_shouldYield,TT=jn.unstable_requestPaint,xt=jn.unstable_now,NT=jn.unstable_getCurrentPriorityLevel,Ky=jn.unstable_ImmediatePriority,hk=jn.unstable_UserBlockingPriority,df=jn.unstable_NormalPriority,MT=jn.unstable_LowPriority,pk=jn.unstable_IdlePriority,yd=null,$r=null;function PT(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:DT,RT=Math.log,LT=Math.LN2;function DT(t){return t>>>=0,t===0?32:31-(RT(t)/LT|0)|0}var Ju=64,Qu=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=nl(a):(o&=s,o!==0&&(r=nl(o)))}else s=n&~i,s!==0?r=nl(s):o!==0&&(r=nl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function IT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-yr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=IT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mk(){var t=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function FT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function gk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yk,Jy,vk,bk,wk,jm=!1,Yu=[],Wi=null,Ki=null,Gi=null,Dl=new Map,Il=new Map,Ri=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g1(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Fa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Au(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $T(t,e,n,r,i){switch(e){case"focusin":return Wi=Fa(Wi,t,e,n,r,i),!0;case"dragenter":return Ki=Fa(Ki,t,e,n,r,i),!0;case"mouseover":return Gi=Fa(Gi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dl.set(o,Fa(Dl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Il.set(o,Fa(Il.get(o)||null,t,e,n,r,i)),!0}return!1}function xk(t){var e=To(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=uk(n),e!==null){t.blockedOn=e,wk(t.priority,function(){vk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lm=r,n.target.dispatchEvent(r),Lm=null}else return e=Au(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function y1(t,e,n){Dc(t)&&n.delete(e)}function zT(){jm=!1,Wi!==null&&Dc(Wi)&&(Wi=null),Ki!==null&&Dc(Ki)&&(Ki=null),Gi!==null&&Dc(Gi)&&(Gi=null),Dl.forEach(y1),Il.forEach(y1)}function ja(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,zT)))}function Bl(t){function e(i){return ja(i,t)}if(0<Yu.length){ja(Yu[0],t);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&ja(Wi,t),Ki!==null&&ja(Ki,t),Gi!==null&&ja(Gi,t),Dl.forEach(e),Il.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)xk(n),n.blockedOn===null&&Ri.shift()}var Vs=yi.ReactCurrentBatchConfig,pf=!0;function qT(t,e,n,r){var i=Qe,o=Vs.transition;Vs.transition=null;try{Qe=1,Qy(t,e,n,r)}finally{Qe=i,Vs.transition=o}}function HT(t,e,n,r){var i=Qe,o=Vs.transition;Vs.transition=null;try{Qe=4,Qy(t,e,n,r)}finally{Qe=i,Vs.transition=o}}function Qy(t,e,n,r){if(pf){var i=$m(t,e,n,r);if(i===null)ap(t,e,r,mf,n),g1(t,r);else if($T(i,t,e,n,r))r.stopPropagation();else if(g1(t,r),e&4&&-1<jT.indexOf(t)){for(;i!==null;){var o=Au(i);if(o!==null&&yk(o),o=$m(t,e,n,r),o===null&&ap(t,e,r,mf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ap(t,e,r,null,n)}}var mf=null;function $m(t,e,n,r){if(mf=null,t=Wy(r),t=To(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mf=t,null}function Sk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NT()){case Ky:return 1;case hk:return 4;case df:case MT:return 16;case pk:return 536870912;default:return 16}default:return 16}}var Ii=null,Yy=null,Ic=null;function kk(){if(Ic)return Ic;var t,e=Yy,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ic=i.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function v1(){return!1}function qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xu:v1,this.isPropagationStopped=v1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xy=qn(ba),Eu=yt({},ba,{view:0,detail:0}),VT=qn(Eu),Xh,Zh,$a,vd=yt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(Xh=t.screenX-$a.screenX,Zh=t.screenY-$a.screenY):Zh=Xh=0,$a=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Zh}}),b1=qn(vd),UT=yt({},vd,{dataTransfer:0}),WT=qn(UT),KT=yt({},Eu,{relatedTarget:0}),ep=qn(KT),GT=yt({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=qn(GT),QT=yt({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YT=qn(QT),XT=yt({},ba,{data:0}),w1=qn(XT),ZT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tN[t])?!!e[t]:!1}function Zy(){return nN}var rN=yt({},Eu,{key:function(t){if(t.key){var e=ZT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iN=qn(rN),oN=yt({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=qn(oN),sN=yt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),aN=qn(sN),lN=yt({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),uN=qn(lN),cN=yt({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fN=qn(cN),dN=[9,13,27,32],ev=fi&&"CompositionEvent"in window,hl=null;fi&&"documentMode"in document&&(hl=document.documentMode);var hN=fi&&"TextEvent"in window&&!hl,Ek=fi&&(!ev||hl&&8<hl&&11>=hl),S1=String.fromCharCode(32),k1=!1;function Ak(t,e){switch(t){case"keyup":return dN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ck(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function pN(t,e){switch(t){case"compositionend":return Ck(e);case"keypress":return e.which!==32?null:(k1=!0,S1);case"textInput":return t=e.data,t===S1&&k1?null:t;default:return null}}function mN(t,e){if(Os)return t==="compositionend"||!ev&&Ak(t,e)?(t=kk(),Ic=Yy=Ii=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ek&&e.locale!=="ko"?null:e.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gN[t.type]:e==="textarea"}function Ok(t,e,n,r){ik(r),e=gf(e,"onChange"),0<e.length&&(n=new Xy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,Fl=null;function yN(t){Fk(t,0)}function bd(t){var e=Ns(t);if(YS(e))return t}function vN(t,e){if(t==="change")return e}var _k=!1;if(fi){var tp;if(fi){var np="oninput"in document;if(!np){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),np=typeof A1.oninput=="function"}tp=np}else tp=!1;_k=tp&&(!document.documentMode||9<document.documentMode)}function C1(){pl&&(pl.detachEvent("onpropertychange",Tk),Fl=pl=null)}function Tk(t){if(t.propertyName==="value"&&bd(Fl)){var e=[];Ok(e,Fl,t,Wy(t)),lk(yN,e)}}function bN(t,e,n){t==="focusin"?(C1(),pl=e,Fl=n,pl.attachEvent("onpropertychange",Tk)):t==="focusout"&&C1()}function wN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bd(Fl)}function xN(t,e){if(t==="click")return bd(e)}function SN(t,e){if(t==="input"||t==="change")return bd(e)}function kN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:kN;function jl(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sm.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function O1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _1(t,e){var n=O1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function Nk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mk(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uf(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EN(t){var e=Mk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nk(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_1(n,o);var s=_1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AN=fi&&"documentMode"in document&&11>=document.documentMode,_s=null,zm=null,ml=null,qm=!1;function T1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qm||_s==null||_s!==uf(r)||(r=_s,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&jl(ml,r)||(ml=r,r=gf(zm,"onSelect"),0<r.length&&(e=new Xy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function Zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},rp={},Pk={};fi&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function wd(t){if(rp[t])return rp[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pk)return rp[t]=e[n];return t}var Rk=wd("animationend"),Lk=wd("animationiteration"),Dk=wd("animationstart"),Ik=wd("transitionend"),Bk=new Map,N1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){Bk.set(t,e),as(e,[t])}for(var ip=0;ip<N1.length;ip++){var op=N1[ip],CN=op.toLowerCase(),ON=op[0].toUpperCase()+op.slice(1);po(CN,"on"+ON)}po(Rk,"onAnimationEnd");po(Lk,"onAnimationIteration");po(Dk,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(Ik,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_N=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function M1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CT(r,e,void 0,t),t.currentTarget=null}function Fk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;M1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;M1(i,a,u),o=l}}}if(ff)throw t=Bm,ff=!1,Bm=null,t}function nt(t,e){var n=e[Km];n===void 0&&(n=e[Km]=new Set);var r=t+"__bubble";n.has(r)||(jk(e,t,2,!1),n.add(r))}function sp(t,e,n){var r=0;e&&(r|=4),jk(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[ec]){t[ec]=!0,WS.forEach(function(n){n!=="selectionchange"&&(_N.has(n)||sp(n,!1,t),sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,sp("selectionchange",!1,e))}}function jk(t,e,n,r){switch(Sk(e)){case 1:var i=qT;break;case 4:i=HT;break;default:i=Qy}n=i.bind(null,e,n,t),i=void 0,!Im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ap(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=To(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}lk(function(){var u=o,d=Wy(n),c=[];e:{var f=Bk.get(t);if(f!==void 0){var h=Xy,m=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":h=iN;break;case"focusin":m="focus",h=ep;break;case"focusout":m="blur",h=ep;break;case"beforeblur":case"afterblur":h=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=aN;break;case Rk:case Lk:case Dk:h=JT;break;case Ik:h=uN;break;case"scroll":h=VT;break;case"wheel":h=fN;break;case"copy":case"cut":case"paste":h=YT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=x1}var y=(e&4)!==0,g=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=Ll(p,b),w!=null&&y.push(zl(p,w,v)))),g)break;p=p.return}0<y.length&&(f=new h(f,m,null,n,d),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Lm&&(m=n.relatedTarget||n.fromElement)&&(To(m)||m[di]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?To(m):null,m!==null&&(g=ls(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=b1,w="onMouseLeave",b="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=x1,w="onPointerLeave",b="onPointerEnter",p="pointer"),g=h==null?f:Ns(h),v=m==null?f:Ns(m),f=new y(w,p+"leave",h,n,d),f.target=g,f.relatedTarget=v,w=null,To(d)===u&&(y=new y(b,p+"enter",m,n,d),y.target=v,y.relatedTarget=g,w=y),g=w,h&&m)t:{for(y=h,b=m,p=0,v=y;v;v=ms(v))p++;for(v=0,w=b;w;w=ms(w))v++;for(;0<p-v;)y=ms(y),p--;for(;0<v-p;)b=ms(b),v--;for(;p--;){if(y===b||b!==null&&y===b.alternate)break t;y=ms(y),b=ms(b)}y=null}else y=null;h!==null&&P1(c,f,h,y,!1),m!==null&&g!==null&&P1(c,g,m,y,!0)}}e:{if(f=u?Ns(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var x=vN;else if(E1(f))if(_k)x=SN;else{x=wN;var S=bN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=xN);if(x&&(x=x(t,u))){Ok(c,x,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Tm(f,"number",f.value)}switch(S=u?Ns(u):window,t){case"focusin":(E1(S)||S.contentEditable==="true")&&(_s=S,zm=u,ml=null);break;case"focusout":ml=zm=_s=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,T1(c,n,d);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":T1(c,n,d)}var E;if(ev)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Os?Ak(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ek&&n.locale!=="ko"&&(Os||k!=="onCompositionStart"?k==="onCompositionEnd"&&Os&&(E=kk()):(Ii=d,Yy="value"in Ii?Ii.value:Ii.textContent,Os=!0)),S=gf(u,k),0<S.length&&(k=new w1(k,t,null,n,d),c.push({event:k,listeners:S}),E?k.data=E:(E=Ck(n),E!==null&&(k.data=E)))),(E=hN?pN(t,n):mN(t,n))&&(u=gf(u,"onBeforeInput"),0<u.length&&(d=new w1("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=E))}Fk(c,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ll(t,n),o!=null&&r.unshift(zl(t,o,i)),o=Ll(t,e),o!=null&&r.push(zl(t,o,i))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ll(n,o),l!=null&&s.unshift(zl(n,l,a))):i||(l=Ll(n,o),l!=null&&s.push(zl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TN=/\r\n?/g,NN=/\u0000|\uFFFD/g;function R1(t){return(typeof t=="string"?t:""+t).replace(TN,`
`).replace(NN,"")}function tc(t,e,n){if(e=R1(e),R1(t)!==e&&n)throw Error(ae(425))}function yf(){}var Hm=null,Vm=null;function Um(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(t){return L1.resolve(null).then(t).catch(RN)}:Wm;function RN(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bl(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Ir="__reactFiber$"+wa,ql="__reactProps$"+wa,di="__reactContainer$"+wa,Km="__reactEvents$"+wa,LN="__reactListeners$"+wa,DN="__reactHandles$"+wa;function To(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D1(t);t!==null;){if(n=t[Ir])return n;t=D1(t)}return e}t=n,n=t.parentNode}return null}function Au(t){return t=t[Ir]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function xd(t){return t[ql]||null}var Gm=[],Ms=-1;function mo(t){return{current:t}}function st(t){0>Ms||(t.current=Gm[Ms],Gm[Ms]=null,Ms--)}function tt(t,e){Ms++,Gm[Ms]=t.current,t.current=e}var so={},nn=mo(so),wn=mo(!1),Vo=so;function na(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function vf(){st(wn),st(nn)}function I1(t,e,n){if(nn.current!==so)throw Error(ae(168));tt(nn,e),tt(wn,n)}function $k(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,bT(t)||"Unknown",i));return yt({},n,r)}function bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,Vo=nn.current,tt(nn,t),tt(wn,wn.current),!0}function B1(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=$k(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,st(wn),st(nn),tt(nn,t)):st(wn),tt(wn,n)}var ti=null,Sd=!1,up=!1;function zk(t){ti===null?ti=[t]:ti.push(t)}function IN(t){Sd=!0,zk(t)}function go(){if(!up&&ti!==null){up=!0;var t=0,e=Qe;try{var n=ti;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Sd=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),dk(Ky,go),i}finally{Qe=e,up=!1}}return null}var Ps=[],Rs=0,wf=null,xf=0,Wn=[],Kn=0,Uo=null,ri=1,ii="";function xo(t,e){Ps[Rs++]=xf,Ps[Rs++]=wf,wf=t,xf=e}function qk(t,e,n){Wn[Kn++]=ri,Wn[Kn++]=ii,Wn[Kn++]=Uo,Uo=t;var r=ri;t=ii;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var o=32-yr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-yr(e)+i|n<<i|r,ii=o+t}else ri=1<<o|n<<i|r,ii=t}function nv(t){t.return!==null&&(xo(t,1),qk(t,1,0))}function rv(t){for(;t===wf;)wf=Ps[--Rs],Ps[Rs]=null,xf=Ps[--Rs],Ps[Rs]=null;for(;t===Uo;)Uo=Wn[--Kn],Wn[Kn]=null,ii=Wn[--Kn],Wn[Kn]=null,ri=Wn[--Kn],Wn[Kn]=null}var Bn=null,Dn=null,ct=!1,fr=null;function Hk(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Dn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Uo!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Dn=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(ct){var e=Dn;if(e){var n=e;if(!F1(t,e)){if(Jm(t))throw Error(ae(418));e=Ji(n.nextSibling);var r=Bn;e&&F1(t,e)?Hk(r,n):(t.flags=t.flags&-4097|2,ct=!1,Bn=t)}}else{if(Jm(t))throw Error(ae(418));t.flags=t.flags&-4097|2,ct=!1,Bn=t}}}function j1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function nc(t){if(t!==Bn)return!1;if(!ct)return j1(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Um(t.type,t.memoizedProps)),e&&(e=Dn)){if(Jm(t))throw Vk(),Error(ae(418));for(;e;)Hk(t,e),e=Ji(e.nextSibling)}if(j1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Bn?Ji(t.stateNode.nextSibling):null;return!0}function Vk(){for(var t=Dn;t;)t=Ji(t.nextSibling)}function ra(){Dn=Bn=null,ct=!1}function iv(t){fr===null?fr=[t]:fr.push(t)}var BN=yi.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sf=mo(null),kf=null,Ls=null,ov=null;function sv(){ov=Ls=kf=null}function av(t){var e=Sf.current;st(Sf),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){kf=t,ov=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(kf===null)throw Error(ae(308));Ls=t,kf.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var No=null;function lv(t){No===null?No=[t]:No.push(t)}function Uk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}function $1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ef(t,e,n,r){var i=t.updateQueue;Ni=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,d=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){c=m.call(h,c,f);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(h,c,f):m,f==null)break e;c=yt({},c,f);break e;case 2:Ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=c):d=d.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ko|=s,t.lanes=s,t.memoizedState=c}}function z1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Kk=new US.Component().refs;function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Xi(t),o=ai(r,i);o.payload=e,n!=null&&(o.callback=n),e=Qi(t,o,i),e!==null&&(vr(e,t,i,r),Fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Xi(t),o=ai(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qi(t,o,i),e!==null&&(vr(e,t,i,r),Fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Xi(t),i=ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qi(t,i,r),e!==null&&(vr(e,t,r,n),Fc(e,t,r))}};function q1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(i,o):!0}function Gk(t,e,n){var r=!1,i=so,o=e.contextType;return typeof o=="object"&&o!==null?o=nr(o):(i=xn(e)?Vo:nn.current,r=e.contextTypes,o=(r=r!=null)?na(t,i):so),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function H1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function Zm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Kk,uv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=nr(o):(o=xn(e)?Vo:nn.current,i.context=na(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kd.enqueueReplaceState(i,i.state,null),Ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Kk&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V1(t){var e=t._init;return e(t._payload)}function Jk(t){function e(b,p){if(t){var v=b.deletions;v===null?(b.deletions=[p],b.flags|=16):v.push(p)}}function n(b,p){if(!t)return null;for(;p!==null;)e(b,p),p=p.sibling;return null}function r(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function i(b,p){return b=Zi(b,p),b.index=0,b.sibling=null,b}function o(b,p,v){return b.index=v,t?(v=b.alternate,v!==null?(v=v.index,v<p?(b.flags|=2,p):v):(b.flags|=2,p)):(b.flags|=1048576,p)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,p,v,w){return p===null||p.tag!==6?(p=gp(v,b.mode,w),p.return=b,p):(p=i(p,v),p.return=b,p)}function l(b,p,v,w){var x=v.type;return x===Cs?d(b,p,v.props.children,w,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ti&&V1(x)===p.type)?(w=i(p,v.props),w.ref=za(b,p,v),w.return=b,w):(w=Vc(v.type,v.key,v.props,null,b.mode,w),w.ref=za(b,p,v),w.return=b,w)}function u(b,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=yp(v,b.mode,w),p.return=b,p):(p=i(p,v.children||[]),p.return=b,p)}function d(b,p,v,w,x){return p===null||p.tag!==7?(p=Io(v,b.mode,w,x),p.return=b,p):(p=i(p,v),p.return=b,p)}function c(b,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gp(""+p,b.mode,v),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wu:return v=Vc(p.type,p.key,p.props,null,b.mode,v),v.ref=za(b,null,p),v.return=b,v;case As:return p=yp(p,b.mode,v),p.return=b,p;case Ti:var w=p._init;return c(b,w(p._payload),v)}if(tl(p)||Ia(p))return p=Io(p,b.mode,v,null),p.return=b,p;rc(b,p)}return null}function f(b,p,v,w){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(b,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wu:return v.key===x?l(b,p,v,w):null;case As:return v.key===x?u(b,p,v,w):null;case Ti:return x=v._init,f(b,p,x(v._payload),w)}if(tl(v)||Ia(v))return x!==null?null:d(b,p,v,w,null);rc(b,v)}return null}function h(b,p,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,a(p,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:return b=b.get(w.key===null?v:w.key)||null,l(p,b,w,x);case As:return b=b.get(w.key===null?v:w.key)||null,u(p,b,w,x);case Ti:var S=w._init;return h(b,p,v,S(w._payload),x)}if(tl(w)||Ia(w))return b=b.get(v)||null,d(p,b,w,x,null);rc(p,w)}return null}function m(b,p,v,w){for(var x=null,S=null,E=p,k=p=0,A=null;E!==null&&k<v.length;k++){E.index>k?(A=E,E=null):A=E.sibling;var C=f(b,E,v[k],w);if(C===null){E===null&&(E=A);break}t&&E&&C.alternate===null&&e(b,E),p=o(C,p,k),S===null?x=C:S.sibling=C,S=C,E=A}if(k===v.length)return n(b,E),ct&&xo(b,k),x;if(E===null){for(;k<v.length;k++)E=c(b,v[k],w),E!==null&&(p=o(E,p,k),S===null?x=E:S.sibling=E,S=E);return ct&&xo(b,k),x}for(E=r(b,E);k<v.length;k++)A=h(E,b,k,v[k],w),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?k:A.key),p=o(A,p,k),S===null?x=A:S.sibling=A,S=A);return t&&E.forEach(function(_){return e(b,_)}),ct&&xo(b,k),x}function y(b,p,v,w){var x=Ia(v);if(typeof x!="function")throw Error(ae(150));if(v=x.call(v),v==null)throw Error(ae(151));for(var S=x=null,E=p,k=p=0,A=null,C=v.next();E!==null&&!C.done;k++,C=v.next()){E.index>k?(A=E,E=null):A=E.sibling;var _=f(b,E,C.value,w);if(_===null){E===null&&(E=A);break}t&&E&&_.alternate===null&&e(b,E),p=o(_,p,k),S===null?x=_:S.sibling=_,S=_,E=A}if(C.done)return n(b,E),ct&&xo(b,k),x;if(E===null){for(;!C.done;k++,C=v.next())C=c(b,C.value,w),C!==null&&(p=o(C,p,k),S===null?x=C:S.sibling=C,S=C);return ct&&xo(b,k),x}for(E=r(b,E);!C.done;k++,C=v.next())C=h(E,b,k,C.value,w),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?k:C.key),p=o(C,p,k),S===null?x=C:S.sibling=C,S=C);return t&&E.forEach(function(O){return e(b,O)}),ct&&xo(b,k),x}function g(b,p,v,w){if(typeof v=="object"&&v!==null&&v.type===Cs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Wu:e:{for(var x=v.key,S=p;S!==null;){if(S.key===x){if(x=v.type,x===Cs){if(S.tag===7){n(b,S.sibling),p=i(S,v.props.children),p.return=b,b=p;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ti&&V1(x)===S.type){n(b,S.sibling),p=i(S,v.props),p.ref=za(b,S,v),p.return=b,b=p;break e}n(b,S);break}else e(b,S);S=S.sibling}v.type===Cs?(p=Io(v.props.children,b.mode,w,v.key),p.return=b,b=p):(w=Vc(v.type,v.key,v.props,null,b.mode,w),w.ref=za(b,p,v),w.return=b,b=w)}return s(b);case As:e:{for(S=v.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(b,p.sibling),p=i(p,v.children||[]),p.return=b,b=p;break e}else{n(b,p);break}else e(b,p);p=p.sibling}p=yp(v,b.mode,w),p.return=b,b=p}return s(b);case Ti:return S=v._init,g(b,p,S(v._payload),w)}if(tl(v))return m(b,p,v,w);if(Ia(v))return y(b,p,v,w);rc(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(b,p.sibling),p=i(p,v),p.return=b,b=p):(n(b,p),p=gp(v,b.mode,w),p.return=b,b=p),s(b)):n(b,p)}return g}var ia=Jk(!0),Qk=Jk(!1),Cu={},zr=mo(Cu),Hl=mo(Cu),Vl=mo(Cu);function Mo(t){if(t===Cu)throw Error(ae(174));return t}function cv(t,e){switch(tt(Vl,e),tt(Hl,t),tt(zr,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}st(zr),tt(zr,e)}function oa(){st(zr),st(Hl),st(Vl)}function Yk(t){Mo(Vl.current);var e=Mo(zr.current),n=Mm(e,t.type);e!==n&&(tt(Hl,t),tt(zr,n))}function fv(t){Hl.current===t&&(st(zr),st(Hl))}var ht=mo(0);function Af(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=[];function dv(){for(var t=0;t<cp.length;t++)cp[t]._workInProgressVersionPrimary=null;cp.length=0}var jc=yi.ReactCurrentDispatcher,fp=yi.ReactCurrentBatchConfig,Wo=0,gt=null,Ct=null,Rt=null,Cf=!1,gl=!1,Ul=0,FN=0;function Kt(){throw Error(ae(321))}function hv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,i,o){if(Wo=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?qN:HN,t=n(r,i),gl){o=0;do{if(gl=!1,Ul=0,25<=o)throw Error(ae(301));o+=1,Rt=Ct=null,e.updateQueue=null,jc.current=VN,t=n(r,i)}while(gl)}if(jc.current=Of,e=Ct!==null&&Ct.next!==null,Wo=0,Rt=Ct=gt=null,Cf=!1,e)throw Error(ae(300));return t}function mv(){var t=Ul!==0;return Ul=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?gt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function rr(){if(Ct===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Rt===null?gt.memoizedState:Rt.next;if(e!==null)Rt=e,Ct=t;else{if(t===null)throw Error(ae(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Rt===null?gt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Wl(t,e){return typeof e=="function"?e(t):e}function dp(t){var e=rr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((Wo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,gt.lanes|=d,Ko|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Sr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,gt.lanes|=o,Ko|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hp(t){var e=rr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Sr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Xk(){}function Zk(t,e){var n=gt,r=rr(),i=e(),o=!Sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,gv(nE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Kl(9,tE.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(ae(349));Wo&30||eE(n,e,i)}return i}function eE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tE(t,e,n,r){e.value=n,e.getSnapshot=r,rE(e)&&iE(t)}function nE(t,e,n){return n(function(){rE(e)&&iE(t)})}function rE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function iE(t){var e=hi(t,1);e!==null&&vr(e,t,1,-1)}function U1(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=zN.bind(null,gt,t),[e.memoizedState,t]}function Kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oE(){return rr().memoizedState}function $c(t,e,n,r){var i=Tr();gt.flags|=t,i.memoizedState=Kl(1|e,n,void 0,r===void 0?null:r)}function Ed(t,e,n,r){var i=rr();r=r===void 0?null:r;var o=void 0;if(Ct!==null){var s=Ct.memoizedState;if(o=s.destroy,r!==null&&hv(r,s.deps)){i.memoizedState=Kl(e,n,o,r);return}}gt.flags|=t,i.memoizedState=Kl(1|e,n,o,r)}function W1(t,e){return $c(8390656,8,t,e)}function gv(t,e){return Ed(2048,8,t,e)}function sE(t,e){return Ed(4,2,t,e)}function aE(t,e){return Ed(4,4,t,e)}function lE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uE(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,lE.bind(null,e,t),n)}function yv(){}function cE(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fE(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dE(t,e,n){return Wo&21?(Sr(n,e)||(n=mk(),gt.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function jN(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=fp.transition;fp.transition={};try{t(!1),e()}finally{Qe=n,fp.transition=r}}function hE(){return rr().memoizedState}function $N(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pE(t))mE(e,n);else if(n=Uk(t,e,n,r),n!==null){var i=ln();vr(n,t,r,i),gE(n,e,r)}}function zN(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pE(t))mE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Sr(a,s)){var l=e.interleaved;l===null?(i.next=i,lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Uk(t,e,i,r),n!==null&&(i=ln(),vr(n,t,r,i),gE(n,e,r))}}function pE(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function mE(t,e){gl=Cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}var Of={readContext:nr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},qN={readContext:nr,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:W1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,lE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$N.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:U1,useDebugValue:yv,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=U1(!1),e=t[0];return t=jN.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Tr();if(ct){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Dt===null)throw Error(ae(349));Wo&30||eE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,W1(nE.bind(null,r,o,t),[t]),r.flags|=2048,Kl(9,tE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Dt.identifierPrefix;if(ct){var n=ii,r=ri;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HN={readContext:nr,useCallback:cE,useContext:nr,useEffect:gv,useImperativeHandle:uE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:fE,useReducer:dp,useRef:oE,useState:function(){return dp(Wl)},useDebugValue:yv,useDeferredValue:function(t){var e=rr();return dE(e,Ct.memoizedState,t)},useTransition:function(){var t=dp(Wl)[0],e=rr().memoizedState;return[t,e]},useMutableSource:Xk,useSyncExternalStore:Zk,useId:hE,unstable_isNewReconciler:!1},VN={readContext:nr,useCallback:cE,useContext:nr,useEffect:gv,useImperativeHandle:uE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:fE,useReducer:hp,useRef:oE,useState:function(){return hp(Wl)},useDebugValue:yv,useDeferredValue:function(t){var e=rr();return Ct===null?e.memoizedState=t:dE(e,Ct.memoizedState,t)},useTransition:function(){var t=hp(Wl)[0],e=rr().memoizedState;return[t,e]},useMutableSource:Xk,useSyncExternalStore:Zk,useId:hE,unstable_isNewReconciler:!1};function sa(t,e){try{var n="",r=e;do n+=vT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UN=typeof WeakMap=="function"?WeakMap:Map;function yE(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tf||(Tf=!0,cg=r),eg(t,e)},n}function vE(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eg(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function K1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oM.bind(null,t,e,n),e.then(t,t))}function G1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var WN=yi.ReactCurrentOwner,bn=!1;function on(t,e,n,r){e.child=t===null?Qk(e,null,n,r):ia(e,t.child,n,r)}function Q1(t,e,n,r,i){n=n.render;var o=e.ref;return Us(e,i),r=pv(t,e,n,r,o,i),n=mv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(ct&&n&&nv(e),e.flags|=1,on(t,e,r,i),e.child)}function Y1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Av(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,bE(t,e,o,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(s,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=Zi(o,r),t.ref=e.ref,t.return=e,e.child=t}function bE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jl(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return tg(t,e,n,r,i)}function wE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Is,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Is,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Is,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(Is,Rn),Rn|=r;return on(t,e,i,n),e.child}function xE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tg(t,e,n,r,i){var o=xn(n)?Vo:nn.current;return o=na(e,o),Us(e,i),n=pv(t,e,n,r,o,i),r=mv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(ct&&r&&nv(e),e.flags|=1,on(t,e,n,i),e.child)}function X1(t,e,n,r,i){if(xn(n)){var o=!0;bf(e)}else o=!1;if(Us(e,i),e.stateNode===null)zc(t,e),Gk(e,n,r),Zm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=xn(n)?Vo:nn.current,u=na(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&H1(e,s,r,u),Ni=!1;var f=e.memoizedState;s.state=f,Ef(e,r,s,i),l=e.memoizedState,a!==r||f!==l||wn.current||Ni?(typeof d=="function"&&(Xm(e,n,d,r),l=e.memoizedState),(a=Ni||q1(e,n,a,r,f,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Wk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ur(e.type,a),s.props=u,c=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=xn(n)?Vo:nn.current,l=na(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||f!==l)&&H1(e,s,r,l),Ni=!1,f=e.memoizedState,s.state=f,Ef(e,r,s,i);var m=e.memoizedState;a!==c||f!==m||wn.current||Ni?(typeof h=="function"&&(Xm(e,n,h,r),m=e.memoizedState),(u=Ni||q1(e,n,u,r,f,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ng(t,e,n,r,o,i)}function ng(t,e,n,r,i,o){xE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&B1(e,n,!1),pi(t,e,o);r=e.stateNode,WN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ia(e,t.child,null,o),e.child=ia(e,null,a,o)):on(t,e,a,o),e.memoizedState=r.state,i&&B1(e,n,!0),e.child}function SE(t){var e=t.stateNode;e.pendingContext?I1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I1(t,e.context,!1),cv(t,e.containerInfo)}function Z1(t,e,n,r,i){return ra(),iv(i),e.flags|=256,on(t,e,n,r),e.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function kE(t,e,n){var r=e.pendingProps,i=ht.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(ht,i&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Od(s,r,0,null),t=Io(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ig(n),e.memoizedState=rg,t):vv(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Zi(a,o):(o=Io(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ig(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rg,r}return o=t.child,t=o.sibling,r=Zi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,r){return r!==null&&iv(r),ia(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(ae(422))),ic(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Od({mode:"visible",children:r.children},i,0,null),o=Io(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ia(e,t.child,null,s),e.child.memoizedState=ig(s),e.memoizedState=rg,o);if(!(e.mode&1))return ic(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ae(419)),r=pp(o,r,void 0),ic(t,e,s,r)}if(a=(s&t.childLanes)!==0,bn||a){if(r=Dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(t,i),vr(r,t,i,-1))}return Ev(),r=pp(Error(ae(421))),ic(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=Ji(i.nextSibling),Bn=e,ct=!0,fr=null,t!==null&&(Wn[Kn++]=ri,Wn[Kn++]=ii,Wn[Kn++]=Uo,ri=t.id,ii=t.overflow,Uo=e),e=vv(e,r.children),e.flags|=4096,e)}function eb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function mp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(on(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eb(t,n,e);else if(t.tag===19)eb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Af(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Af(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mp(e,!0,n,null,o);break;case"together":mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GN(t,e,n){switch(e.tag){case 3:SE(e),ra();break;case 5:Yk(e);break;case 1:xn(e.type)&&bf(e);break;case 4:cv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Sf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?kE(t,e,n):(tt(ht,ht.current&1),t=pi(t,e,n),t!==null?t.sibling:null);tt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,wE(t,e,n)}return pi(t,e,n)}var AE,og,CE,OE;AE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};og=function(){};CE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mo(zr.current);var o=null;switch(n){case"input":i=Om(t,i),r=Om(t,r),o=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),o=[];break;case"textarea":i=Nm(t,i),r=Nm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yf)}Pm(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};OE=function(t,e,n,r){n!==r&&(e.flags|=4)};function qa(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JN(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return xn(e.type)&&vf(),Gt(e),null;case 3:return r=e.stateNode,oa(),st(wn),st(nn),dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fr!==null&&(hg(fr),fr=null))),og(t,e),Gt(e),null;case 5:fv(e);var i=Mo(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)CE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Gt(e),null}if(t=Mo(zr.current),nc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ir]=e,r[ql]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<rl.length;i++)nt(rl[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":u1(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":f1(r,o),nt("invalid",r)}Pm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",""+a]):Pl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":Ku(r),c1(r,o,!0);break;case"textarea":Ku(r),d1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ek(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ir]=e,t[ql]=r,AE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Rm(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rl.length;i++)nt(rl[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":u1(t,r),i=Om(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":f1(t,r),i=Nm(t,r),nt("invalid",t);break;default:i=r}Pm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?rk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rl(t,l):typeof l=="number"&&Rl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&qy(t,o,l,s))}switch(n){case"input":Ku(t),c1(t,r,!1);break;case"textarea":Ku(t),d1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zs(t,!!r.multiple,o,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)OE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Mo(Vl.current),Mo(zr.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(o=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Gt(e),null;case 13:if(st(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Dn!==null&&e.mode&1&&!(e.flags&128))Vk(),ra(),e.flags|=98560,o=!1;else if(o=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Ir]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else fr!==null&&(hg(fr),fr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?_t===0&&(_t=3):Ev())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return oa(),og(t,e),t===null&&$l(e.stateNode.containerInfo),Gt(e),null;case 10:return av(e.type._context),Gt(e),null;case 17:return xn(e.type)&&vf(),Gt(e),null;case 19:if(st(ht),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)qa(o,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Af(t),s!==null){for(e.flags|=128,qa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ht,ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>aa&&(e.flags|=128,r=!0,qa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Af(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return Gt(e),null}else 2*xt()-o.renderingStartTime>aa&&n!==1073741824&&(e.flags|=128,r=!0,qa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ht.current,tt(ht,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function QN(t,e){switch(rv(e),e.tag){case 1:return xn(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),st(wn),st(nn),dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fv(e),null;case 13:if(st(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ht),null;case 4:return oa(),null;case 10:return av(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var oc=!1,Yt=!1,YN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ds(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){bt(t,e,r)}}var tb=!1;function XN(t,e){if(Hm=pf,t=Mk(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var h;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(h=c.firstChild)!==null;)f=c,c=h;for(;;){if(c===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++d===r&&(l=s),(h=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vm={focusedElem:t,selectionRange:n},pf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,g=m.memoizedState,b=e.stateNode,p=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ur(e.type,y),g);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(w){bt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=tb,tb=!1,m}function yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sg(e,n,o)}i=i.next}while(i!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _E(t){var e=t.alternate;e!==null&&(t.alternate=null,_E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[ql],delete e[Km],delete e[LN],delete e[DN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TE(t){return t.tag===5||t.tag===3||t.tag===4}function nb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yf));else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}var Ft=null,cr=!1;function xi(t,e,n){for(n=n.child;n!==null;)NE(t,e,n),n=n.sibling}function NE(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Yt||Ds(n,e);case 6:var r=Ft,i=cr;Ft=null,xi(t,e,n),Ft=r,cr=i,Ft!==null&&(cr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(cr?(t=Ft,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),Bl(t)):lp(Ft,n.stateNode));break;case 4:r=Ft,i=cr,Ft=n.stateNode.containerInfo,cr=!0,xi(t,e,n),Ft=r,cr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sg(n,e,s),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Yt&&(Ds(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,xi(t,e,n),Yt=r):xi(t,e,n);break;default:xi(t,e,n)}}function rb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YN),e.forEach(function(r){var i=aM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,cr=!1;break e;case 3:Ft=a.stateNode.containerInfo,cr=!0;break e;case 4:Ft=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(Ft===null)throw Error(ae(160));NE(o,s,i),Ft=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ME(e,t),e=e.sibling}function ME(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),Or(t),r&4){try{yl(3,t,t.return),Ad(3,t)}catch(y){bt(t,t.return,y)}try{yl(5,t,t.return)}catch(y){bt(t,t.return,y)}}break;case 1:sr(e,t),Or(t),r&512&&n!==null&&Ds(n,n.return);break;case 5:if(sr(e,t),Or(t),r&512&&n!==null&&Ds(n,n.return),t.flags&32){var i=t.stateNode;try{Rl(i,"")}catch(y){bt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&XS(i,o),Rm(a,s);var u=Rm(a,o);for(s=0;s<l.length;s+=2){var d=l[s],c=l[s+1];d==="style"?rk(i,c):d==="dangerouslySetInnerHTML"?tk(i,c):d==="children"?Rl(i,c):qy(i,d,c,u)}switch(a){case"input":_m(i,o);break;case"textarea":ZS(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?zs(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?zs(i,!!o.multiple,o.defaultValue,!0):zs(i,!!o.multiple,o.multiple?[]:"",!1))}i[ql]=o}catch(y){bt(t,t.return,y)}}break;case 6:if(sr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){bt(t,t.return,y)}}break;case 3:if(sr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(y){bt(t,t.return,y)}break;case 4:sr(e,t),Or(t);break;case 13:sr(e,t),Or(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xv=xt())),r&4&&rb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||d,sr(e,t),Yt=u):sr(e,t),Or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(c=ge=d;ge!==null;){switch(f=ge,h=f.child,f.tag){case 0:case 11:case 14:case 15:yl(4,f,f.return);break;case 1:Ds(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){bt(r,n,y)}}break;case 5:Ds(f,f.return);break;case 22:if(f.memoizedState!==null){ob(c);continue}}h!==null?(h.return=f,ge=h):ob(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nk("display",s))}catch(y){bt(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){bt(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:sr(e,t),Or(t),r&4&&rb(t);break;case 21:break;default:sr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TE(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rl(i,""),r.flags&=-33);var o=nb(t);ug(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nb(t);lg(t,a,s);break;default:throw Error(ae(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZN(t,e,n){ge=t,PE(t)}function PE(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||oc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=oc;var u=Yt;if(oc=s,(Yt=l)&&!u)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?sb(i):l!==null?(l.return=s,ge=l):sb(i);for(;o!==null;)ge=o,PE(o),o=o.sibling;ge=i,oc=a,Yt=u}ib(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):ib(t)}}function ib(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&z1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}z1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Bl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Yt||e.flags&512&&ag(e)}catch(f){bt(e,e.return,f)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function ob(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function sb(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var o=e.return;try{ag(e)}catch(l){bt(e,o,l)}break;case 5:var s=e.return;try{ag(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var eM=Math.ceil,_f=yi.ReactCurrentDispatcher,bv=yi.ReactCurrentOwner,er=yi.ReactCurrentBatchConfig,He=0,Dt=null,kt=null,Ht=0,Rn=0,Is=mo(0),_t=0,Gl=null,Ko=0,Cd=0,wv=0,vl=null,vn=null,xv=0,aa=1/0,Xr=null,Tf=!1,cg=null,Yi=null,sc=!1,Bi=null,Nf=0,bl=0,fg=null,qc=-1,Hc=0;function ln(){return He&6?xt():qc!==-1?qc:qc=xt()}function Xi(t){return t.mode&1?He&2&&Ht!==0?Ht&-Ht:BN.transition!==null?(Hc===0&&(Hc=mk()),Hc):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Sk(t.type)),t):1}function vr(t,e,n,r){if(50<bl)throw bl=0,fg=null,Error(ae(185));ku(t,n,r),(!(He&2)||t!==Dt)&&(t===Dt&&(!(He&2)&&(Cd|=n),_t===4&&Li(t,Ht)),Sn(t,r),n===1&&He===0&&!(e.mode&1)&&(aa=xt()+500,Sd&&go()))}function Sn(t,e){var n=t.callbackNode;BT(t,e);var r=hf(t,t===Dt?Ht:0);if(r===0)n!==null&&m1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m1(n),e===1)t.tag===0?IN(ab.bind(null,t)):zk(ab.bind(null,t)),PN(function(){!(He&6)&&go()}),n=null;else{switch(gk(r)){case 1:n=Ky;break;case 4:n=hk;break;case 16:n=df;break;case 536870912:n=pk;break;default:n=df}n=$E(n,RE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RE(t,e){if(qc=-1,Hc=0,He&6)throw Error(ae(327));var n=t.callbackNode;if(Ws()&&t.callbackNode!==n)return null;var r=hf(t,t===Dt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mf(t,r);else{e=r;var i=He;He|=2;var o=DE();(Dt!==t||Ht!==e)&&(Xr=null,aa=xt()+500,Do(t,e));do try{rM();break}catch(a){LE(t,a)}while(1);sv(),_f.current=o,He=i,kt!==null?e=0:(Dt=null,Ht=0,e=_t)}if(e!==0){if(e===2&&(i=Fm(t),i!==0&&(r=i,e=dg(t,i))),e===1)throw n=Gl,Do(t,0),Li(t,r),Sn(t,xt()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!tM(i)&&(e=Mf(t,r),e===2&&(o=Fm(t),o!==0&&(r=o,e=dg(t,o))),e===1))throw n=Gl,Do(t,0),Li(t,r),Sn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:So(t,vn,Xr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=xv+500-xt(),10<e)){if(hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wm(So.bind(null,t,vn,Xr),e);break}So(t,vn,Xr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-yr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eM(r/1960))-r,10<r){t.timeoutHandle=Wm(So.bind(null,t,vn,Xr),r);break}So(t,vn,Xr);break;case 5:So(t,vn,Xr);break;default:throw Error(ae(329))}}}return Sn(t,xt()),t.callbackNode===n?RE.bind(null,t):null}function dg(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Do(t,e).flags|=256),t=Mf(t,e),t!==2&&(e=vn,vn=n,e!==null&&hg(e)),t}function hg(t){vn===null?vn=t:vn.push.apply(vn,t)}function tM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Sr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~wv,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function ab(t){if(He&6)throw Error(ae(327));Ws();var e=hf(t,0);if(!(e&1))return Sn(t,xt()),null;var n=Mf(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Gl,Do(t,0),Li(t,e),Sn(t,xt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,vn,Xr),Sn(t,xt()),null}function Sv(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(aa=xt()+500,Sd&&go())}}function Go(t){Bi!==null&&Bi.tag===0&&!(He&6)&&Ws();var e=He;He|=1;var n=er.transition,r=Qe;try{if(er.transition=null,Qe=1,t)return t()}finally{Qe=r,er.transition=n,He=e,!(He&6)&&go()}}function kv(){Rn=Is.current,st(Is)}function Do(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MN(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vf();break;case 3:oa(),st(wn),st(nn),dv();break;case 5:fv(r);break;case 4:oa();break;case 13:st(ht);break;case 19:st(ht);break;case 10:av(r.type._context);break;case 22:case 23:kv()}n=n.return}if(Dt=t,kt=t=Zi(t.current,null),Ht=Rn=e,_t=0,Gl=null,wv=Cd=Ko=0,vn=vl=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return t}function LE(t,e){do{var n=kt;try{if(sv(),jc.current=Of,Cf){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cf=!1}if(Wo=0,Rt=Ct=gt=null,gl=!1,Ul=0,bv.current=null,n===null||n.return===null){_t=1,Gl=e,kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=G1(s);if(h!==null){h.flags&=-257,J1(h,s,a,o,e),h.mode&1&&K1(o,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){K1(o,u,e),Ev();break e}l=Error(ae(426))}}else if(ct&&a.mode&1){var g=G1(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),J1(g,s,a,o,e),iv(sa(l,a));break e}}o=l=sa(l,a),_t!==4&&(_t=2),vl===null?vl=[o]:vl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=yE(o,l,e);$1(o,b);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yi===null||!Yi.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=vE(o,a,e);$1(o,w);break e}}o=o.return}while(o!==null)}BE(n)}catch(x){e=x,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(1)}function DE(){var t=_f.current;return _f.current=Of,t===null?Of:t}function Ev(){(_t===0||_t===3||_t===2)&&(_t=4),Dt===null||!(Ko&268435455)&&!(Cd&268435455)||Li(Dt,Ht)}function Mf(t,e){var n=He;He|=2;var r=DE();(Dt!==t||Ht!==e)&&(Xr=null,Do(t,e));do try{nM();break}catch(i){LE(t,i)}while(1);if(sv(),He=n,_f.current=r,kt!==null)throw Error(ae(261));return Dt=null,Ht=0,_t}function nM(){for(;kt!==null;)IE(kt)}function rM(){for(;kt!==null&&!_T();)IE(kt)}function IE(t){var e=jE(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?BE(t):kt=e,bv.current=null}function BE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QN(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,kt=null;return}}else if(n=JN(n,e,Rn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);_t===0&&(_t=5)}function So(t,e,n){var r=Qe,i=er.transition;try{er.transition=null,Qe=1,iM(t,e,n,r)}finally{er.transition=i,Qe=r}return null}function iM(t,e,n,r){do Ws();while(Bi!==null);if(He&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FT(t,o),t===Dt&&(kt=Dt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,$E(df,function(){return Ws(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var s=Qe;Qe=1;var a=He;He|=4,bv.current=null,XN(t,n),ME(n,t),EN(Vm),pf=!!Hm,Vm=Hm=null,t.current=n,ZN(n),TT(),He=a,Qe=s,er.transition=o}else t.current=n;if(sc&&(sc=!1,Bi=t,Nf=i),o=t.pendingLanes,o===0&&(Yi=null),PT(n.stateNode),Sn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tf)throw Tf=!1,t=cg,cg=null,t;return Nf&1&&t.tag!==0&&Ws(),o=t.pendingLanes,o&1?t===fg?bl++:(bl=0,fg=t):bl=0,go(),null}function Ws(){if(Bi!==null){var t=gk(Nf),e=er.transition,n=Qe;try{if(er.transition=null,Qe=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,Nf=0,He&6)throw Error(ae(331));var i=He;for(He|=4,ge=t.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:yl(8,d,o)}var c=d.child;if(c!==null)c.return=d,ge=c;else for(;ge!==null;){d=ge;var f=d.sibling,h=d.return;if(_E(d),d===u){ge=null;break}if(f!==null){f.return=h,ge=f;break}ge=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ge=b;break e}ge=o.return}}var p=t.current;for(ge=p;ge!==null;){s=ge;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ge=v;else e:for(s=p;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ad(9,a)}}catch(x){bt(a,a.return,x)}if(a===s){ge=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ge=w;break e}ge=a.return}}if(He=i,go(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{Qe=n,er.transition=e}}return!1}function lb(t,e,n){e=sa(n,e),e=yE(t,e,1),t=Qi(t,e,1),e=ln(),t!==null&&(ku(t,1,e),Sn(t,e))}function bt(t,e,n){if(t.tag===3)lb(t,t,n);else for(;e!==null;){if(e.tag===3){lb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=sa(n,t),t=vE(e,t,1),e=Qi(e,t,1),t=ln(),e!==null&&(ku(e,1,t),Sn(e,t));break}}e=e.return}}function oM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Ht&n)===n&&(_t===4||_t===3&&(Ht&130023424)===Ht&&500>xt()-xv?Do(t,0):wv|=n),Sn(t,e)}function FE(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var n=ln();t=hi(t,e),t!==null&&(ku(t,e,n),Sn(t,n))}function sM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FE(t,n)}function aM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),FE(t,n)}var jE;jE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,GN(t,e,n);bn=!!(t.flags&131072)}else bn=!1,ct&&e.flags&1048576&&qk(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var i=na(e,nn.current);Us(e,n),i=pv(null,e,r,t,i,n);var o=mv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(o=!0,bf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uv(e),i.updater=kd,e.stateNode=i,i._reactInternals=e,Zm(e,r,t,n),e=ng(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&nv(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uM(r),t=ur(r,t),i){case 0:e=tg(null,e,r,t,n);break e;case 1:e=X1(null,e,r,t,n);break e;case 11:e=Q1(null,e,r,t,n);break e;case 14:e=Y1(null,e,r,ur(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),tg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),X1(t,e,r,i,n);case 3:e:{if(SE(e),t===null)throw Error(ae(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Wk(t,e),Ef(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=sa(Error(ae(423)),e),e=Z1(t,e,r,n,i);break e}else if(r!==i){i=sa(Error(ae(424)),e),e=Z1(t,e,r,n,i);break e}else for(Dn=Ji(e.stateNode.containerInfo.firstChild),Bn=e,ct=!0,fr=null,n=Qk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===i){e=pi(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return Yk(e),t===null&&Qm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Um(r,i)?s=null:o!==null&&Um(r,o)&&(e.flags|=32),xE(t,e),on(t,e,s,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return kE(t,e,n);case 4:return cv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ia(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Q1(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tt(Sf,r._currentValue),r._currentValue=s,o!==null)if(Sr(o.value,s)){if(o.children===i.children&&!wn.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ai(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ym(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ym(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=nr(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),Y1(t,e,r,i,n);case 15:return bE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),zc(t,e),e.tag=1,xn(r)?(t=!0,bf(e)):t=!1,Us(e,n),Gk(e,r,i),Zm(e,r,i,n),ng(null,e,r,!0,t,n);case 19:return EE(t,e,n);case 22:return wE(t,e,n)}throw Error(ae(156,e.tag))};function $E(t,e){return dk(t,e)}function lM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new lM(t,e,n,r)}function Av(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uM(t){if(typeof t=="function")return Av(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vy)return 11;if(t===Uy)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Av(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Cs:return Io(n.children,i,o,e);case Hy:s=8,i|=8;break;case km:return t=Xn(12,n,e,i|2),t.elementType=km,t.lanes=o,t;case Em:return t=Xn(13,n,e,i),t.elementType=Em,t.lanes=o,t;case Am:return t=Xn(19,n,e,i),t.elementType=Am,t.lanes=o,t;case JS:return Od(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KS:s=10;break e;case GS:s=9;break e;case Vy:s=11;break e;case Uy:s=14;break e;case Ti:s=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Xn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Io(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Od(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=JS,t.lanes=n,t.stateNode={isHidden:!1},t}function gp(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cv(t,e,n,r,i,o,s,a,l){return t=new cM(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uv(o),t}function fM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zE(t){if(!t)return so;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(xn(n))return $k(t,n,e)}return e}function qE(t,e,n,r,i,o,s,a,l){return t=Cv(n,r,!0,t,i,o,s,a,l),t.context=zE(null),n=t.current,r=ln(),i=Xi(n),o=ai(r,i),o.callback=e??null,Qi(n,o,i),t.current.lanes=i,ku(t,i,r),Sn(t,r),t}function _d(t,e,n,r){var i=e.current,o=ln(),s=Xi(i);return n=zE(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qi(i,e,s),t!==null&&(vr(t,i,s,o),Fc(t,i,s)),s}function Pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ov(t,e){ub(t,e),(t=t.alternate)&&ub(t,e)}function dM(){return null}var HE=typeof reportError=="function"?reportError:function(t){console.error(t)};function _v(t){this._internalRoot=t}Td.prototype.render=_v.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));_d(t,e,null,null)};Td.prototype.unmount=_v.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){_d(null,t,null,null)}),e[di]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=bk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&xk(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cb(){}function hM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Pf(s);o.call(u)}}var s=qE(e,r,t,0,null,!1,!1,"",cb);return t._reactRootContainer=s,t[di]=s.current,$l(t.nodeType===8?t.parentNode:t),Go(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Pf(l);a.call(u)}}var l=Cv(t,0,!1,null,null,!1,!1,"",cb);return t._reactRootContainer=l,t[di]=l.current,$l(t.nodeType===8?t.parentNode:t),Go(function(){_d(e,l,n,r)}),l}function Md(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Pf(s);a.call(l)}}_d(e,s,t,i)}else s=hM(n,e,t,i,r);return Pf(s)}yk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(Gy(e,n|1),Sn(e,xt()),!(He&6)&&(aa=xt()+500,go()))}break;case 13:Go(function(){var r=hi(t,1);if(r!==null){var i=ln();vr(r,t,1,i)}}),Ov(t,1)}};Jy=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=ln();vr(e,t,134217728,n)}Ov(t,134217728)}};vk=function(t){if(t.tag===13){var e=Xi(t),n=hi(t,e);if(n!==null){var r=ln();vr(n,t,e,r)}Ov(t,e)}};bk=function(){return Qe};wk=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Dm=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xd(r);if(!i)throw Error(ae(90));YS(r),_m(r,i)}}}break;case"textarea":ZS(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};sk=Sv;ak=Go;var pM={usingClientEntryPoint:!1,Events:[Au,Ns,xd,ik,ok,Sv]},Ha={findFiberByHostInstance:To,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mM={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ck(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||dM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{yd=ac.inject(mM),$r=ac}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(ae(200));return fM(t,e,null,n)};zn.createRoot=function(t,e){if(!Tv(t))throw Error(ae(299));var n=!1,r="",i=HE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cv(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,$l(t.nodeType===8?t.parentNode:t),new _v(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=ck(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return Go(t)};zn.hydrate=function(t,e,n){if(!Nd(e))throw Error(ae(200));return Md(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=HE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=qE(e,null,t,1,n??null,i,!1,o,s),t[di]=e.current,$l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Td(e)};zn.render=function(t,e,n){if(!Nd(e))throw Error(ae(200));return Md(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(ae(40));return t._reactRootContainer?(Go(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};zn.unstable_batchedUpdates=Sv;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Md(t,e,n,!1,r)};zn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=zn})(dT);const gM=Dy(Ho);var fb=Ho;wm.createRoot=fb.createRoot,wm.hydrateRoot=fb.hydrateRoot;const yM="_root_37k1h_1",vM="_capture_37k1h_6",bM="_cross_37k1h_18",wM="_records_37k1h_45",xM="_item_37k1h_45",SM="_copyBtn_37k1h_56",kM="_snapBtn_37k1h_60",wo={root:yM,capture:vM,cross:bM,records:wM,item:xM,copyBtn:SM,snapBtn:kM},EM=/^\s+/,AM=/\s+$/;function we(t,e){if(t=t||"",e=e||{},t instanceof we)return t;if(!(this instanceof we))return new we(t,e);var n=CM(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}we.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,n,r,i,o,s;return e=t.r/255,n=t.g/255,r=t.b/255,e<=.03928?i=e/12.92:i=Math.pow((e+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=VE(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=hb(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=hb(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=db(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=db(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return pb(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return NM(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ut(this._r,255)*100)+"%",g:Math.round(ut(this._g,255)*100)+"%",b:Math.round(ut(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ut(this._r,255)*100)+"%, "+Math.round(ut(this._g,255)*100)+"%, "+Math.round(ut(this._b,255)*100)+"%)":"rgba("+Math.round(ut(this._r,255)*100)+"%, "+Math.round(ut(this._g,255)*100)+"%, "+Math.round(ut(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:qM[pb(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+mb(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=we(t);n="#"+mb(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return we(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(LM,arguments)},brighten:function(){return this._applyModification(DM,arguments)},darken:function(){return this._applyModification(IM,arguments)},desaturate:function(){return this._applyModification(MM,arguments)},saturate:function(){return this._applyModification(PM,arguments)},greyscale:function(){return this._applyModification(RM,arguments)},spin:function(){return this._applyModification(BM,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination($M,arguments)},complement:function(){return this._applyCombination(FM,arguments)},monochromatic:function(){return this._applyCombination(zM,arguments)},splitcomplement:function(){return this._applyCombination(jM,arguments)},triad:function(){return this._applyCombination(gb,[3])},tetrad:function(){return this._applyCombination(gb,[4])}};we.fromRatio=function(t,e){if(typeof t=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=il(t[r]));t=n}return we(t,e)};function CM(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=WM(t)),typeof t=="object"&&(Gr(t.r)&&Gr(t.g)&&Gr(t.b)?(e=OM(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Gr(t.h)&&Gr(t.s)&&Gr(t.v)?(r=il(t.s),i=il(t.v),e=TM(t.h,r,i),s=!0,a="hsv"):Gr(t.h)&&Gr(t.s)&&Gr(t.l)&&(r=il(t.s),o=il(t.l),e=_M(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=VE(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function OM(t,e,n){return{r:ut(t,255)*255,g:ut(e,255)*255,b:ut(n,255)*255}}function db(t,e,n){t=ut(t,255),e=ut(e,255),n=ut(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function _M(t,e,n){var r,i,o;t=ut(t,360),e=ut(e,100),n=ut(n,100);function s(u,d,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(d-u)*6*c:c<1/2?d:c<2/3?u+(d-u)*(2/3-c)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function hb(t,e,n){t=ut(t,255),e=ut(e,255),n=ut(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function TM(t,e,n){t=ut(t,360)*6,e=ut(e,100),n=ut(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],d=[a,n,n,s,o,o][l],c=[o,o,a,n,n,s][l];return{r:u*255,g:d*255,b:c*255}}function pb(t,e,n,r){var i=[mr(Math.round(t).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function NM(t,e,n,r,i){var o=[mr(Math.round(t).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(n).toString(16)),mr(UE(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function mb(t,e,n,r){var i=[mr(UE(r)),mr(Math.round(t).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(n).toString(16))];return i.join("")}we.equals=function(t,e){return!t||!e?!1:we(t).toRgbString()==we(e).toRgbString()};we.random=function(){return we.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function MM(t,e){e=e===0?0:e||10;var n=we(t).toHsl();return n.s-=e/100,n.s=Pd(n.s),we(n)}function PM(t,e){e=e===0?0:e||10;var n=we(t).toHsl();return n.s+=e/100,n.s=Pd(n.s),we(n)}function RM(t){return we(t).desaturate(100)}function LM(t,e){e=e===0?0:e||10;var n=we(t).toHsl();return n.l+=e/100,n.l=Pd(n.l),we(n)}function DM(t,e){e=e===0?0:e||10;var n=we(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),we(n)}function IM(t,e){e=e===0?0:e||10;var n=we(t).toHsl();return n.l-=e/100,n.l=Pd(n.l),we(n)}function BM(t,e){var n=we(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,we(n)}function FM(t){var e=we(t).toHsl();return e.h=(e.h+180)%360,we(e)}function gb(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=we(t).toHsl(),r=[we(t)],i=360/e,o=1;o<e;o++)r.push(we({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function jM(t){var e=we(t).toHsl(),n=e.h;return[we(t),we({h:(n+72)%360,s:e.s,l:e.l}),we({h:(n+216)%360,s:e.s,l:e.l})]}function $M(t,e,n){e=e||6,n=n||30;var r=we(t).toHsl(),i=360/n,o=[we(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(we(r));return o}function zM(t,e){e=e||6;for(var n=we(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(we({h:r,s:i,v:o})),o=(o+a)%1;return s}we.mix=function(t,e,n){n=n===0?0:n||50;var r=we(t).toRgb(),i=we(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return we(s)};we.readability=function(t,e){var n=we(t),r=we(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};we.isReadable=function(t,e,n){var r=we.readability(t,e),i,o;switch(o=!1,i=KM(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};we.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=we.readability(t,e[u]),o>i&&(i=o,r=we(e[u]));return we.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,we.mostReadable(t,["#fff","#000"],n))};var pg=we.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},qM=we.hexNames=HM(pg);function HM(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function VE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ut(t,e){VM(t)&&(t="100%");var n=UM(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Pd(t){return Math.min(1,Math.max(0,t))}function Nn(t){return parseInt(t,16)}function VM(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function UM(t){return typeof t=="string"&&t.indexOf("%")!=-1}function mr(t){return t.length==1?"0"+t:""+t}function il(t){return t<=1&&(t=t*100+"%"),t}function UE(t){return Math.round(parseFloat(t)*255).toString(16)}function yb(t){return Nn(t)/255}var ar=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Gr(t){return!!ar.CSS_UNIT.exec(t)}function WM(t){t=t.replace(EM,"").replace(AM,"").toLowerCase();var e=!1;if(pg[t])t=pg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ar.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ar.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ar.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ar.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ar.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ar.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ar.hex8.exec(t))?{r:Nn(n[1]),g:Nn(n[2]),b:Nn(n[3]),a:yb(n[4]),format:e?"name":"hex8"}:(n=ar.hex6.exec(t))?{r:Nn(n[1]),g:Nn(n[2]),b:Nn(n[3]),format:e?"name":"hex"}:(n=ar.hex4.exec(t))?{r:Nn(n[1]+""+n[1]),g:Nn(n[2]+""+n[2]),b:Nn(n[3]+""+n[3]),a:yb(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ar.hex3.exec(t))?{r:Nn(n[1]+""+n[1]),g:Nn(n[2]+""+n[2]),b:Nn(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function KM(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var mg={},GM={get exports(){return mg},set exports(t){mg=t}};(function(t,e){(function(n,r){t.exports=r(n)})(typeof it<"u"?it:window||it.window||it.global,function(n){var r={},i="iziToast";document.querySelector("body");var o=!!/Mobi/.test(navigator.userAgent),s=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),a=typeof InstallTrigger<"u",l="ontouchstart"in document.documentElement,u=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],d={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},c=568,f={};r.children={};var h={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var m=function(S,E){E=E||{bubbles:!1,cancelable:!1,detail:void 0};var k=document.createEvent("CustomEvent");return k.initCustomEvent(S,E.bubbles,E.cancelable,E.detail),k};m.prototype=window.Event.prototype,window.CustomEvent=m}var y=function(S,E,k){if(Object.prototype.toString.call(S)==="[object Object]")for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&E.call(k,S[A],A,S);else if(S)for(var C=0,_=S.length;C<_;C++)E.call(k,S[C],C,S)},g=function(S,E){var k={};return y(S,function(A,C){k[C]=S[C]}),y(E,function(A,C){k[C]=E[C]}),k},b=function(S){var E=document.createDocumentFragment(),k=document.createElement("div");for(k.innerHTML=S;k.firstChild;)E.appendChild(k.firstChild);return E},p=function(S){var E=btoa(encodeURIComponent(S));return E.replace(/=/g,"")},v=function(S){return S.substring(0,1)=="#"||S.substring(0,3)=="rgb"||S.substring(0,3)=="hsl"},w=function(S){try{return btoa(atob(S))==S}catch{return!1}},x=function(){return{move:function(S,E,k,A){var C,_=.3,O=180;A!==0&&(S.classList.add(i+"-dragged"),S.style.transform="translateX("+A+"px)",A>0?(C=(O-A)/O,C<_&&E.hide(g(k,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),S,"drag")):(C=(O+A)/O,C<_&&E.hide(g(k,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),S,"drag")),S.style.opacity=C,C<_&&((s||a)&&(S.style.left=A+"px"),S.parentNode.style.opacity=_,this.stopMoving(S,null)))},startMoving:function(S,E,k,A){A=A||window.event;var C=l?A.touches[0].clientX:A.clientX,_=S.style.transform.replace("px)","");_=_.replace("translateX(","");var O=C-_;k.transitionIn&&S.classList.remove(k.transitionIn),k.transitionInMobile&&S.classList.remove(k.transitionInMobile),S.style.transition="",l?document.ontouchmove=function(M){M.preventDefault(),M=M||window.event;var T=M.touches[0].clientX,N=T-O;x.move(S,E,k,N)}:document.onmousemove=function(M){M.preventDefault(),M=M||window.event;var T=M.clientX,N=T-O;x.move(S,E,k,N)}},stopMoving:function(S,E){l?document.ontouchmove=function(){}:document.onmousemove=function(){},S.style.opacity="",S.style.transform="",S.classList.contains(i+"-dragged")&&(S.classList.remove(i+"-dragged"),S.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){S.style.transition=""},400))}}}();return r.setSetting=function(S,E,k){r.children[S][E]=k},r.getSetting=function(S,E){return r.children[S][E]},r.destroy=function(){y(document.querySelectorAll("."+i+"-overlay"),function(S,E){S.remove()}),y(document.querySelectorAll("."+i+"-wrapper"),function(S,E){S.remove()}),y(document.querySelectorAll("."+i),function(S,E){S.remove()}),this.children={},document.removeEventListener(i+"-opened",{},!1),document.removeEventListener(i+"-opening",{},!1),document.removeEventListener(i+"-closing",{},!1),document.removeEventListener(i+"-closed",{},!1),document.removeEventListener("keyup",{},!1),f={}},r.settings=function(S){r.destroy(),f=S,h=g(h,S||{})},y(d,function(S,E){r[E]=function(k){var A=g(f,k||{});A=g(S,A||{}),this.show(A)}}),r.progress=function(S,E,k){var A=this,C=E.getAttribute("data-iziToast-ref"),_=g(this.children[C],S||{}),O=E.querySelector("."+i+"-progressbar div");return{start:function(){typeof _.time.REMAINING>"u"&&(E.classList.remove(i+"-reseted"),O!==null&&(O.style.transition="width "+_.timeout+"ms "+_.progressBarEasing,O.style.width="0%"),_.time.START=new Date().getTime(),_.time.END=_.time.START+_.timeout,_.time.TIMER=setTimeout(function(){clearTimeout(_.time.TIMER),E.classList.contains(i+"-closing")||(A.hide(_,E,"timeout"),typeof k=="function"&&k.apply(A))},_.timeout),A.setSetting(C,"time",_.time))},pause:function(){if(typeof _.time.START<"u"&&!E.classList.contains(i+"-paused")&&!E.classList.contains(i+"-reseted")){if(E.classList.add(i+"-paused"),_.time.REMAINING=_.time.END-new Date().getTime(),clearTimeout(_.time.TIMER),A.setSetting(C,"time",_.time),O!==null){var M=window.getComputedStyle(O),T=M.getPropertyValue("width");O.style.transition="none",O.style.width=T}typeof k=="function"&&setTimeout(function(){k.apply(A)},10)}},resume:function(){typeof _.time.REMAINING<"u"?(E.classList.remove(i+"-paused"),O!==null&&(O.style.transition="width "+_.time.REMAINING+"ms "+_.progressBarEasing,O.style.width="0%"),_.time.END=new Date().getTime()+_.time.REMAINING,_.time.TIMER=setTimeout(function(){clearTimeout(_.time.TIMER),E.classList.contains(i+"-closing")||(A.hide(_,E,"timeout"),typeof k=="function"&&k.apply(A))},_.time.REMAINING),A.setSetting(C,"time",_.time)):this.start()},reset:function(){clearTimeout(_.time.TIMER),delete _.time.REMAINING,A.setSetting(C,"time",_.time),E.classList.add(i+"-reseted"),E.classList.remove(i+"-paused"),O!==null&&(O.style.transition="none",O.style.width="100%"),typeof k=="function"&&setTimeout(function(){k.apply(A)},10)}}},r.hide=function(S,E,k){typeof E!="object"&&(E=document.querySelector(E));var A=this,C=g(this.children[E.getAttribute("data-iziToast-ref")],S||{});C.closedBy=k||null,delete C.time.REMAINING,E.classList.add(i+"-closing"),function(){var M=document.querySelector("."+i+"-overlay");if(M!==null){var T=M.getAttribute("data-iziToast-ref");T=T.split(",");var N=T.indexOf(String(C.ref));N!==-1&&T.splice(N,1),M.setAttribute("data-iziToast-ref",T.join()),T.length===0&&(M.classList.remove("fadeIn"),M.classList.add("fadeOut"),setTimeout(function(){M.remove()},700))}}(),C.transitionIn&&E.classList.remove(C.transitionIn),C.transitionInMobile&&E.classList.remove(C.transitionInMobile),o||window.innerWidth<=c?C.transitionOutMobile&&E.classList.add(C.transitionOutMobile):C.transitionOut&&E.classList.add(C.transitionOut);var _=E.parentNode.offsetHeight;E.parentNode.style.height=_+"px",E.style.pointerEvents="none",(!o||window.innerWidth>c)&&(E.parentNode.style.transitionDelay="0.2s");try{var O=new CustomEvent(i+"-closing",{detail:C,bubbles:!0,cancelable:!0});document.dispatchEvent(O)}catch(M){console.warn(M)}setTimeout(function(){E.parentNode.style.height="0px",E.parentNode.style.overflow="",setTimeout(function(){delete A.children[C.ref],E.parentNode.remove();try{var M=new CustomEvent(i+"-closed",{detail:C,bubbles:!0,cancelable:!0});document.dispatchEvent(M)}catch(T){console.warn(T)}typeof C.onClosed<"u"&&C.onClosed.apply(null,[C,E,k])},1e3)},200),typeof C.onClosing<"u"&&C.onClosing.apply(null,[C,E,k])},r.show=function(S){var E=this,k=g(f,S||{});if(k=g(h,k),k.time={},k.id===null&&(k.id=p(k.title+k.message+k.color)),k.displayMode===1||k.displayMode=="once")try{if(document.querySelectorAll("."+i+"#"+k.id).length>0)return!1}catch{console.warn("["+i+"] Could not find an element with this selector: #"+k.id+". Try to set an valid id.")}if(k.displayMode===2||k.displayMode=="replace")try{y(document.querySelectorAll("."+i+"#"+k.id),function(O,M){E.hide(k,O,"replaced")})}catch{console.warn("["+i+"] Could not find an element with this selector: #"+k.id+". Try to set an valid id.")}k.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),r.children[k.ref]=k;var A={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:k.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};A.toast.setAttribute("data-iziToast-ref",k.ref),A.toast.appendChild(A.toastBody),A.toastCapsule.appendChild(A.toast),function(){if(A.toast.classList.add(i),A.toast.classList.add(i+"-opening"),A.toastCapsule.classList.add(i+"-capsule"),A.toastBody.classList.add(i+"-body"),A.toastTexts.classList.add(i+"-texts"),o||window.innerWidth<=c?k.transitionInMobile&&A.toast.classList.add(k.transitionInMobile):k.transitionIn&&A.toast.classList.add(k.transitionIn),k.class){var O=k.class.split(" ");y(O,function(M,T){A.toast.classList.add(M)})}k.id&&(A.toast.id=k.id),k.rtl&&(A.toast.classList.add(i+"-rtl"),A.toast.setAttribute("dir","rtl")),k.layout>1&&A.toast.classList.add(i+"-layout"+k.layout),k.balloon&&A.toast.classList.add(i+"-balloon"),k.maxWidth&&(isNaN(k.maxWidth)?A.toast.style.maxWidth=k.maxWidth:A.toast.style.maxWidth=k.maxWidth+"px"),(k.theme!==""||k.theme!=="light")&&A.toast.classList.add(i+"-theme-"+k.theme),k.color&&(v(k.color)?A.toast.style.background=k.color:A.toast.classList.add(i+"-color-"+k.color)),k.backgroundColor&&(A.toast.style.background=k.backgroundColor,k.balloon&&(A.toast.style.borderColor=k.backgroundColor))}(),function(){k.image&&(A.cover.classList.add(i+"-cover"),A.cover.style.width=k.imageWidth+"px",w(k.image.replace(/ /g,""))?A.cover.style.backgroundImage="url(data:image/png;base64,"+k.image.replace(/ /g,"")+")":A.cover.style.backgroundImage="url("+k.image+")",k.rtl?A.toastBody.style.marginRight=k.imageWidth+10+"px":A.toastBody.style.marginLeft=k.imageWidth+10+"px",A.toast.appendChild(A.cover))}(),function(){k.close?(A.buttonClose=document.createElement("button"),A.buttonClose.type="button",A.buttonClose.classList.add(i+"-close"),A.buttonClose.addEventListener("click",function(O){O.target,E.hide(k,A.toast,"button")}),A.toast.appendChild(A.buttonClose)):k.rtl?A.toast.style.paddingLeft="18px":A.toast.style.paddingRight="18px"}(),function(){k.progressBar&&(A.progressBar=document.createElement("div"),A.progressBarDiv=document.createElement("div"),A.progressBar.classList.add(i+"-progressbar"),A.progressBarDiv.style.background=k.progressBarColor,A.progressBar.appendChild(A.progressBarDiv),A.toast.appendChild(A.progressBar)),k.timeout&&(k.pauseOnHover&&!k.resetOnHover&&(A.toast.addEventListener("mouseenter",function(O){E.progress(k,A.toast).pause()}),A.toast.addEventListener("mouseleave",function(O){E.progress(k,A.toast).resume()})),k.resetOnHover&&(A.toast.addEventListener("mouseenter",function(O){E.progress(k,A.toast).reset()}),A.toast.addEventListener("mouseleave",function(O){E.progress(k,A.toast).start()})))}(),function(){k.iconUrl?(A.icon.setAttribute("class",i+"-icon"),A.icon.setAttribute("src",k.iconUrl)):k.icon&&(A.icon.setAttribute("class",i+"-icon "+k.icon),k.iconText&&A.icon.appendChild(document.createTextNode(k.iconText)),k.iconColor&&(A.icon.style.color=k.iconColor)),(k.icon||k.iconUrl)&&(k.rtl?A.toastBody.style.paddingRight="33px":A.toastBody.style.paddingLeft="33px",A.toastBody.appendChild(A.icon))}(),function(){k.title.length>0&&(A.strong=document.createElement("strong"),A.strong.classList.add(i+"-title"),A.strong.appendChild(b(k.title)),A.toastTexts.appendChild(A.strong),k.titleColor&&(A.strong.style.color=k.titleColor),k.titleSize&&(isNaN(k.titleSize)?A.strong.style.fontSize=k.titleSize:A.strong.style.fontSize=k.titleSize+"px"),k.titleLineHeight&&(isNaN(k.titleSize)?A.strong.style.lineHeight=k.titleLineHeight:A.strong.style.lineHeight=k.titleLineHeight+"px")),k.message.length>0&&(A.p=document.createElement("p"),A.p.classList.add(i+"-message"),A.p.appendChild(b(k.message)),A.toastTexts.appendChild(A.p),k.messageColor&&(A.p.style.color=k.messageColor),k.messageSize&&(isNaN(k.titleSize)?A.p.style.fontSize=k.messageSize:A.p.style.fontSize=k.messageSize+"px"),k.messageLineHeight&&(isNaN(k.titleSize)?A.p.style.lineHeight=k.messageLineHeight:A.p.style.lineHeight=k.messageLineHeight+"px")),k.title.length>0&&k.message.length>0&&(k.rtl?A.strong.style.marginLeft="10px":k.layout!==2&&!k.rtl&&(A.strong.style.marginRight="10px"))}(),A.toastBody.appendChild(A.toastTexts);var C;(function(){k.inputs.length>0&&(A.inputs.classList.add(i+"-inputs"),y(k.inputs,function(O,M){A.inputs.appendChild(b(O[0])),C=A.inputs.childNodes,C[M].classList.add(i+"-inputs-child"),O[3]&&setTimeout(function(){C[M].focus()},300),C[M].addEventListener(O[1],function(T){var N=O[2];return N(E,A.toast,this,T)})}),A.toastBody.appendChild(A.inputs))})(),function(){k.buttons.length>0&&(A.buttons.classList.add(i+"-buttons"),y(k.buttons,function(O,M){A.buttons.appendChild(b(O[0]));var T=A.buttons.childNodes;T[M].classList.add(i+"-buttons-child"),O[2]&&setTimeout(function(){T[M].focus()},300),T[M].addEventListener("click",function(N){N.preventDefault();var P=O[1];return P(E,A.toast,this,N,C)})})),A.toastBody.appendChild(A.buttons)}(),k.message.length>0&&(k.inputs.length>0||k.buttons.length>0)&&(A.p.style.marginBottom="0"),(k.inputs.length>0||k.buttons.length>0)&&(k.rtl?A.toastTexts.style.marginLeft="10px":A.toastTexts.style.marginRight="10px",k.inputs.length>0&&k.buttons.length>0&&(k.rtl?A.inputs.style.marginLeft="8px":A.inputs.style.marginRight="8px")),function(){A.toastCapsule.style.visibility="hidden",setTimeout(function(){var O=A.toast.offsetHeight,M=A.toast.currentStyle||window.getComputedStyle(A.toast),T=M.marginTop;T=T.split("px"),T=parseInt(T[0]);var N=M.marginBottom;N=N.split("px"),N=parseInt(N[0]),A.toastCapsule.style.visibility="",A.toastCapsule.style.height=O+N+T+"px",setTimeout(function(){A.toastCapsule.style.height="auto",k.target&&(A.toastCapsule.style.overflow="visible")},500),k.timeout&&E.progress(k,A.toast).start()},100)}(),function(){var O=k.position;if(k.target)A.wrapper=document.querySelector(k.target),A.wrapper.classList.add(i+"-target"),k.targetFirst?A.wrapper.insertBefore(A.toastCapsule,A.wrapper.firstChild):A.wrapper.appendChild(A.toastCapsule);else{if(u.indexOf(k.position)==-1){console.warn("["+i+`] Incorrect position.
It can be  `+u);return}o||window.innerWidth<=c?k.position=="bottomLeft"||k.position=="bottomRight"||k.position=="bottomCenter"?O=i+"-wrapper-bottomCenter":k.position=="topLeft"||k.position=="topRight"||k.position=="topCenter"?O=i+"-wrapper-topCenter":O=i+"-wrapper-center":O=i+"-wrapper-"+O,A.wrapper=document.querySelector("."+i+"-wrapper."+O),A.wrapper||(A.wrapper=document.createElement("div"),A.wrapper.classList.add(i+"-wrapper"),A.wrapper.classList.add(O),document.body.appendChild(A.wrapper)),k.position=="topLeft"||k.position=="topCenter"||k.position=="topRight"?A.wrapper.insertBefore(A.toastCapsule,A.wrapper.firstChild):A.wrapper.appendChild(A.toastCapsule)}isNaN(k.zindex)?console.warn("["+i+"] Invalid zIndex."):A.wrapper.style.zIndex=k.zindex}(),function(){k.overlay&&(document.querySelector("."+i+"-overlay.fadeIn")!==null?(A.overlay=document.querySelector("."+i+"-overlay"),A.overlay.setAttribute("data-iziToast-ref",A.overlay.getAttribute("data-iziToast-ref")+","+k.ref),!isNaN(k.zindex)&&k.zindex!==null&&(A.overlay.style.zIndex=k.zindex-1)):(A.overlay.classList.add(i+"-overlay"),A.overlay.classList.add("fadeIn"),A.overlay.style.background=k.overlayColor,A.overlay.setAttribute("data-iziToast-ref",k.ref),!isNaN(k.zindex)&&k.zindex!==null&&(A.overlay.style.zIndex=k.zindex-1),document.querySelector("body").appendChild(A.overlay)),k.overlayClose?(A.overlay.removeEventListener("click",{}),A.overlay.addEventListener("click",function(O){E.hide(k,A.toast,"overlay")})):A.overlay.removeEventListener("click",{}))}(),function(){if(k.animateInside){A.toast.classList.add(i+"-animateInside");var O=[200,100,300];(k.transitionIn=="bounceInLeft"||k.transitionIn=="bounceInRight")&&(O=[400,200,400]),k.title.length>0&&setTimeout(function(){A.strong.classList.add("slideIn")},O[0]),k.message.length>0&&setTimeout(function(){A.p.classList.add("slideIn")},O[1]),(k.icon||k.iconUrl)&&setTimeout(function(){A.icon.classList.add("revealIn")},O[2]);var M=150;k.buttons.length>0&&A.buttons&&setTimeout(function(){y(A.buttons.childNodes,function(T,N){setTimeout(function(){T.classList.add("revealIn")},M),M=M+150})},k.inputs.length>0?150:0),k.inputs.length>0&&A.inputs&&(M=150,y(A.inputs.childNodes,function(T,N){setTimeout(function(){T.classList.add("revealIn")},M),M=M+150}))}}(),k.onOpening.apply(null,[k,A.toast]);try{var _=new CustomEvent(i+"-opening",{detail:k,bubbles:!0,cancelable:!0});document.dispatchEvent(_)}catch(O){console.warn(O)}setTimeout(function(){A.toast.classList.remove(i+"-opening"),A.toast.classList.add(i+"-opened");try{var O=new CustomEvent(i+"-opened",{detail:k,bubbles:!0,cancelable:!0});document.dispatchEvent(O)}catch(M){console.warn(M)}k.onOpened.apply(null,[k,A.toast])},1e3),k.drag&&(l?(A.toast.addEventListener("touchstart",function(O){x.startMoving(this,E,k,O)},!1),A.toast.addEventListener("touchend",function(O){x.stopMoving(this,O)},!1)):(A.toast.addEventListener("mousedown",function(O){O.preventDefault(),x.startMoving(this,E,k,O)},!1),A.toast.addEventListener("mouseup",function(O){O.preventDefault(),x.stopMoving(this,O)},!1))),k.closeOnEscape&&document.addEventListener("keyup",function(O){O=O||window.event,O.keyCode==27&&E.hide(k,A.toast,"esc")}),k.closeOnClick&&A.toast.addEventListener("click",function(O){E.hide(k,A.toast,"toast")}),E.toast=A.toast},r})})(GM);const vb=mg;function JM(){const t=U.useRef(null),e=U.useRef(null),n=U.useRef(),[r,i]=U.useState([]);return U.useEffect(()=>{document.title="";var o=t.current;n.current=o.getContext("2d");var s=e.current;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.enumerateDevices().then(a=>{console.log(a.filter(l=>l.kind=="videoinput")),navigator.mediaDevices.getUserMedia({video:{width:320,height:320,deviceId:a.filter(l=>l.kind=="videoinput").slice(-1)[0].deviceId}}).then(function(l){l.addEventListener("addtrack",console.log),l.addEventListener("removetrack",console.log),s.srcObject=l,s.play().catch(console.error);let u=window;u.video=s,u.stream=l}).catch(console.error)})},[]),pt("div",{className:wo.root,children:[pt("div",{className:wo.capture,children:[oe("video",{ref:e,width:"320",height:"320",autoPlay:!0}),oe("div",{className:wo.cross})]}),oe("button",{className:wo.snapBtn,onClick:o=>{let s=n.current;s.clearRect(0,0,320,320),s.drawImage(e.current,0,0,320,320);let a=s.getImageData(320/2,320/2,1,1),l=we({r:a.data[0],g:a.data[1],b:a.data[2],a:a.data[3]});i([{time:new Date,color:l.toRgbString(),hsl:l.toHslString()},...r]),console.log(a,l)},children:""}),oe("div",{className:wo.records,children:r.map((o,s)=>pt("div",{className:wo.item,children:[oe("span",{children:o.time.toLocaleString()}),oe("i",{style:{backgroundColor:o.color}}),oe("span",{children:o.hsl}),oe("button",{className:wo.copyBtn,onClick:a=>{navigator.clipboard.writeText(`${o.time.toLocaleString()} ${o.color} ${o.hsl}`).then(()=>{vb.success({title:""})}).catch(l=>{console.error(l),vb.error({title:":"+l.message})})},children:""})]},s))}),oe("canvas",{ref:t,style:{position:"absolute",left:"-100%"},width:"320",height:"320"})]})}/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const bb="popstate";function QM(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=us(i.location.hash.substr(1));return gg("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Rf(o))}function r(i,o){YM(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return ZM(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XM(){return Math.random().toString(36).substr(2,8)}function wb(t,e){return{usr:t.state,key:t.key,idx:e}}function gg(t,e,n,r){return n===void 0&&(n=null),Jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?us(e):e,{state:n,key:e&&e.key||r||XM()})}function Rf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Jl({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){a=Fi.Pop;let g=d(),b=g==null?null:g-u;u=g,l&&l({action:a,location:y.location,delta:b})}function f(g,b){a=Fi.Push;let p=gg(y.location,g,b);n&&n(p,g),u=d()+1;let v=wb(p,u),w=y.createHref(p);try{s.pushState(v,"",w)}catch{i.location.assign(w)}o&&l&&l({action:a,location:y.location,delta:1})}function h(g,b){a=Fi.Replace;let p=gg(y.location,g,b);n&&n(p,g),u=d();let v=wb(p,u),w=y.createHref(p);s.replaceState(v,"",w),o&&l&&l({action:a,location:y.location,delta:0})}function m(g){let b=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof g=="string"?g:Rf(g);return Nt(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let y={get action(){return a},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bb,c),l=g,()=>{i.removeEventListener(bb,c),l=null}},createHref(g){return e(i,g)},createURL:m,encodeLocation(g){let b=m(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(g){return s.go(g)}};return y}var xb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xb||(xb={}));function eP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?us(e):e,i=GE(r.pathname||"/",n);if(i==null)return null;let o=WE(t);tP(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=cP(o[a],hP(i));return s}function WE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=eo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WE(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:lP(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of KE(o.path))i(o,s,l)}),e}function KE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=KE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nP=/^:\w+$/,rP=3,iP=2,oP=1,sP=10,aP=-2,Sb=t=>t==="*";function lP(t,e){let n=t.split("/"),r=n.length;return n.some(Sb)&&(r+=aP),e&&(r+=iP),n.filter(i=>!Sb(i)).reduce((i,o)=>i+(nP.test(o)?rP:o===""?oP:sP),r)}function uP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cP(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=fP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let c=a.route;o.push({params:r,pathname:eo([i,d.pathname]),pathnameBase:yP(eo([i,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(i=eo([i,d.pathnameBase]))}return o}function fP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,c)=>{if(d==="*"){let f=a[c]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=pP(a[c]||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function dP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hP(t){try{return decodeURI(t)}catch(e){return Nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pP(t,e){try{return decodeURIComponent(t)}catch(n){return Nv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function GE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?us(t):t;return{pathname:n?n.startsWith("/")?n:gP(n,e):e,search:vP(r),hash:bP(i)}}function gP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=us(t):(i=Jl({},t),Nt(!i.pathname||!i.pathname.includes("?"),vp("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),vp("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),vp("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let c=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=mP(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const eo=t=>t.join("/").replace(/\/\/+/g,"/"),yP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xP=["post","put","patch","delete"];[...xP];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function SP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const kP=typeof Object.is=="function"?Object.is:SP,{useState:EP,useEffect:AP,useLayoutEffect:CP,useDebugValue:OP}=bm;function _P(t,e,n){const r=e(),[{inst:i},o]=EP({inst:{value:r,getSnapshot:e}});return CP(()=>{i.value=r,i.getSnapshot=e,bp(i)&&o({inst:i})},[t,r,e]),AP(()=>(bp(i)&&o({inst:i}),t(()=>{bp(i)&&o({inst:i})})),[t]),OP(r),r}function bp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!kP(n,r)}catch{return!0}}function TP(t,e,n){return e()}const NP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MP=!NP,PP=MP?TP:_P;"useSyncExternalStore"in bm&&(t=>t.useSyncExternalStore)(bm);const YE=U.createContext(null),XE=U.createContext(null),Rd=U.createContext(null),Ld=U.createContext(null),cs=U.createContext({outlet:null,matches:[]}),ZE=U.createContext(null);function RP(t,e){let{relative:n}=e===void 0?{}:e;Ou()||Nt(!1);let{basename:r,navigator:i}=U.useContext(Rd),{hash:o,pathname:s,search:a}=tA(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:eo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ou(){return U.useContext(Ld)!=null}function Dd(){return Ou()||Nt(!1),U.useContext(Ld).location}function Id(){Ou()||Nt(!1);let{basename:t,navigator:e}=U.useContext(Rd),{matches:n}=U.useContext(cs),{pathname:r}=Dd(),i=JSON.stringify(JE(n).map(a=>a.pathnameBase)),o=U.useRef(!1);return U.useEffect(()=>{o.current=!0}),U.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=QE(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:eo([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function eA(){let{matches:t}=U.useContext(cs),e=t[t.length-1];return e?e.params:{}}function tA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=U.useContext(cs),{pathname:i}=Dd(),o=JSON.stringify(JE(r).map(s=>s.pathnameBase));return U.useMemo(()=>QE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function LP(t,e){Ou()||Nt(!1);let{navigator:n}=U.useContext(Rd),r=U.useContext(XE),{matches:i}=U.useContext(cs),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Dd(),u;if(e){var d;let y=typeof e=="string"?us(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||Nt(!1),u=y}else u=l;let c=u.pathname||"/",f=a==="/"?c:c.slice(a.length)||"/",h=eP(t,{pathname:f}),m=FP(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:eo([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:eo([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&m?U.createElement(Ld.Provider,{value:{location:yg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fi.Pop}},m):m}function DP(){let t=qP(),e=wP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,o)}class IP extends U.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?U.createElement(cs.Provider,{value:this.props.routeContext},U.createElement(ZE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BP(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(YE);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(cs.Provider,{value:e},r)}function FP(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Nt(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=n?s.route.errorElement||U.createElement(DP,null):null,d=e.concat(r.slice(0,a+1)),c=()=>U.createElement(BP,{match:s,routeContext:{outlet:o,matches:d}},l?u:s.route.element!==void 0?s.route.element:o);return n&&(s.route.errorElement||a===0)?U.createElement(IP,{location:n.location,component:u,error:l,children:c(),routeContext:{outlet:null,matches:d}}):c()},null)}var kb;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(kb||(kb={}));var Lf;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Lf||(Lf={}));function jP(t){let e=U.useContext(XE);return e||Nt(!1),e}function $P(t){let e=U.useContext(cs);return e||Nt(!1),e}function zP(t){let e=$P(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function qP(){var t;let e=U.useContext(ZE),n=jP(Lf.UseRouteError),r=zP(Lf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function ko(t){Nt(!1)}function HP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fi.Pop,navigator:o,static:s=!1}=t;Ou()&&Nt(!1);let a=e.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=us(r));let{pathname:u="/",search:d="",hash:c="",state:f=null,key:h="default"}=r,m=U.useMemo(()=>{let y=GE(u,a);return y==null?null:{pathname:y,search:d,hash:c,state:f,key:h}},[a,u,d,c,f,h]);return m==null?null:U.createElement(Rd.Provider,{value:l},U.createElement(Ld.Provider,{children:n,value:{location:m,navigationType:i}}))}function VP(t){let{children:e,location:n}=t,r=U.useContext(YE),i=r&&!e?r.router.routes:vg(e);return LP(i,n)}var Eb;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Eb||(Eb={}));new Promise(()=>{});function vg(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;if(r.type===U.Fragment){n.push.apply(n,vg(r.props.children,e));return}r.type!==ko&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let o=[...e,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=vg(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function UP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KP(t,e){return t.button===0&&(!e||e==="_self")&&!WP(t)}const GP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function JP(t){let{basename:e,children:n,window:r}=t,i=U.useRef();i.current==null&&(i.current=QM({window:r,v5Compat:!0}));let o=i.current,[s,a]=U.useState({action:o.action,location:o.location});return U.useLayoutEffect(()=>o.listen(a),[o]),U.createElement(HP,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bs=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d}=e,c=UP(e,GP),f,h=!1;if(QP&&typeof u=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){f=u;let b=new URL(window.location.href),p=u.startsWith("//")?new URL(b.protocol+u):new URL(u);p.origin===b.origin?u=p.pathname+p.search+p.hash:h=!0}let m=RP(u,{relative:i}),y=YP(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i});function g(b){r&&r(b),b.defaultPrevented||y(b)}return U.createElement("a",bg({},c,{href:f||m,onClick:h||o?r:g,ref:n,target:l}))});var Ab;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Ab||(Ab={}));var Cb;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cb||(Cb={}));function YP(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Id(),l=Dd(),u=tA(t,{relative:s});return U.useCallback(d=>{if(KP(d,n)){d.preventDefault();let c=r!==void 0?r:Rf(l)===Rf(u);a(t,{replace:c,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var wg={},XP={get exports(){return wg},set exports(t){wg=t}};(function(t,e){(function(n,r){t.exports=r()})(it,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",d="week",c="month",f="quarter",h="year",m="date",y="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var T=["th","st","nd","rd"],N=M%100;return"["+M+(T[(N-20)%10]||T[N]||T[0])+"]"}},v=function(M,T,N){var P=String(M);return!P||P.length>=T?M:""+Array(T+1-P.length).join(N)+M},w={s:v,z:function(M){var T=-M.utcOffset(),N=Math.abs(T),P=Math.floor(N/60),L=N%60;return(T<=0?"+":"-")+v(P,2,"0")+":"+v(L,2,"0")},m:function M(T,N){if(T.date()<N.date())return-M(N,T);var P=12*(N.year()-T.year())+(N.month()-T.month()),L=T.clone().add(P,c),z=N-L<0,j=T.clone().add(P+(z?-1:1),c);return+(-(P+(N-L)/(z?L-j:j-L))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:c,y:h,w:d,d:u,D:m,h:l,m:a,s,ms:o,Q:f}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},x="en",S={};S[x]=p;var E=function(M){return M instanceof _},k=function M(T,N,P){var L;if(!T)return x;if(typeof T=="string"){var z=T.toLowerCase();S[z]&&(L=z),N&&(S[z]=N,L=z);var j=T.split("-");if(!L&&j.length>1)return M(j[0])}else{var B=T.name;S[B]=T,L=B}return!P&&L&&(x=L),L||!P&&x},A=function(M,T){if(E(M))return M.clone();var N=typeof T=="object"?T:{};return N.date=M,N.args=arguments,new _(N)},C=w;C.l=k,C.i=E,C.w=function(M,T){return A(M,{locale:T.$L,utc:T.$u,x:T.$x,$offset:T.$offset})};var _=function(){function M(N){this.$L=k(N.locale,null,!0),this.parse(N)}var T=M.prototype;return T.parse=function(N){this.$d=function(P){var L=P.date,z=P.utc;if(L===null)return new Date(NaN);if(C.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var j=L.match(g);if(j){var B=j[2]-1||0,I=(j[7]||"0").substring(0,3);return z?new Date(Date.UTC(j[1],B,j[3]||1,j[4]||0,j[5]||0,j[6]||0,I)):new Date(j[1],B,j[3]||1,j[4]||0,j[5]||0,j[6]||0,I)}}return new Date(L)}(N),this.$x=N.x||{},this.init()},T.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},T.$utils=function(){return C},T.isValid=function(){return this.$d.toString()!==y},T.isSame=function(N,P){var L=A(N);return this.startOf(P)<=L&&L<=this.endOf(P)},T.isAfter=function(N,P){return A(N)<this.startOf(P)},T.isBefore=function(N,P){return this.endOf(P)<A(N)},T.$g=function(N,P,L){return C.u(N)?this[P]:this.set(L,N)},T.unix=function(){return Math.floor(this.valueOf()/1e3)},T.valueOf=function(){return this.$d.getTime()},T.startOf=function(N,P){var L=this,z=!!C.u(P)||P,j=C.p(N),B=function(Y,J){var te=C.w(L.$u?Date.UTC(L.$y,J,Y):new Date(L.$y,J,Y),L);return z?te:te.endOf(u)},I=function(Y,J){return C.w(L.toDate()[Y].apply(L.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(J)),L)},$=this.$W,V=this.$M,G=this.$D,K="set"+(this.$u?"UTC":"");switch(j){case h:return z?B(1,0):B(31,11);case c:return z?B(1,V):B(0,V+1);case d:var H=this.$locale().weekStart||0,W=($<H?$+7:$)-H;return B(z?G-W:G+(6-W),V);case u:case m:return I(K+"Hours",0);case l:return I(K+"Minutes",1);case a:return I(K+"Seconds",2);case s:return I(K+"Milliseconds",3);default:return this.clone()}},T.endOf=function(N){return this.startOf(N,!1)},T.$set=function(N,P){var L,z=C.p(N),j="set"+(this.$u?"UTC":""),B=(L={},L[u]=j+"Date",L[m]=j+"Date",L[c]=j+"Month",L[h]=j+"FullYear",L[l]=j+"Hours",L[a]=j+"Minutes",L[s]=j+"Seconds",L[o]=j+"Milliseconds",L)[z],I=z===u?this.$D+(P-this.$W):P;if(z===c||z===h){var $=this.clone().set(m,1);$.$d[B](I),$.init(),this.$d=$.set(m,Math.min(this.$D,$.daysInMonth())).$d}else B&&this.$d[B](I);return this.init(),this},T.set=function(N,P){return this.clone().$set(N,P)},T.get=function(N){return this[C.p(N)]()},T.add=function(N,P){var L,z=this;N=Number(N);var j=C.p(P),B=function(V){var G=A(z);return C.w(G.date(G.date()+Math.round(V*N)),z)};if(j===c)return this.set(c,this.$M+N);if(j===h)return this.set(h,this.$y+N);if(j===u)return B(1);if(j===d)return B(7);var I=(L={},L[a]=r,L[l]=i,L[s]=n,L)[j]||1,$=this.$d.getTime()+N*I;return C.w($,this)},T.subtract=function(N,P){return this.add(-1*N,P)},T.format=function(N){var P=this,L=this.$locale();if(!this.isValid())return L.invalidDate||y;var z=N||"YYYY-MM-DDTHH:mm:ssZ",j=C.z(this),B=this.$H,I=this.$m,$=this.$M,V=L.weekdays,G=L.months,K=function(J,te,de,be){return J&&(J[te]||J(P,z))||de[te].slice(0,be)},H=function(J){return C.s(B%12||12,J,"0")},W=L.meridiem||function(J,te,de){var be=J<12?"AM":"PM";return de?be.toLowerCase():be},Y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:$+1,MM:C.s($+1,2,"0"),MMM:K(L.monthsShort,$,G,3),MMMM:K(G,$),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:K(L.weekdaysMin,this.$W,V,2),ddd:K(L.weekdaysShort,this.$W,V,3),dddd:V[this.$W],H:String(B),HH:C.s(B,2,"0"),h:H(1),hh:H(2),a:W(B,I,!0),A:W(B,I,!1),m:String(I),mm:C.s(I,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:j};return z.replace(b,function(J,te){return te||Y[J]||j.replace(":","")})},T.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},T.diff=function(N,P,L){var z,j=C.p(P),B=A(N),I=(B.utcOffset()-this.utcOffset())*r,$=this-B,V=C.m(this,B);return V=(z={},z[h]=V/12,z[c]=V,z[f]=V/3,z[d]=($-I)/6048e5,z[u]=($-I)/864e5,z[l]=$/i,z[a]=$/r,z[s]=$/n,z)[j]||$,L?V:C.a(V)},T.daysInMonth=function(){return this.endOf(c).$D},T.$locale=function(){return S[this.$L]},T.locale=function(N,P){if(!N)return this.$L;var L=this.clone(),z=k(N,P,!0);return z&&(L.$L=z),L},T.clone=function(){return C.w(this.$d,this)},T.toDate=function(){return new Date(this.valueOf())},T.toJSON=function(){return this.isValid()?this.toISOString():null},T.toISOString=function(){return this.$d.toISOString()},T.toString=function(){return this.$d.toUTCString()},M}(),O=_.prototype;return A.prototype=O,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",c],["$y",h],["$D",m]].forEach(function(M){O[M[1]]=function(T){return this.$g(T,M[0],M[1])}}),A.extend=function(M,T){return M.$i||(M(T,_,A),M.$i=!0),A},A.locale=k,A.isDayjs=E,A.unix=function(M){return A(1e3*M)},A.en=S[x],A.Ls=S,A.p={},A})})(XP);const Mv=wg;function ZP(t){return typeof t>"u"}Array.isArray.bind(Array);function nA(t,...e){return!ZP(t)||e.length===0?t:nA(...e)}class eR{get(e,n){try{const r=localStorage.getItem(e);if(r){const i=JSON.parse(r);return i&&i.expire&&Date.now()>i.expire?(this.remove(e),n):nA(i.data,n)}return n}catch(r){return console.warn(`cannot get key:${e}`,r),n}}set(e,n,r){try{return localStorage.setItem(e,JSON.stringify({...r,data:n})),!0}catch(i){return console.error(i),!1}}remove(e){try{localStorage.removeItem(e)}catch(n){console.error(n)}}}class tR{constructor(e,n,r){this._kv=e,this._key=n,this._defaults=r}get(e=this._defaults){return this._kv.get(this._key,e)}set(e,n){return this._kv.set(this._key,e,n)}remove(){return this._kv.remove(this._key)}}class nR extends eR{constructor(){super(...arguments);Da(this,"lastState",new tR(this,"lastState"))}}const rA=new nR;window.Notification&&Notification.requestPermission();let Uc;function rR(t){rA.lastState.set(t);let e=t.loop?setInterval:setTimeout,n=t.loop?clearInterval:clearTimeout;Uc&&Uc();let r=e(()=>{self.postMessage(JSON.stringify({type:"log",data:"noti"})),console.log("noti");try{navigator.serviceWorker.getRegistration("./sw.js").then(i=>{i==null||i.showNotification(`${t.loop?"":""}${t.time}`,{})}).catch(i=>{self.postMessage(JSON.stringify({type:"log",data:i.message}))})}catch(i){self.postMessage(JSON.stringify({type:"log",data:i.message}))}try{const i=new Audio("/webtools/noti.mp3");i.load(),i.play()}catch(i){self.postMessage(JSON.stringify({type:"log",data:i.message}))}},t.time*1e3*60);Uc=()=>n(r)}function iR(t){const e=rA.lastState.get({loop:!1,time:3}),[n,r]=U.useState(0),[i,o]=U.useState(e.time),[s,a]=U.useState(0),[l,u]=U.useState("ready"),[d,c]=U.useState(e.loop),[f,h]=U.useState([]),m=i*60*1e3-(l==="ready"?0:l==="start"?(Date.now()-s)%(i*60*1e3):l==="end"?i*60*1e3:0);return U.useEffect(()=>{let y=setInterval(()=>{r(g=>g+1),m<=1e3&&l!=="end"&&!d&&u("end")},100);return()=>clearInterval(y)},[m,l,d]),U.useEffect(()=>{document.title="",self.addEventListener("message",y=>{if(typeof y.data=="string"&&y.data[0]==="{"){let g=JSON.parse(y.data);g.type==="log"&&h(b=>b.concat(g.data))}})},[]),pt("div",{children:[pt("div",{children:[oe("div",{children:Mv(m-8*3600*1e3).format("HH:mm:ss")}),pt("select",{value:i,onChange:y=>{o(Number(y.target.value)),u("ready")},children:[oe("option",{value:"1",children:"1:00"}),oe("option",{value:"3",children:"3:00"}),oe("option",{value:"5",children:"5:00"}),oe("option",{value:"10",children:"10:00"}),oe("option",{value:"15",children:"15:00"}),oe("option",{value:"0.1",children:"0:06"})]}),pt("label",{htmlFor:`
        `,children:[oe("input",{type:"checkbox",checked:d,onChange:y=>c(y.target.checked)}),""]}),oe("br",{}),oe("button",{onClick:y=>{rR({loop:d,time:i}),a(Date.now()),u("start")},children:""}),oe("button",{onClick:y=>{Uc(),u("end")},children:""})]}),oe("br",{}),oe("br",{}),oe("br",{}),oe("br",{}),location.search.includes("debug")&&oe("div",{children:f.map(y=>oe("div",{children:y}))})]})}const iA=!!(typeof window<"u"&&typeof document<"u"&&window.document&&window.document.createElement);iA&&document.addEventListener("touchstart",()=>{},!0);function oR(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(c){s(c)}}function l(d){try{u(r.throw(d))}catch(c){s(c)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function oA(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function sR(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function aR(t,e){function n(r,i){if(typeof r!="object"||typeof i!="object"||Array.isArray(r)||Array.isArray(i))return i!==void 0?i:r;const o={};for(const s in r)r.hasOwnProperty(s)&&(o[s]=n(r[s],i[s]));return o}return n(t,e)}const _n="${label} is not a valid ${type}",lR={locale:"en",common:{confirm:"Confirm",cancel:"Cancel",loading:"Loading",close:"Close"},Calendar:{markItems:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],renderYearAndMonth:(t,e)=>`${t}/${e}`},Cascader:{placeholder:"Selecting"},Dialog:{ok:"OK"},DatePicker:{tillNow:"Till Now"},ErrorBlock:{default:{title:"Oops, something went wrong",description:"Please wait a minute and try again"},busy:{title:"Oops, not loading",description:"Try to refresh the page"},disconnected:{title:"Network is busy",description:"Try to refresh the page"},empty:{title:"Hmm, couldn't find that...",description:"Want to try a new search?"}},Form:{required:"Required",optional:"Optional",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:_n,method:_n,array:_n,object:_n,number:_n,date:_n,boolean:_n,integer:_n,float:_n,regexp:_n,email:_n,url:_n,hex:_n},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},ImageUploader:{uploading:"Uploading...",upload:"Upload"},InfiniteScroll:{noMore:"No more",failedToLoad:"Failed to load",retry:"Retry"},Input:{clear:"clear"},Mask:{name:"Mask"},Modal:{ok:"OK"},PasscodeInput:{name:"Passcode Input"},PullToRefresh:{pulling:"Scroll down to refresh",canRelease:"Release to refresh immediately",complete:"Refresh successful"},SearchBar:{name:"Search Bar"},Slider:{name:"Slider"},Stepper:{decrease:"decrease",increase:"increase"},Switch:{name:"Switch"}},Tn="${label}${type}",uR=aR(lR,{locale:"zh-CH",common:{confirm:"",cancel:"",loading:"",close:""},Calendar:{markItems:["","","","","","",""],renderYearAndMonth:(t,e)=>`${t}${e}`},Cascader:{placeholder:""},Dialog:{ok:""},DatePicker:{tillNow:""},ErrorBlock:{default:{title:"",description:""},busy:{title:"",description:""},disconnected:{title:"",description:""},empty:{title:"",description:""}},Form:{required:"",optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:Tn,method:Tn,array:Tn,object:Tn,number:Tn,date:Tn,boolean:Tn,integer:Tn,float:Tn,regexp:Tn,email:Tn,url:Tn,hex:Tn},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},ImageUploader:{uploading:"...",upload:""},InfiniteScroll:{noMore:"",failedToLoad:"",retry:""},Input:{clear:""},Mask:{name:""},Modal:{ok:""},PasscodeInput:{name:""},PullToRefresh:{pulling:"",canRelease:"",complete:""},SearchBar:{name:""},Slider:{name:""},Stepper:{decrease:"",increase:""},Switch:{name:""}}),cR=uR,fR={current:{locale:cR}};function dR(){return fR.current}const hR=fe.createContext(null);function sA(){var t;return(t=U.useContext(hR))!==null&&t!==void 0?t:dR()}function aA(t,e){const n=t;for(const r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var xg={},pR={get exports(){return xg},set exports(t){xg=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pR);const un=xg;function kr(t,e){const n=Object.assign({},e.props);t.className&&(n.className=un(e.props.className,t.className)),t.style&&(n.style=Object.assign(Object.assign({},n.style),t.style)),t.tabIndex!==void 0&&(n.tabIndex=t.tabIndex);for(const r in t)t.hasOwnProperty(r)&&(r.startsWith("data-")||r.startsWith("aria-"))&&(n[r]=t[r]);return fe.cloneElement(e,n)}var mR=typeof it=="object"&&it&&it.Object===Object&&it,lA=mR,gR=lA,yR=typeof self=="object"&&self&&self.Object===Object&&self,vR=gR||yR||Function("return this")(),Wr=vR,bR=Wr,wR=bR.Symbol,Pv=wR,Ob=Pv,uA=Object.prototype,xR=uA.hasOwnProperty,SR=uA.toString,Va=Ob?Ob.toStringTag:void 0;function kR(t){var e=xR.call(t,Va),n=t[Va];try{t[Va]=void 0;var r=!0}catch{}var i=SR.call(t);return r&&(e?t[Va]=n:delete t[Va]),i}var ER=kR,AR=Object.prototype,CR=AR.toString;function OR(t){return CR.call(t)}var _R=OR,_b=Pv,TR=ER,NR=_R,MR="[object Null]",PR="[object Undefined]",Tb=_b?_b.toStringTag:void 0;function RR(t){return t==null?t===void 0?PR:MR:Tb&&Tb in Object(t)?TR(t):NR(t)}var _u=RR;function LR(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xa=LR,DR=_u,IR=xa,BR="[object AsyncFunction]",FR="[object Function]",jR="[object GeneratorFunction]",$R="[object Proxy]";function zR(t){if(!IR(t))return!1;var e=DR(t);return e==FR||e==jR||e==BR||e==$R}var cA=zR,qR=Wr,HR=qR["__core-js_shared__"],VR=HR,wp=VR,Nb=function(){var t=/[^.]+$/.exec(wp&&wp.keys&&wp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UR(t){return!!Nb&&Nb in t}var WR=UR,KR=Function.prototype,GR=KR.toString;function JR(t){if(t!=null){try{return GR.call(t)}catch{}try{return t+""}catch{}}return""}var fA=JR,QR=cA,YR=WR,XR=xa,ZR=fA,e3=/[\\^$.*+?()[\]{}|]/g,t3=/^\[object .+?Constructor\]$/,n3=Function.prototype,r3=Object.prototype,i3=n3.toString,o3=r3.hasOwnProperty,s3=RegExp("^"+i3.call(o3).replace(e3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function a3(t){if(!XR(t)||YR(t))return!1;var e=QR(t)?s3:t3;return e.test(ZR(t))}var l3=a3;function u3(t,e){return t==null?void 0:t[e]}var c3=u3,f3=l3,d3=c3;function h3(t,e){var n=d3(t,e);return f3(n)?n:void 0}var fs=h3,p3=fs,m3=function(){try{var t=p3(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dA=m3,Mb=dA;function g3(t,e,n){e=="__proto__"&&Mb?Mb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var hA=g3;function y3(t,e){return t===e||t!==t&&e!==e}var Bd=y3,v3=hA,b3=Bd,w3=Object.prototype,x3=w3.hasOwnProperty;function S3(t,e,n){var r=t[e];(!(x3.call(t,e)&&b3(r,n))||n===void 0&&!(e in t))&&v3(t,e,n)}var k3=S3,E3=k3,A3=hA;function C3(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?A3(n,a,l):E3(n,a,l)}return n}var O3=C3;function _3(t){return t}var pA=_3;function T3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var N3=T3,M3=N3,Pb=Math.max;function P3(t,e,n){return e=Pb(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Pb(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),M3(t,this,a)}}var R3=P3;function L3(t){return function(){return t}}var D3=L3,I3=D3,Rb=dA,B3=pA,F3=Rb?function(t,e){return Rb(t,"toString",{configurable:!0,enumerable:!1,value:I3(e),writable:!0})}:B3,j3=F3,$3=800,z3=16,q3=Date.now;function H3(t){var e=0,n=0;return function(){var r=q3(),i=z3-(r-n);if(n=r,i>0){if(++e>=$3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var V3=H3,U3=j3,W3=V3,K3=W3(U3),G3=K3,J3=pA,Q3=R3,Y3=G3;function X3(t,e){return Y3(Q3(t,e,J3),t+"")}var Z3=X3,eL=9007199254740991;function tL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eL}var mA=tL,nL=cA,rL=mA;function iL(t){return t!=null&&rL(t.length)&&!nL(t)}var gA=iL,oL=9007199254740991,sL=/^(?:0|[1-9]\d*)$/;function aL(t,e){var n=typeof t;return e=e??oL,!!e&&(n=="number"||n!="symbol"&&sL.test(t))&&t>-1&&t%1==0&&t<e}var yA=aL,lL=Bd,uL=gA,cL=yA,fL=xa;function dL(t,e,n){if(!fL(n))return!1;var r=typeof e;return(r=="number"?uL(n)&&cL(e,n.length):r=="string"&&e in n)?lL(n[e],t):!1}var hL=dL,pL=Z3,mL=hL;function gL(t){return pL(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&mL(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var yL=gL;function vL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bL=vL;function wL(t){return t!=null&&typeof t=="object"}var Tu=wL,xL=_u,SL=Tu,kL="[object Arguments]";function EL(t){return SL(t)&&xL(t)==kL}var AL=EL,Lb=AL,CL=Tu,vA=Object.prototype,OL=vA.hasOwnProperty,_L=vA.propertyIsEnumerable,TL=Lb(function(){return arguments}())?Lb:function(t){return CL(t)&&OL.call(t,"callee")&&!_L.call(t,"callee")},NL=TL,ML=Array.isArray,Rv=ML,Ql={},PL={get exports(){return Ql},set exports(t){Ql=t}};function RL(){return!1}var LL=RL;(function(t,e){var n=Wr,r=LL,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(PL,Ql);var DL=_u,IL=mA,BL=Tu,FL="[object Arguments]",jL="[object Array]",$L="[object Boolean]",zL="[object Date]",qL="[object Error]",HL="[object Function]",VL="[object Map]",UL="[object Number]",WL="[object Object]",KL="[object RegExp]",GL="[object Set]",JL="[object String]",QL="[object WeakMap]",YL="[object ArrayBuffer]",XL="[object DataView]",ZL="[object Float32Array]",e5="[object Float64Array]",t5="[object Int8Array]",n5="[object Int16Array]",r5="[object Int32Array]",i5="[object Uint8Array]",o5="[object Uint8ClampedArray]",s5="[object Uint16Array]",a5="[object Uint32Array]",rt={};rt[ZL]=rt[e5]=rt[t5]=rt[n5]=rt[r5]=rt[i5]=rt[o5]=rt[s5]=rt[a5]=!0;rt[FL]=rt[jL]=rt[YL]=rt[$L]=rt[XL]=rt[zL]=rt[qL]=rt[HL]=rt[VL]=rt[UL]=rt[WL]=rt[KL]=rt[GL]=rt[JL]=rt[QL]=!1;function l5(t){return BL(t)&&IL(t.length)&&!!rt[DL(t)]}var u5=l5;function c5(t){return function(e){return t(e)}}var f5=c5,Df={},d5={get exports(){return Df},set exports(t){Df=t}};(function(t,e){var n=lA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(d5,Df);var h5=u5,p5=f5,Db=Df,Ib=Db&&Db.isTypedArray,m5=Ib?p5(Ib):h5,bA=m5,g5=bL,y5=NL,v5=Rv,b5=Ql,w5=yA,x5=bA,S5=Object.prototype,k5=S5.hasOwnProperty;function E5(t,e){var n=v5(t),r=!n&&y5(t),i=!n&&!r&&b5(t),o=!n&&!r&&!i&&x5(t),s=n||r||i||o,a=s?g5(t.length,String):[],l=a.length;for(var u in t)(e||k5.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||w5(u,l)))&&a.push(u);return a}var A5=E5,C5=Object.prototype;function O5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||C5;return t===n}var _5=O5;function T5(t,e){return function(n){return t(e(n))}}var N5=T5,M5=N5,P5=M5(Object.keys,Object),R5=P5,L5=_5,D5=R5,I5=Object.prototype,B5=I5.hasOwnProperty;function F5(t){if(!L5(t))return D5(t);var e=[];for(var n in Object(t))B5.call(t,n)&&n!="constructor"&&e.push(n);return e}var j5=F5,$5=A5,z5=j5,q5=gA;function H5(t){return q5(t)?$5(t):z5(t)}var wA=H5,V5=O3,U5=yL,W5=wA,K5=U5(function(t,e,n,r){V5(e,W5(e),t,r)}),G5=K5;function ds(...t){function e(r,i){return i===void 0?r:i}let n=Object.assign({},t[0]);for(let r=1;r<t.length;r++)n=G5(n,t[r],e);return n}var J5=function(t){return function(e,n){var r=U.useRef(!1);t(function(){return function(){r.current=!1}},[]),t(function(){if(!r.current)r.current=!0;else return e()},n)}},Lv=function(t){return typeof t=="function"},Q5=!1;const Dv=Q5;function Iv(t){Dv&&(Lv(t)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof t)));var e=U.useRef(t);e.current=U.useMemo(function(){return t},[t]);var n=U.useRef();return n.current||(n.current=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.current.apply(this,r)}),n.current}function xA(t){var e=U.useRef(t);return e.current=t,e}var Y5=function(t){Dv&&(Lv(t)||console.error("useUnmount expected parameter is a function, got ".concat(typeof t)));var e=xA(t);U.useEffect(function(){return function(){e.current()}},[])};const X5=Y5;var Z5=Wr,eD=function(){return Z5.Date.now()},tD=eD,nD=/\s/;function rD(t){for(var e=t.length;e--&&nD.test(t.charAt(e)););return e}var iD=rD,oD=iD,sD=/^\s+/;function aD(t){return t&&t.slice(0,oD(t)+1).replace(sD,"")}var lD=aD,uD=_u,cD=Tu,fD="[object Symbol]";function dD(t){return typeof t=="symbol"||cD(t)&&uD(t)==fD}var hD=dD,pD=lD,Bb=xa,mD=hD,Fb=0/0,gD=/^[-+]0x[0-9a-f]+$/i,yD=/^0b[01]+$/i,vD=/^0o[0-7]+$/i,bD=parseInt;function wD(t){if(typeof t=="number")return t;if(mD(t))return Fb;if(Bb(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bb(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pD(t);var n=yD.test(t);return n||vD.test(t)?bD(t.slice(2),n?2:8):gD.test(t)?Fb:+t}var xD=wD,SD=xa,xp=tD,jb=xD,kD="Expected a function",ED=Math.max,AD=Math.min;function CD(t,e,n){var r,i,o,s,a,l,u=0,d=!1,c=!1,f=!0;if(typeof t!="function")throw new TypeError(kD);e=jb(e)||0,SD(n)&&(d=!!n.leading,c="maxWait"in n,o=c?ED(jb(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(S){var E=r,k=i;return r=i=void 0,u=S,s=t.apply(k,E),s}function m(S){return u=S,a=setTimeout(b,e),d?h(S):s}function y(S){var E=S-l,k=S-u,A=e-E;return c?AD(A,o-k):A}function g(S){var E=S-l,k=S-u;return l===void 0||E>=e||E<0||c&&k>=o}function b(){var S=xp();if(g(S))return p(S);a=setTimeout(b,y(S))}function p(S){return a=void 0,f&&r?h(S):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?s:p(xp())}function x(){var S=xp(),E=g(S);if(r=arguments,i=this,l=S,E){if(a===void 0)return m(l);if(c)return clearTimeout(a),a=setTimeout(b,e),h(l)}return a===void 0&&(a=setTimeout(b,e)),s}return x.cancel=v,x.flush=w,x}var OD=CD,_D=!!(typeof window<"u"&&window.document&&window.document.createElement);const TD=_D;var ND=OD,MD=xa,PD="Expected a function";function RD(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(PD);return MD(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ND(t,e,{leading:r,maxWait:e,trailing:i})}var LD=RD,DD=function(){var t=oA(U.useState({}),2),e=t[1];return U.useCallback(function(){return e({})},[])};const ID=DD;function BD(){this.__data__=[],this.size=0}var FD=BD,jD=Bd;function $D(t,e){for(var n=t.length;n--;)if(jD(t[n][0],e))return n;return-1}var Fd=$D,zD=Fd,qD=Array.prototype,HD=qD.splice;function VD(t){var e=this.__data__,n=zD(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():HD.call(e,n,1),--this.size,!0}var UD=VD,WD=Fd;function KD(t){var e=this.__data__,n=WD(e,t);return n<0?void 0:e[n][1]}var GD=KD,JD=Fd;function QD(t){return JD(this.__data__,t)>-1}var YD=QD,XD=Fd;function ZD(t,e){var n=this.__data__,r=XD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var e4=ZD,t4=FD,n4=UD,r4=GD,i4=YD,o4=e4;function Sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sa.prototype.clear=t4;Sa.prototype.delete=n4;Sa.prototype.get=r4;Sa.prototype.has=i4;Sa.prototype.set=o4;var jd=Sa,s4=jd;function a4(){this.__data__=new s4,this.size=0}var l4=a4;function u4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var c4=u4;function f4(t){return this.__data__.get(t)}var d4=f4;function h4(t){return this.__data__.has(t)}var p4=h4,m4=fs,g4=Wr,y4=m4(g4,"Map"),Bv=y4,v4=fs,b4=v4(Object,"create"),$d=b4,$b=$d;function w4(){this.__data__=$b?$b(null):{},this.size=0}var x4=w4;function S4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var k4=S4,E4=$d,A4="__lodash_hash_undefined__",C4=Object.prototype,O4=C4.hasOwnProperty;function _4(t){var e=this.__data__;if(E4){var n=e[t];return n===A4?void 0:n}return O4.call(e,t)?e[t]:void 0}var T4=_4,N4=$d,M4=Object.prototype,P4=M4.hasOwnProperty;function R4(t){var e=this.__data__;return N4?e[t]!==void 0:P4.call(e,t)}var L4=R4,D4=$d,I4="__lodash_hash_undefined__";function B4(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=D4&&e===void 0?I4:e,this}var F4=B4,j4=x4,$4=k4,z4=T4,q4=L4,H4=F4;function ka(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ka.prototype.clear=j4;ka.prototype.delete=$4;ka.prototype.get=z4;ka.prototype.has=q4;ka.prototype.set=H4;var V4=ka,zb=V4,U4=jd,W4=Bv;function K4(){this.size=0,this.__data__={hash:new zb,map:new(W4||U4),string:new zb}}var G4=K4;function J4(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Q4=J4,Y4=Q4;function X4(t,e){var n=t.__data__;return Y4(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zd=X4,Z4=zd;function eI(t){var e=Z4(this,t).delete(t);return this.size-=e?1:0,e}var tI=eI,nI=zd;function rI(t){return nI(this,t).get(t)}var iI=rI,oI=zd;function sI(t){return oI(this,t).has(t)}var aI=sI,lI=zd;function uI(t,e){var n=lI(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cI=uI,fI=G4,dI=tI,hI=iI,pI=aI,mI=cI;function Ea(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ea.prototype.clear=fI;Ea.prototype.delete=dI;Ea.prototype.get=hI;Ea.prototype.has=pI;Ea.prototype.set=mI;var SA=Ea,gI=jd,yI=Bv,vI=SA,bI=200;function wI(t,e){var n=this.__data__;if(n instanceof gI){var r=n.__data__;if(!yI||r.length<bI-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vI(r)}return n.set(t,e),this.size=n.size,this}var xI=wI,SI=jd,kI=l4,EI=c4,AI=d4,CI=p4,OI=xI;function Aa(t){var e=this.__data__=new SI(t);this.size=e.size}Aa.prototype.clear=kI;Aa.prototype.delete=EI;Aa.prototype.get=AI;Aa.prototype.has=CI;Aa.prototype.set=OI;var _I=Aa,TI="__lodash_hash_undefined__";function NI(t){return this.__data__.set(t,TI),this}var MI=NI;function PI(t){return this.__data__.has(t)}var RI=PI,LI=SA,DI=MI,II=RI;function If(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new LI;++e<n;)this.add(t[e])}If.prototype.add=If.prototype.push=DI;If.prototype.has=II;var BI=If;function FI(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var jI=FI;function $I(t,e){return t.has(e)}var zI=$I,qI=BI,HI=jI,VI=zI,UI=1,WI=2;function KI(t,e,n,r,i,o){var s=n&UI,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var c=-1,f=!0,h=n&WI?new qI:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var m=t[c],y=e[c];if(r)var g=s?r(y,m,c,e,t,o):r(m,y,c,t,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!HI(e,function(b,p){if(!VI(h,p)&&(m===b||i(m,b,n,r,o)))return h.push(p)})){f=!1;break}}else if(!(m===y||i(m,y,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var kA=KI,GI=Wr,JI=GI.Uint8Array,QI=JI;function YI(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var XI=YI;function ZI(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var e6=ZI,qb=Pv,Hb=QI,t6=Bd,n6=kA,r6=XI,i6=e6,o6=1,s6=2,a6="[object Boolean]",l6="[object Date]",u6="[object Error]",c6="[object Map]",f6="[object Number]",d6="[object RegExp]",h6="[object Set]",p6="[object String]",m6="[object Symbol]",g6="[object ArrayBuffer]",y6="[object DataView]",Vb=qb?qb.prototype:void 0,Sp=Vb?Vb.valueOf:void 0;function v6(t,e,n,r,i,o,s){switch(n){case y6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case g6:return!(t.byteLength!=e.byteLength||!o(new Hb(t),new Hb(e)));case a6:case l6:case f6:return t6(+t,+e);case u6:return t.name==e.name&&t.message==e.message;case d6:case p6:return t==e+"";case c6:var a=r6;case h6:var l=r&o6;if(a||(a=i6),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=s6,s.set(t,e);var d=n6(a(t),a(e),r,i,o,s);return s.delete(t),d;case m6:if(Sp)return Sp.call(t)==Sp.call(e)}return!1}var b6=v6;function w6(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var x6=w6,S6=x6,k6=Rv;function E6(t,e,n){var r=e(t);return k6(t)?r:S6(r,n(t))}var A6=E6;function C6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var O6=C6;function _6(){return[]}var T6=_6,N6=O6,M6=T6,P6=Object.prototype,R6=P6.propertyIsEnumerable,Ub=Object.getOwnPropertySymbols,L6=Ub?function(t){return t==null?[]:(t=Object(t),N6(Ub(t),function(e){return R6.call(t,e)}))}:M6,D6=L6,I6=A6,B6=D6,F6=wA;function j6(t){return I6(t,F6,B6)}var $6=j6,Wb=$6,z6=1,q6=Object.prototype,H6=q6.hasOwnProperty;function V6(t,e,n,r,i,o){var s=n&z6,a=Wb(t),l=a.length,u=Wb(e),d=u.length;if(l!=d&&!s)return!1;for(var c=l;c--;){var f=a[c];if(!(s?f in e:H6.call(e,f)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var g=s;++c<l;){f=a[c];var b=t[f],p=e[f];if(r)var v=s?r(p,b,f,e,t,o):r(b,p,f,t,e,o);if(!(v===void 0?b===p||i(b,p,n,r,o):v)){y=!1;break}g||(g=f=="constructor")}if(y&&!g){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(y=!1)}return o.delete(t),o.delete(e),y}var U6=V6,W6=fs,K6=Wr,G6=W6(K6,"DataView"),J6=G6,Q6=fs,Y6=Wr,X6=Q6(Y6,"Promise"),Z6=X6,e8=fs,t8=Wr,n8=e8(t8,"Set"),r8=n8,i8=fs,o8=Wr,s8=i8(o8,"WeakMap"),a8=s8,Sg=J6,kg=Bv,Eg=Z6,Ag=r8,Cg=a8,EA=_u,Ca=fA,Kb="[object Map]",l8="[object Object]",Gb="[object Promise]",Jb="[object Set]",Qb="[object WeakMap]",Yb="[object DataView]",u8=Ca(Sg),c8=Ca(kg),f8=Ca(Eg),d8=Ca(Ag),h8=Ca(Cg),Eo=EA;(Sg&&Eo(new Sg(new ArrayBuffer(1)))!=Yb||kg&&Eo(new kg)!=Kb||Eg&&Eo(Eg.resolve())!=Gb||Ag&&Eo(new Ag)!=Jb||Cg&&Eo(new Cg)!=Qb)&&(Eo=function(t){var e=EA(t),n=e==l8?t.constructor:void 0,r=n?Ca(n):"";if(r)switch(r){case u8:return Yb;case c8:return Kb;case f8:return Gb;case d8:return Jb;case h8:return Qb}return e});var p8=Eo,kp=_I,m8=kA,g8=b6,y8=U6,Xb=p8,Zb=Rv,ew=Ql,v8=bA,b8=1,tw="[object Arguments]",nw="[object Array]",lc="[object Object]",w8=Object.prototype,rw=w8.hasOwnProperty;function x8(t,e,n,r,i,o){var s=Zb(t),a=Zb(e),l=s?nw:Xb(t),u=a?nw:Xb(e);l=l==tw?lc:l,u=u==tw?lc:u;var d=l==lc,c=u==lc,f=l==u;if(f&&ew(t)){if(!ew(e))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new kp),s||v8(t)?m8(t,e,n,r,i,o):g8(t,e,l,n,r,i,o);if(!(n&b8)){var h=d&&rw.call(t,"__wrapped__"),m=c&&rw.call(e,"__wrapped__");if(h||m){var y=h?t.value():t,g=m?e.value():e;return o||(o=new kp),i(y,g,n,r,o)}}return f?(o||(o=new kp),y8(t,e,n,r,i,o)):!1}var S8=x8,k8=S8,iw=Tu;function AA(t,e,n,r,i){return t===e?!0:t==null||e==null||!iw(t)&&!iw(e)?t!==t&&e!==e:k8(t,e,n,r,AA,i)}var E8=AA,A8=E8;function C8(t,e){return A8(t,e)}var O8=C8,_8=TD?U.useLayoutEffect:U.useEffect;const qd=_8;function T8(t,e){var n;Dv&&(Lv(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var r=xA(t),i=(n=e==null?void 0:e.wait)!==null&&n!==void 0?n:1e3,o=U.useMemo(function(){return LD(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.current.apply(r,sR([],oA(s),!1))},i,e)},[]);return X5(function(){o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}let Fv=Mu();const Ne=t=>Nu(t,Fv);let jv=Mu();Ne.write=t=>Nu(t,jv);let Hd=Mu();Ne.onStart=t=>Nu(t,Hd);let $v=Mu();Ne.onFrame=t=>Nu(t,$v);let zv=Mu();Ne.onFinish=t=>Nu(t,zv);let Ks=[];Ne.setTimeout=(t,e)=>{let n=Ne.now()+e,r=()=>{let o=Ks.findIndex(s=>s.cancel==r);~o&&Ks.splice(o,1),$i-=~o?1:0},i={time:n,handler:t,cancel:r};return Ks.splice(CA(n),0,i),$i+=1,OA(),i};let CA=t=>~(~Ks.findIndex(e=>e.time>t)||~Ks.length);Ne.cancel=t=>{Hd.delete(t),$v.delete(t),zv.delete(t),Fv.delete(t),jv.delete(t)};Ne.sync=t=>{Og=!0,Ne.batchedUpdates(t),Og=!1};Ne.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Ne.onStart(n)}return r.handler=t,r.cancel=()=>{Hd.delete(n),e=null},r};let qv=typeof window<"u"?window.requestAnimationFrame:()=>{};Ne.use=t=>qv=t;Ne.now=typeof performance<"u"?()=>performance.now():Date.now;Ne.batchedUpdates=t=>t();Ne.catch=console.error;Ne.frameLoop="always";Ne.advance=()=>{Ne.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):TA()};let ji=-1,$i=0,Og=!1;function Nu(t,e){Og?(e.delete(t),t(0)):(e.add(t),OA())}function OA(){ji<0&&(ji=0,Ne.frameLoop!=="demand"&&qv(_A))}function N8(){ji=-1}function _A(){~ji&&(qv(_A),Ne.batchedUpdates(TA))}function TA(){let t=ji;ji=Ne.now();let e=CA(ji);if(e&&(NA(Ks.splice(0,e),n=>n.handler()),$i-=e),!$i){N8();return}Hd.flush(),Fv.flush(t?Math.min(64,ji-t):16.667),$v.flush(),jv.flush(),zv.flush()}function Mu(){let t=new Set,e=t;return{add(n){$i+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return $i-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,$i-=e.size,NA(e,r=>r(n)&&t.add(r)),$i+=t.size,e=t)}}}function NA(t,e){t.forEach(n=>{try{e(n)}catch(r){Ne.catch(r)}})}function _g(){}const M8=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ce={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Zr(t,e){if(ce.arr(t)){if(!ce.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const ze=(t,e)=>t.forEach(e);function Hr(t,e,n){if(ce.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const In=t=>ce.und(t)?[]:ce.arr(t)?t:[t];function wl(t,e){if(t.size){const n=Array.from(t);t.clear(),ze(n,e)}}const ol=(t,...e)=>wl(t,n=>n(...e)),Hv=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Vv,MA,to=null,PA=!1,Uv=_g;const P8=t=>{t.to&&(MA=t.to),t.now&&(Ne.now=t.now),t.colors!==void 0&&(to=t.colors),t.skipAnimation!=null&&(PA=t.skipAnimation),t.createStringInterpolator&&(Vv=t.createStringInterpolator),t.requestAnimationFrame&&Ne.use(t.requestAnimationFrame),t.batchedUpdates&&(Ne.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Uv=t.willAdvance),t.frameLoop&&(Ne.frameLoop=t.frameLoop)};var Vr=Object.freeze({__proto__:null,get createStringInterpolator(){return Vv},get to(){return MA},get colors(){return to},get skipAnimation(){return PA},get willAdvance(){return Uv},assign:P8});const xl=new Set;let Qn=[],Ep=[],Bf=0;const Vd={get idle(){return!xl.size&&!Qn.length},start(t){Bf>t.priority?(xl.add(t),Ne.onStart(R8)):(RA(t),Ne(Tg))},advance:Tg,sort(t){if(Bf)Ne.onFrame(()=>Vd.sort(t));else{const e=Qn.indexOf(t);~e&&(Qn.splice(e,1),LA(t))}},clear(){Qn=[],xl.clear()}};function R8(){xl.forEach(RA),xl.clear(),Ne(Tg)}function RA(t){Qn.includes(t)||LA(t)}function LA(t){Qn.splice(L8(Qn,e=>e.priority>t.priority),0,t)}function Tg(t){const e=Ep;for(let n=0;n<Qn.length;n++){const r=Qn[n];Bf=r.priority,r.idle||(Uv(r),r.advance(t),r.idle||e.push(r))}return Bf=0,Ep=Qn,Ep.length=0,Qn=e,Qn.length>0}function L8(t,e){const n=t.findIndex(e);return n<0?t.length:n}const D8=(t,e,n)=>Math.min(Math.max(n,t),e),I8={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},gr="[-+]?\\d*\\.?\\d+",Ff=gr+"%";function Ud(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const B8=new RegExp("rgb"+Ud(gr,gr,gr)),F8=new RegExp("rgba"+Ud(gr,gr,gr,gr)),j8=new RegExp("hsl"+Ud(gr,Ff,Ff)),$8=new RegExp("hsla"+Ud(gr,Ff,Ff,gr)),z8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,q8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,H8=/^#([0-9a-fA-F]{6})$/,V8=/^#([0-9a-fA-F]{8})$/;function U8(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=H8.exec(t))?parseInt(e[1]+"ff",16)>>>0:to&&to[t]!==void 0?to[t]:(e=B8.exec(t))?(gs(e[1])<<24|gs(e[2])<<16|gs(e[3])<<8|255)>>>0:(e=F8.exec(t))?(gs(e[1])<<24|gs(e[2])<<16|gs(e[3])<<8|aw(e[4]))>>>0:(e=z8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=V8.exec(t))?parseInt(e[1],16)>>>0:(e=q8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=j8.exec(t))?(ow(sw(e[1]),uc(e[2]),uc(e[3]))|255)>>>0:(e=$8.exec(t))?(ow(sw(e[1]),uc(e[2]),uc(e[3]))|aw(e[4]))>>>0:null}function Ap(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ow(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=Ap(i,r,t+1/3),s=Ap(i,r,t),a=Ap(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function gs(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function sw(t){return(parseFloat(t)%360+360)%360/360}function aw(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function uc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function lw(t){let e=U8(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}const Yl=(t,e,n)=>{if(ce.fun(t))return t;if(ce.arr(t))return Yl({range:t,output:e,extrapolate:n});if(ce.str(t.output[0]))return Vv(t);const r=t,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=K8(u,o);return W8(u,o[d],o[d+1],i[d],i[d+1],l,s,a,r.map)}};function W8(t,e,n,r,i,o,s,a,l){let u=l?l(t):t;if(u<e){if(s==="identity")return u;s==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function K8(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const G8=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return D8(0,1,i/t)},jf=1.70158,cc=jf*1.525,uw=jf+1,cw=2*Math.PI/3,fw=2*Math.PI/4.5,fc=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,J8={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>uw*t*t*t-jf*t*t,easeOutBack:t=>1+uw*Math.pow(t-1,3)+jf*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((cc+1)*2*t-cc)/2:(Math.pow(2*t-2,2)*((cc+1)*(t*2-2)+cc)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*cw),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*cw)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*fw))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*fw)/2+1,easeInBounce:t=>1-fc(1-t),easeOutBounce:fc,easeInOutBounce:t=>t<.5?(1-fc(1-2*t))/2:(1+fc(2*t-1))/2,steps:G8};function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}const la=Symbol.for("FluidValue.get"),Jo=Symbol.for("FluidValue.observers"),Gn=t=>Boolean(t&&t[la]),yn=t=>t&&t[la]?t[la]():t,dw=t=>t[Jo]||null;function Q8(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Xl(t,e){let n=t[Jo];n&&n.forEach(r=>{Q8(r,e)})}class DA{constructor(e){if(this[la]=void 0,this[Jo]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Y8(this,e)}}const Y8=(t,e)=>IA(t,la,e);function Oa(t,e){if(t[la]){let n=t[Jo];n||IA(t,Jo,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Zl(t,e){let n=t[Jo];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Jo]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const IA=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Wc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,X8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,hw=new RegExp(`(${Wc.source})(%|[a-z]+)`,"i"),Z8=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Wd=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,BA=t=>{const[e,n]=eB(t);if(!e||Hv())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Wd.test(n))return BA(n);if(n)return n}return t},eB=t=>{const e=Wd.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let Cp;const tB=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,FA=t=>{Cp||(Cp=to?new RegExp(`(${Object.keys(to).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(o=>yn(o).replace(Wd,BA).replace(X8,lw).replace(Cp,lw)),n=e.map(o=>o.match(Wc).map(Number)),i=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>Yl(Ng({},t,{output:o})));return o=>{var s;const a=!hw.test(e[0])&&((s=e.find(u=>hw.test(u)))==null?void 0:s.replace(Wc,""));let l=0;return e[0].replace(Wc,()=>`${i[l++](o)}${a||""}`).replace(Z8,tB)}},Wv="react-spring: ",jA=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${Wv}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},nB=jA(console.warn);function rB(){nB(`${Wv}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const iB=jA(console.warn);function oB(){iB(`${Wv}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Kd(t){return ce.str(t)&&(t[0]=="#"||/\d/.test(t)||!Hv()&&Wd.test(t)||t in(to||{}))}const Kv=Hv()?U.useEffect:U.useLayoutEffect,sB=()=>{const t=U.useRef(!1);return Kv(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function $A(){const t=U.useState()[1],e=sB();return()=>{e.current&&t(Math.random())}}function aB(t,e){const[n]=U.useState(()=>({inputs:e,result:t()})),r=U.useRef(),i=r.current;let o=i;return o?Boolean(e&&o.inputs&&lB(e,o.inputs))||(o={inputs:e,result:t()}):o=n,U.useEffect(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}function lB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const zA=t=>U.useEffect(t,uB),uB=[];function pw(t){const e=U.useRef();return U.useEffect(()=>{e.current=t}),e.current}const eu=Symbol.for("Animated:node"),cB=t=>!!t&&t[eu]===t,Mr=t=>t&&t[eu],Gv=(t,e)=>M8(t,eu,e),Gd=t=>t&&t[eu]&&t[eu].getPayload();class qA{constructor(){this.payload=void 0,Gv(this,this)}getPayload(){return this.payload||[]}}class _a extends qA{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,ce.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new _a(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return ce.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ce.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class ua extends _a{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Yl({output:[e,e]})}static create(e){return new ua(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ce.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Yl({output:[this.getValue(),e]})),this._value=0,super.reset()}}const $f={dependencies:null};class Jd extends qA{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Hr(this.source,(r,i)=>{cB(r)?n[i]=r.getValue(e):Gn(r)?n[i]=yn(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ze(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Hr(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){$f.dependencies&&Gn(e)&&$f.dependencies.add(e);const n=Gd(e);n&&ze(n,r=>this.add(r))}}class Jv extends Jd{constructor(e){super(e)}static create(e){return new Jv(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(fB)),!0)}}function fB(t){return(Kd(t)?ua:_a).create(t)}function Mg(t){const e=Mr(t);return e?e.constructor:ce.arr(t)?Jv:Kd(t)?ua:_a}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}const mw=(t,e)=>{const n=!ce.fun(t)||t.prototype&&t.prototype.isReactComponent;return U.forwardRef((r,i)=>{const o=U.useRef(null),s=n&&U.useCallback(m=>{o.current=pB(i,m)},[i]),[a,l]=hB(r,e),u=$A(),d=()=>{const m=o.current;if(n&&!m)return;(m?e.applyAnimatedValues(m,a.getValue(!0)):!1)===!1&&u()},c=new dB(d,l),f=U.useRef();Kv(()=>(f.current=c,ze(l,m=>Oa(m,c)),()=>{f.current&&(ze(f.current.deps,m=>Zl(m,f.current)),Ne.cancel(f.current.update))})),U.useEffect(d,[]),zA(()=>()=>{const m=f.current;ze(m.deps,y=>Zl(y,m))});const h=e.getComponentProps(a.getValue());return U.createElement(t,zf({},h,{ref:s}))})};class dB{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&Ne.write(this.update)}}function hB(t,e){const n=new Set;return $f.dependencies=n,t.style&&(t=zf({},t,{style:e.createAnimatedStyle(t.style)})),t=new Jd(t),$f.dependencies=null,[t,n]}function pB(t,e){return t&&(ce.fun(t)?t(e):t.current=e),e}const gw=Symbol.for("AnimatedComponent"),mB=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new Jd(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},o=s=>{const a=yw(s)||"Anonymous";return ce.str(s)?s=o[s]||(o[s]=mw(s,i)):s=s[gw]||(s[gw]=mw(s,i)),s.displayName=`Animated(${a})`,s};return Hr(t,(s,a)=>{ce.arr(t)&&(a=yw(s)),o[a]=o(s)}),{animated:o}},yw=t=>ce.str(t)?t:t&&ce.str(t.displayName)?t.displayName:ce.fun(t)&&t.name||null;function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lt.apply(this,arguments)}function Ao(t,...e){return ce.fun(t)?t(...e):t}const Sl=(t,e)=>t===!0||!!(e&&t&&(ce.fun(t)?t(e):In(t).includes(e))),HA=(t,e)=>ce.obj(t)?e&&t[e]:t,VA=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,gB=t=>t,Qv=(t,e=gB)=>{let n=yB;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const o=e(t[i],i);ce.und(o)||(r[i]=o)}return r},yB=["config","onProps","onStart","onChange","onPause","onResume","onRest"],vB={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function bB(t){const e={};let n=0;if(Hr(t,(r,i)=>{vB[i]||(e[i]=r,n++)}),n)return e}function UA(t){const e=bB(t);if(e){const n={to:e};return Hr(t,(r,i)=>i in e||(n[i]=r)),n}return Lt({},t)}function tu(t){return t=yn(t),ce.arr(t)?t.map(tu):Kd(t)?Vr.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function wB(t){for(const e in t)return!0;return!1}function Pg(t){return ce.fun(t)||ce.arr(t)&&ce.obj(t[0])}function xB(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function SB(t,e){if(e&&t.ref!==e){var n;(n=t.ref)==null||n.delete(t),e.add(t),t.ref=e}}const kB={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Rg=Lt({},kB.default,{mass:1,damping:1,easing:J8.linear,clamp:!1});class EB{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Rg)}}function AB(t,e,n){n&&(n=Lt({},n),vw(n,e),e=Lt({},n,e)),vw(t,e),Object.assign(t,e);for(const s in Rg)t[s]==null&&(t[s]=Rg[s]);let{mass:r,frequency:i,damping:o}=t;return ce.und(i)||(i<.01&&(i=.01),o<0&&(o=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*o*r/i),t}function vw(t,e){if(!ce.und(e.decay))t.duration=void 0;else{const n=!ce.und(e.tension)||!ce.und(e.friction);(n||!ce.und(e.frequency)||!ce.und(e.damping)||!ce.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}const bw=[];class CB{constructor(){this.changed=!1,this.values=bw,this.toValues=null,this.fromValues=bw,this.to=void 0,this.from=void 0,this.config=new EB,this.immediate=!1}}function WA(t,{key:e,props:n,defaultProps:r,state:i,actions:o}){return new Promise((s,a)=>{var l;let u,d,c=Sl((l=n.cancel)!=null?l:r==null?void 0:r.cancel,e);if(c)m();else{ce.und(n.pause)||(i.paused=Sl(n.pause,e));let y=r==null?void 0:r.pause;y!==!0&&(y=i.paused||Sl(y,e)),u=Ao(n.delay||0,e),y?(i.resumeQueue.add(h),o.pause()):(o.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(d),d.cancel(),u=d.time-Ne.now()}function h(){u>0&&!Vr.skipAnimation?(i.delayed=!0,d=Ne.setTimeout(m,u),i.pauseQueue.add(f),i.timeouts.add(d)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(d),t<=(i.cancelId||0)&&(c=!0);try{o.start(Lt({},n,{callId:t,cancel:c}),s)}catch(y){a(y)}}})}const Yv=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Gs(t.get()):e.every(n=>n.noop)?KA(t.get()):dr(t.get(),e.every(n=>n.finished)),KA=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),dr=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Gs=t=>({value:t,cancelled:!0,finished:!1});function GA(t,e,n,r){const{callId:i,parentId:o,onRest:s}=e,{asyncTo:a,promise:l}=n;return!o&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=Qv(e,(g,b)=>b==="onRest"?void 0:g);let d,c;const f=new Promise((g,b)=>(d=g,c=b)),h=g=>{const b=i<=(n.cancelId||0)&&Gs(r)||i!==n.asyncId&&dr(r,!1);if(b)throw g.result=b,c(g),g},m=(g,b)=>{const p=new ww,v=new xw;return(async()=>{if(Vr.skipAnimation)throw nu(n),v.result=dr(r,!1),c(v),v;h(p);const w=ce.obj(g)?Lt({},g):Lt({},b,{to:g});w.parentId=i,Hr(u,(S,E)=>{ce.und(w[E])&&(w[E]=S)});const x=await r.start(w);return h(p),n.paused&&await new Promise(S=>{n.resumeQueue.add(S)}),x})()};let y;if(Vr.skipAnimation)return nu(n),dr(r,!1);try{let g;ce.arr(t)?g=(async b=>{for(const p of b)await m(p)})(t):g=Promise.resolve(t(m,r.stop.bind(r))),await Promise.all([g.then(d),f]),y=dr(r.get(),!0,!1)}catch(g){if(g instanceof ww)y=g.result;else if(g instanceof xw)y=g.result;else throw g}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return ce.fun(s)&&Ne.batchedUpdates(()=>{s(y,r,r.item)}),y})()}function nu(t,e){wl(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class ww extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class xw extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Lg=t=>t instanceof Xv;let OB=1;class Xv extends DA{constructor(...e){super(...e),this.id=OB++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Mr(this);return e&&e.getValue()}to(...e){return Vr.to(this,e)}interpolate(...e){return rB(),Vr.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){Xl(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||Vd.sort(this),Xl(this,{type:"priority",parent:this,priority:e})}}const Qo=Symbol.for("SpringPhase"),JA=1,Dg=2,Ig=4,Op=t=>(t[Qo]&JA)>0,Si=t=>(t[Qo]&Dg)>0,Ua=t=>(t[Qo]&Ig)>0,Sw=(t,e)=>e?t[Qo]|=Dg|JA:t[Qo]&=~Dg,kw=(t,e)=>e?t[Qo]|=Ig:t[Qo]&=~Ig;class _B extends Xv{constructor(e,n){if(super(),this.key=void 0,this.animation=new CB,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ce.und(e)||!ce.und(n)){const r=ce.obj(e)?Lt({},e):Lt({},n,{from:e});ce.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Si(this)||this._state.asyncTo)||Ua(this)}get goal(){return yn(this.animation.to)}get velocity(){const e=Mr(this);return e instanceof _a?e.lastVelocity||0:e.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return Op(this)}get isAnimating(){return Si(this)}get isPaused(){return Ua(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1;const i=this.animation;let{config:o,toValues:s}=i;const a=Gd(i.to);!a&&Gn(i.to)&&(s=In(yn(i.to))),i.values.forEach((d,c)=>{if(d.done)return;const f=d.constructor==ua?1:a?a[c].lastPosition:s[c];let h=i.immediate,m=f;if(!h){if(m=d.lastPosition,o.tension<=0){d.done=!0;return}let y=d.elapsedTime+=e;const g=i.fromValues[c],b=d.v0!=null?d.v0:d.v0=ce.arr(o.velocity)?o.velocity[c]:o.velocity;let p;const v=o.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(ce.und(o.duration))if(o.decay){const w=o.decay===!0?.998:o.decay,x=Math.exp(-(1-w)*y);m=g+b/(1-w)*(1-x),h=Math.abs(d.lastPosition-m)<=v,p=b*x}else{p=d.lastVelocity==null?b:d.lastVelocity;const w=o.restVelocity||v/10,x=o.clamp?0:o.bounce,S=!ce.und(x),E=g==f?d.v0>0:g<f;let k,A=!1;const C=1,_=Math.ceil(e/C);for(let O=0;O<_&&(k=Math.abs(p)>w,!(!k&&(h=Math.abs(f-m)<=v,h)));++O){S&&(A=m==f||m>f==E,A&&(p=-p*x,m=f));const M=-o.tension*1e-6*(m-f),T=-o.friction*.001*p,N=(M+T)/o.mass;p=p+N*C,m=m+p*C}}else{let w=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,d.durationProgress>0&&(d.elapsedTime=o.duration*d.durationProgress,y=d.elapsedTime+=e)),w=(o.progress||0)+y/this._memoizedDuration,w=w>1?1:w<0?0:w,d.durationProgress=w),m=g+o.easing(w)*(f-g),p=(m-d.lastPosition)/e,h=w==1}d.lastVelocity=p,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[c].done&&(h=!1),h?d.done=!0:n=!1,d.setValue(m,o.round)&&(r=!0)});const l=Mr(this),u=l.getValue();if(n){const d=yn(i.to);(u!==d||r)&&!o.decay?(l.setValue(d),this._onChange(d)):r&&o.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return Ne.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Si(this)){const{to:e,config:n}=this.animation;Ne.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return ce.und(e)?(r=this.queue||[],this.queue=[]):r=[ce.obj(e)?e:Lt({},n,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>Yv(this,i))}stop(e){const{to:n}=this.animation;return this._focus(this.get()),nu(this._state,e&&this._lastCallId),Ne.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const n=this.key||"";let{to:r,from:i}=e;r=ce.obj(r)?r[n]:r,(r==null||Pg(r))&&(r=void 0),i=ce.obj(i)?i[n]:i,i==null&&(i=void 0);const o={to:r,from:i};return Op(this)||(e.reverse&&([r,i]=[i,r]),i=yn(i),ce.und(i)?Mr(this)||this._set(r):this._set(i)),o}_update(e,n){let r=Lt({},e);const{key:i,defaultProps:o}=this;r.default&&Object.assign(o,Qv(r,(l,u)=>/^on/.test(u)?HA(l,i):l)),Aw(this,r,"onProps"),Ka(this,"onProps",r,this);const s=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return WA(++this._lastCallId,{key:i,props:r,defaultProps:o,state:a,actions:{pause:()=>{Ua(this)||(kw(this,!0),ol(a.pauseQueue),Ka(this,"onPause",dr(this,Wa(this,this.animation.to)),this))},resume:()=>{Ua(this)&&(kw(this,!1),Si(this)&&this._resume(),ol(a.resumeQueue),Ka(this,"onResume",dr(this,Wa(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(r.loop&&l.finished&&!(n&&l.noop)){const u=QA(r);if(u)return this._update(u,!0)}return l})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(Gs(this));const i=!ce.und(e.to),o=!ce.und(e.from);if(i||o)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(Gs(this));const{key:s,defaultProps:a,animation:l}=this,{to:u,from:d}=l;let{to:c=u,from:f=d}=e;o&&!i&&(!n.default||ce.und(c))&&(c=f),n.reverse&&([c,f]=[f,c]);const h=!Zr(f,d);h&&(l.from=f),f=yn(f);const m=!Zr(c,u);m&&this._focus(c);const y=Pg(n.to),{config:g}=l,{decay:b,velocity:p}=g;(i||o)&&(g.velocity=0),n.config&&!y&&AB(g,Ao(n.config,s),n.config!==a.config?Ao(a.config,s):void 0);let v=Mr(this);if(!v||ce.und(c))return r(dr(this,!0));const w=ce.und(n.reset)?o&&!n.default:!ce.und(f)&&Sl(n.reset,s),x=w?f:this.get(),S=tu(c),E=ce.num(S)||ce.arr(S)||Kd(S),k=!y&&(!E||Sl(a.immediate||n.immediate,s));if(m){const O=Mg(c);if(O!==v.constructor)if(k)v=this._set(S);else throw Error(`Cannot animate between ${v.constructor.name} and ${O.name}, as the "to" prop suggests`)}const A=v.constructor;let C=Gn(c),_=!1;if(!C){const O=w||!Op(this)&&h;(m||O)&&(_=Zr(tu(x),S),C=!_),(!Zr(l.immediate,k)&&!k||!Zr(g.decay,b)||!Zr(g.velocity,p))&&(C=!0)}if(_&&Si(this)&&(l.changed&&!w?C=!0:C||this._stop(u)),!y&&((C||Gn(u))&&(l.values=v.getPayload(),l.toValues=Gn(c)?null:A==ua?[1]:In(S)),l.immediate!=k&&(l.immediate=k,!k&&!w&&this._set(u)),C)){const{onRest:O}=l;ze(NB,T=>Aw(this,n,T));const M=dr(this,Wa(this,u));ol(this._pendingCalls,M),this._pendingCalls.add(r),l.changed&&Ne.batchedUpdates(()=>{l.changed=!w,O==null||O(M,this),w?Ao(a.onRest,M):l.onStart==null||l.onStart(M,this)})}w&&this._set(x),y?r(GA(n.to,n,this._state,this)):C?this._start():Si(this)&&!m?this._pendingCalls.add(r):r(KA(x))}_focus(e){const n=this.animation;e!==n.to&&(dw(this)&&this._detach(),n.to=e,dw(this)&&this._attach())}_attach(){let e=0;const{to:n}=this.animation;Gn(n)&&(Oa(n,this),Lg(n)&&(e=n.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Gn(e)&&Zl(e,this)}_set(e,n=!0){const r=yn(e);if(!ce.und(r)){const i=Mr(this);if(!i||!Zr(r,i.getValue())){const o=Mg(r);!i||i.constructor!=o?Gv(this,o.create(r)):i.setValue(r),i&&Ne.batchedUpdates(()=>{this._onChange(r,n)})}}return Mr(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Ka(this,"onStart",dr(this,Wa(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),Ao(this.animation.onChange,e,this)),Ao(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){const e=this.animation;Mr(this).reset(yn(e.to)),e.immediate||(e.fromValues=e.values.map(n=>n.lastPosition)),Si(this)||(Sw(this,!0),Ua(this)||this._resume())}_resume(){Vr.skipAnimation?this.finish():Vd.start(this)}_stop(e,n){if(Si(this)){Sw(this,!1);const r=this.animation;ze(r.values,o=>{o.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Xl(this,{type:"idle",parent:this});const i=n?Gs(this.get()):dr(this.get(),Wa(this,e??r.to));ol(this._pendingCalls,i),r.changed&&(r.changed=!1,Ka(this,"onRest",i,this))}}}function Wa(t,e){const n=tu(e),r=tu(t.get());return Zr(r,n)}function QA(t,e=t.loop,n=t.to){let r=Ao(e);if(r){const i=r!==!0&&UA(r),o=(i||t).reverse,s=!i||i.reset;return ru(Lt({},t,{loop:e,default:!1,pause:void 0,to:!o||Pg(n)?n:void 0,from:s?t.from:void 0,reset:s},i))}}function ru(t){const{to:e,from:n}=t=UA(t),r=new Set;return ce.obj(e)&&Ew(e,r),ce.obj(n)&&Ew(n,r),t.keys=r.size?Array.from(r):null,t}function TB(t){const e=ru(t);return ce.und(e.default)&&(e.default=Qv(e)),e}function Ew(t,e){Hr(t,(n,r)=>n!=null&&e.add(r))}const NB=["onStart","onRest","onChange","onPause","onResume"];function Aw(t,e,n){t.animation[n]=e[n]!==VA(e,n)?HA(e[n],t.key):void 0}function Ka(t,e,...n){var r,i,o,s;(r=(i=t.animation)[e])==null||r.call(i,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}const MB=["onStart","onChange","onRest"];let PB=1,RB=class{constructor(e,n){this.id=PB++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(Lt({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];ce.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(ru(e)),this}start(e){let{queue:n}=this;return e?n=In(e).map(ru):this.queue=[],this._flush?this._flush(this,n):(tC(this,n),Bg(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;ze(In(n),i=>r[i].stop(!!e))}else nu(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(ce.und(e))this.start({pause:!0});else{const n=this.springs;ze(In(e),r=>n[r].pause())}return this}resume(e){if(ce.und(e))this.start({pause:!1});else{const n=this.springs;ze(In(e),r=>n[r].resume())}return this}each(e){Hr(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,o=this._changed.size>0;(i&&!this._started||o&&!this._started)&&(this._started=!0,wl(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const s=!i&&this._started,a=o||s&&r.size?this.get():null;o&&n.size&&wl(n,([l,u])=>{u.value=a,l(u,this,this._item)}),s&&(this._started=!1,wl(r,([l,u])=>{u.value=a,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ne.onFrame(this._onFrame)}};function Bg(t,e){return Promise.all(e.map(n=>YA(t,n))).then(n=>Yv(t,n))}async function YA(t,e,n){const{keys:r,to:i,from:o,loop:s,onRest:a,onResolve:l}=e,u=ce.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),o===!1&&(e.from=null);const d=ce.arr(i)||ce.fun(i)?i:void 0;d?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):ze(MB,y=>{const g=e[y];if(ce.fun(g)){const b=t._events[y];e[y]=({finished:p,cancelled:v})=>{const w=b.get(g);w?(p||(w.finished=!1),v&&(w.cancelled=!0)):b.set(g,{value:null,finished:p||!1,cancelled:v||!1})},u&&(u[y]=e[y])}});const c=t._state;e.pause===!c.paused?(c.paused=e.pause,ol(e.pause?c.pauseQueue:c.resumeQueue)):c.paused&&(e.pause=!0);const f=(r||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),h=e.cancel===!0||VA(e,"cancel")===!0;(d||h&&c.asyncId)&&f.push(WA(++t._lastAsyncId,{props:e,state:c,actions:{pause:_g,resume:_g,start(y,g){h?(nu(c,t._lastAsyncId),g(Gs(t))):(y.onRest=a,g(GA(d,y,c,t)))}}})),c.paused&&await new Promise(y=>{c.resumeQueue.add(y)});const m=Yv(t,await Promise.all(f));if(s&&m.finished&&!(n&&m.noop)){const y=QA(e,s,i);if(y)return tC(t,[y]),YA(t,y,!0)}return l&&Ne.batchedUpdates(()=>l(m,t,t.item)),m}function Cw(t,e){const n=Lt({},t.springs);return e&&ze(In(e),r=>{ce.und(r.keys)&&(r=ru(r)),ce.obj(r.to)||(r=Lt({},r,{to:void 0})),eC(n,r,i=>ZA(i))}),XA(t,n),n}function XA(t,e){Hr(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Oa(n,t))})}function ZA(t,e){const n=new _B;return n.key=t,e&&Oa(n,e),n}function eC(t,e,n){e.keys&&ze(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function tC(t,e){ze(e,n=>{eC(t.springs,n,r=>ZA(r,t))})}function LB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const DB=["children"],Qd=t=>{let{children:e}=t,n=LB(t,DB);const r=U.useContext(qf),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=aB(()=>({pause:i,immediate:o}),[i,o]);const{Provider:s}=qf;return U.createElement(s,{value:n},e)},qf=IB(Qd,{});Qd.Provider=qf.Provider;Qd.Consumer=qf.Consumer;function IB(t,e){return Object.assign(t,U.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const BB=()=>{const t=[],e=function(i){oB();const o=[];return ze(t,(s,a)=>{if(ce.und(i))o.push(s.start());else{const l=n(i,s,a);l&&o.push(s.start(l))}}),o};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return ze(t,r=>r.pause(...arguments)),this},e.resume=function(){return ze(t,r=>r.resume(...arguments)),this},e.set=function(r){ze(t,i=>i.set(r))},e.start=function(r){const i=[];return ze(t,(o,s)=>{if(ce.und(r))i.push(o.start());else{const a=this._getProps(r,o,s);a&&i.push(o.start(a))}}),i},e.stop=function(){return ze(t,r=>r.stop(...arguments)),this},e.update=function(r){return ze(t,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(i,o,s){return ce.fun(i)?i(s,o):i};return e._getProps=n,e};function FB(t,e,n){const r=ce.fun(e)&&e;r&&!n&&(n=[]);const i=U.useMemo(()=>r||arguments.length==3?BB():void 0,[]),o=U.useRef(0),s=$A(),a=U.useMemo(()=>({ctrls:[],queue:[],flush(b,p){const v=Cw(b,p);return o.current>0&&!a.queue.length&&!Object.keys(v).some(x=>!b.springs[x])?Bg(b,p):new Promise(x=>{XA(b,v),a.queue.push(()=>{x(Bg(b,p))}),s()})}}),[]),l=U.useRef([...a.ctrls]),u=[],d=pw(t)||0;U.useMemo(()=>{ze(l.current.slice(t,d),b=>{xB(b,i),b.stop(!0)}),l.current.length=t,c(d,t)},[t]),U.useMemo(()=>{c(0,Math.min(d,t))},n);function c(b,p){for(let v=b;v<p;v++){const w=l.current[v]||(l.current[v]=new RB(null,a.flush)),x=r?r(v,w):e[v];x&&(u[v]=TB(x))}}const f=l.current.map((b,p)=>Cw(b,u[p])),h=U.useContext(Qd),m=pw(h),y=h!==m&&wB(h);Kv(()=>{o.current++,a.ctrls=l.current;const{queue:b}=a;b.length&&(a.queue=[],ze(b,p=>p())),ze(l.current,(p,v)=>{i==null||i.add(p),y&&p.start({default:h});const w=u[v];w&&(SB(p,w.ref),p.ref?p.queue.push(w):p.start(w))})}),zA(()=>()=>{ze(a.ctrls,b=>b.stop(!0))});const g=f.map(b=>Lt({},b));return i?[g,i]:g}function Zv(t,e){const n=ce.fun(t),[[r],i]=FB(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}let Ow;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(Ow||(Ow={}));class nC extends Xv{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Yl(...n);const r=this._get(),i=Mg(r);Gv(this,i.create(r))}advance(e){const n=this._get(),r=this.get();Zr(n,r)||(Mr(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&_w(this._active)&&_p(this)}_get(){const e=ce.arr(this.source)?this.source.map(yn):In(yn(this.source));return this.calc(...e)}_start(){this.idle&&!_w(this._active)&&(this.idle=!1,ze(Gd(this),e=>{e.done=!1}),Vr.skipAnimation?(Ne.batchedUpdates(()=>this.advance()),_p(this)):Vd.start(this))}_attach(){let e=1;ze(In(this.source),n=>{Gn(n)&&Oa(n,this),Lg(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){ze(In(this.source),e=>{Gn(e)&&Zl(e,this)}),this._active.clear(),_p(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=In(this.source).reduce((n,r)=>Math.max(n,(Lg(r)?r.priority:0)+1),0))}}function jB(t){return t.idle!==!1}function _w(t){return!t.size||Array.from(t).every(jB)}function _p(t){t.idle||(t.idle=!0,ze(Gd(t),e=>{e.done=!0}),Xl(t,{type:"idle",parent:t}))}const $B=(t,...e)=>new nC(t,e);Vr.assign({createStringInterpolator:FA,to:(t,e)=>new nC(t,e)});function e0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const zB=["style","children","scrollTop","scrollLeft","viewBox"],rC=/^--/;function qB(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!rC.test(t)&&!(kl.hasOwnProperty(t)&&kl[t])?e+"px":(""+e).trim()}const Tw={};function HB(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",r=e,{style:i,children:o,scrollTop:s,scrollLeft:a,viewBox:l}=r,u=e0(r,zB),d=Object.values(u),c=Object.keys(u).map(f=>n||t.hasAttribute(f)?f:Tw[f]||(Tw[f]=f.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));o!==void 0&&(t.textContent=o);for(let f in i)if(i.hasOwnProperty(f)){const h=qB(f,i[f]);rC.test(f)?t.style.setProperty(f,h):t.style[f]=h}c.forEach((f,h)=>{t.setAttribute(f,d[h])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),l!==void 0&&t.setAttribute("viewBox",l)}let kl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const VB=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),UB=["Webkit","Ms","Moz","O"];kl=Object.keys(kl).reduce((t,e)=>(UB.forEach(n=>t[VB(n,e)]=t[e]),t),kl);const WB=["x","y","z"],KB=/^(matrix|translate|scale|rotate|skew)/,GB=/^(translate)/,JB=/^(rotate|skew)/,Tp=(t,e)=>ce.num(t)&&t!==0?t+e:t,Kc=(t,e)=>ce.arr(t)?t.every(n=>Kc(n,e)):ce.num(t)?t===e:parseFloat(t)===e;class QB extends Jd{constructor(e){let{x:n,y:r,z:i}=e,o=e0(e,WB);const s=[],a=[];(n||r||i)&&(s.push([n||0,r||0,i||0]),a.push(l=>[`translate3d(${l.map(u=>Tp(u,"px")).join(",")})`,Kc(l,0)])),Hr(o,(l,u)=>{if(u==="transform")s.push([l||""]),a.push(d=>[d,d===""]);else if(KB.test(u)){if(delete o[u],ce.und(l))return;const d=GB.test(u)?"px":JB.test(u)?"deg":"";s.push(In(l)),a.push(u==="rotate3d"?([c,f,h,m])=>[`rotate3d(${c},${f},${h},${Tp(m,d)})`,Kc(m,0)]:c=>[`${u}(${c.map(f=>Tp(f,d)).join(",")})`,Kc(c,u.startsWith("scale")?1:0)])}}),s.length&&(o.transform=new YB(s,a)),super(o)}}class YB extends DA{constructor(e,n){super(),this._value=null,this.inputs=e,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return ze(this.inputs,(r,i)=>{const o=yn(r[0]),[s,a]=this.transforms[i](ce.arr(o)?o:r.map(yn));e+=" "+s,n=n&&a}),n?"none":e}observerAdded(e){e==1&&ze(this.inputs,n=>ze(n,r=>Gn(r)&&Oa(r,this)))}observerRemoved(e){e==0&&ze(this.inputs,n=>ze(n,r=>Gn(r)&&Zl(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Xl(this,e)}}const XB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ZB=["scrollTop","scrollLeft"];Vr.assign({batchedUpdates:Ho.unstable_batchedUpdates,createStringInterpolator:FA,colors:I8});const e9=mB(XB,{applyAnimatedValues:HB,createAnimatedStyle:t=>new QB(t),getComponentProps:t=>e0(t,ZB)}),Hf=e9.animated;function t9(t){const e=U.useRef(t);return t&&(e.current=!0),!!e.current}const n9=t=>r9(t.active,t.forceRender,t.destroyOnClose)?t.children:null;function r9(t,e,n){const r=t9(t);return e||t?!0:r?!n:!1}function i9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"AddOutline-AddOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"AddOutline-add"},U.createElement("rect",{id:"AddOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M25.1,6.5 C25.3209139,6.5 25.5,6.6790861 25.5,6.9 L25.5,22.5 L41.1,22.5 C41.3209139,22.5 41.5,22.6790861 41.5,22.9 L41.5,25.1 C41.5,25.3209139 41.3209139,25.5 41.1,25.5 L25.5,25.5 L25.5,41.1 C25.5,41.3209139 25.3209139,41.5 25.1,41.5 L22.9,41.5 C22.6790861,41.5 22.5,41.3209139 22.5,41.1 L22.5,25.5 L6.9,25.5 C6.6790861,25.5 6.5,25.3209139 6.5,25.1 L6.5,22.9 C6.5,22.6790861 6.6790861,22.5 6.9,22.5 L22.5,22.5 L22.5,6.9 C22.5,6.6790861 22.6790861,6.5 22.9,6.5 L25.1,6.5 Z",id:"AddOutline-",fill:"currentColor",fillRule:"nonzero"}))))}function o9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"CloseCircleFill-CloseCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"CloseCircleFill-"},U.createElement("rect",{id:"CloseCircleFill-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",id:"CloseCircleFill-",fill:"currentColor",fillRule:"nonzero"}))))}function s9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"LeftOutline-LeftOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"LeftOutline-"},U.createElement("rect",{id:"LeftOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M31.7053818,5.11219264 L13.5234393,22.6612572 L13.5234393,22.6612572 C12.969699,23.2125856 12.9371261,24.0863155 13.4257204,24.6755735 L13.5234393,24.7825775 L31.7045714,42.8834676 C31.7795345,42.9580998 31.8810078,43 31.9867879,43 L35.1135102,43 C35.3344241,43 35.5135102,42.8209139 35.5135102,42.6 C35.5135102,42.4936115 35.4711279,42.391606 35.3957362,42.316542 L16.7799842,23.7816937 L16.7799842,23.7816937 L35.3764658,5.6866816 C35.5347957,5.53262122 35.5382568,5.27937888 35.3841964,5.121049 C35.3088921,5.04365775 35.205497,5 35.0975148,5 L31.9831711,5 C31.8795372,5 31.7799483,5.04022164 31.7053818,5.11219264 Z",id:"LeftOutline-",fill:"currentColor",fillRule:"nonzero"}))))}function a9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"MoreOutline-MoreOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"MoreOutline-"},U.createElement("rect",{id:"MoreOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M12,21 C13.6568542,21 15,22.3431458 15,24 C15,25.6568542 13.6568542,27 12,27 C10.3431458,27 9,25.6568542 9,24 C9,22.3431458 10.3431458,21 12,21 Z M24,21 C25.6568542,21 27,22.3431458 27,24 C27,25.6568542 25.6568542,27 24,27 C22.3431458,27 21,25.6568542 21,24 C21,22.3431458 22.3431458,21 24,21 Z M36,21 C37.6568542,21 39,22.3431458 39,24 C39,25.6568542 37.6568542,27 36,27 C34.3431458,27 33,25.6568542 33,24 C33,22.3431458 34.3431458,21 36,21 Z",id:"MoreOutline-",fill:"currentColor",fillRule:"nonzero"}))))}function l9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"RedoOutline-RedoOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"RedoOutline-"},U.createElement("rect",{id:"RedoOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M10.3183149,4.67509546 L8.11853432,6.85361151 C8.04267789,6.92873467 8,7.03106463 8,7.13782458 L8,12.7941829 L8,12.7941829 C8,13.6148733 8.66530096,14.2801742 9.48599129,14.2801742 L15.2144228,14.2799123 C15.3198533,14.2799075 15.4210186,14.2382783 15.495918,14.164078 L17.6884342,11.9920253 C17.8453746,11.8365497 17.846562,11.5832865 17.6910864,11.4263461 C17.6159714,11.3505234 17.5136695,11.3078645 17.4069393,11.3078596 C16.4458378,11.3078149 15.4847362,11.3077702 14.5236347,11.3077256 C14.195184,11.3077103 13.7025079,11.3076874 13.0456065,11.3076569 C13.4913013,10.9492766 13.8306754,10.6867949 14.0637288,10.5202117 C16.8584596,8.52257824 20.290479,7.3455482 24,7.3455482 C33.3888407,7.3455482 41,14.8856258 41,24.1867828 C41,33.4879399 33.3888407,41.0280174 24,41.0280174 C15.1086664,41.0280174 7.8116099,34.2658537 7.06324515,25.6496709 C7.04116461,25.39545 7.02335978,25.0372374 7.00983067,24.575033 C7.00345476,24.3587956 6.82633334,24.1867828 6.61000192,24.1867828 C6.29559537,24.1867828 6.06186091,24.1867828 5.90879853,24.1867828 C5.54171933,24.1867828 5.23878649,24.1867828 5,24.1867828 C4.85202546,24.1867828 4.65478388,24.1867828 4.40827526,24.1867828 L4.40827526,24.1866878 C4.18730889,24.1866878 4.00818025,24.3658164 4.00818025,24.5867828 C4.00818025,24.5899736 4.00821842,24.5931643 4.00829475,24.5963542 C4.0178917,24.9974016 4.0303453,25.3106811 4.04565556,25.5361926 C4.74583138,35.8493898 13.412104,44 24,44 C35.045695,44 44,35.1293205 44,24.1867828 C44,13.2442451 35.045695,4.37356563 24,4.37356563 C19.4731357,4.37356563 15.2975437,5.86349521 11.9456371,8.37535324 C11.7300283,8.53692651 11.4144248,8.78866006 10.9988266,9.13055386 C10.998921,8.71783017 10.9989918,8.4082874 10.999039,8.20192555 C10.9992862,7.12108371 10.9995334,6.04024186 10.9997806,4.95940002 C10.9998311,4.73848612 10.820786,4.55935907 10.5998721,4.55930855 C10.4944268,4.55928443 10.3932372,4.60089741 10.3183149,4.67509546 Z",id:"RedoOutline-",fill:"currentColor",fillRule:"nonzero"}))))}function u9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"RightOutline-RightOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"RightOutline-RightOutlined"},U.createElement("rect",{id:"RightOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z",id:"RightOutline-right",fill:"currentColor",fillRule:"nonzero"}))))}function c9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"SearchOutline-SearchOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"SearchOutline-"},U.createElement("rect",{id:"SearchOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M10.2434135,10.1505371 C17.2346315,3.28315429 28.5696354,3.28315429 35.5608534,10.1505371 C42.3159331,16.7859644 42.5440954,27.4048667 36.2453405,34.3093889 L43.7095294,41.6422249 C43.8671196,41.7970419 43.8693677,42.0502979 43.7145508,42.2078881 C43.7128864,42.2095822 43.7112069,42.2112616 43.7095126,42.2129259 L42.1705322,43.7246464 C42.014915,43.8775072 41.7655181,43.8775006 41.6099089,43.7246316 L34.0775268,36.3248916 L34.0775268,36.3248916 C27.0485579,41.8551751 16.7593545,41.4200547 10.2434135,35.0195303 C3.25219551,28.1521474 3.25219551,17.0179199 10.2434135,10.1505371 Z M12.3532001,12.2229532 C6.52718516,17.9457722 6.52718516,27.2242951 12.3532001,32.9471142 C18.1792151,38.6699332 27.6250517,38.6699332 33.4510667,32.9471142 C39.2770817,27.2242951 39.2770817,17.9457722 33.4510667,12.2229532 C27.6250517,6.50013419 18.1792151,6.50013419 12.3532001,12.2229532 Z",id:"SearchOutline-",fill:"currentColor",fillRule:"nonzero"}))))}function f9(t){return U.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),U.createElement("g",{id:"UndoOutline-UndoOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},U.createElement("g",{id:"UndoOutline-"},U.createElement("rect",{id:"UndoOutline-",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),U.createElement("path",{d:"M37.6816851,4.67509546 L39.8814657,6.85361151 C39.9573221,6.92873467 40,7.03106463 40,7.13782458 L40,12.7941829 L40,12.7941829 C40,13.6148733 39.334699,14.2801742 38.5140087,14.2801742 L32.7855772,14.2799123 C32.6801467,14.2799075 32.5789814,14.2382783 32.504082,14.164078 L30.3115658,11.9920253 C30.1546254,11.8365497 30.153438,11.5832865 30.3089136,11.4263461 C30.3840286,11.3505234 30.4863305,11.3078645 30.5930607,11.3078596 C31.6352757,11.3078111 32.6774907,11.3077627 33.7197057,11.3077142 C33.9940808,11.3077015 34.4056434,11.3076824 34.9543935,11.3076569 C34.447242,10.9019845 34.0603405,10.6058972 33.7936891,10.4193952 C31.0251782,8.48303631 27.6466787,7.3455482 24,7.3455482 C14.6111593,7.3455482 7,14.8856258 7,24.1867828 C7,33.4879399 14.6111593,41.0280174 24,41.0280174 C32.9375071,41.0280174 40.2641356,34.1954384 40.9478833,25.5152879 C40.9655577,25.2909127 40.979903,24.9777463 40.9909194,24.575789 C40.9968894,24.3592445 41.1741425,24.1867828 41.3907692,24.1867828 C41.6454621,24.1867828 41.848539,24.1867828 42,24.1867828 C42.2242544,24.1867828 42.505085,24.1867828 42.8424919,24.1867828 C43.0040925,24.1867828 43.2540143,24.1867828 43.5922573,24.1867828 L43.5922573,24.1867425 C43.8131934,24.1867425 43.9922976,24.3658467 43.9922976,24.5867828 C43.9922976,24.5898274 43.9922628,24.592872 43.9921933,24.5959158 C43.9839849,24.955365 43.9734263,25.2373729 43.9605177,25.4419395 C43.3069184,35.7996864 34.62013,44 24,44 C12.954305,44 4,35.1293205 4,24.1867828 C4,13.2442451 12.954305,4.37356563 24,4.37356563 C28.4185686,4.37356563 32.5024707,5.79306104 35.8123933,8.19684145 C36.0846021,8.3945289 36.4808621,8.70576637 37.0011734,9.13055386 C37.0010426,8.55895913 37.0009446,8.13026308 37.0008792,7.84446571 C37.0006593,6.88277715 37.0004394,5.92108858 37.0002194,4.95940002 C37.0001689,4.73848612 37.179214,4.55935907 37.4001279,4.55930855 C37.5055732,4.55928443 37.6067628,4.60089741 37.6816851,4.67509546 Z",id:"UndoOutline-",fill:"currentColor",fillRule:"nonzero"}))))}const d9=J5(qd);const h9="adm-dot-loading",p9={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},m9={color:"default"},g9=U.memo(t=>{var e;const n=ds(m9,t);return kr(n,fe.createElement("div",{style:{color:(e=p9[n.color])!==null&&e!==void 0?e:n.color},className:un("adm-loading",h9)},fe.createElement("svg",{height:"1em",viewBox:"0 0 100 40",style:{verticalAlign:"-0.125em"}},fe.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},fe.createElement("g",{transform:"translate(-100.000000, -71.000000)"},fe.createElement("g",{transform:"translate(95.000000, 71.000000)"},fe.createElement("g",{transform:"translate(5.000000, 0.000000)"},[0,1,2].map(r=>fe.createElement("rect",{key:r,fill:"currentColor",x:20+r*26,y:"16",width:"8",height:"8",rx:"2"},fe.createElement("animate",{attributeName:"y",from:"16",to:"16",dur:"2s",begin:`${r*.2}s`,repeatCount:"indefinite",values:"16; 6; 26; 16; 16",keyTimes:"0; 0.1; 0.3; 0.4; 1"}))))))))))}),y9=g9;function v9(t){return!!t&&typeof t=="object"&&typeof t.then=="function"}function b9(){return iA?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1}const Vn="adm-button",w9={color:"default",fill:"solid",block:!1,loading:!1,loadingIcon:fe.createElement(y9,{color:"currentColor"}),type:"button",shape:"default",size:"middle"},x9=U.forwardRef((t,e)=>{const n=ds(w9,t),[r,i]=U.useState(!1),o=U.useRef(null),s=n.loading==="auto"?r:n.loading,a=n.disabled||s;U.useImperativeHandle(e,()=>({get nativeElement(){return o.current}}));const l=u=>oR(void 0,void 0,void 0,function*(){if(!n.onClick)return;const d=n.onClick(u);if(v9(d))try{i(!0),yield d,i(!1)}catch(c){throw i(!1),c}});return kr(n,fe.createElement("button",{ref:o,type:n.type,onClick:l,className:un(Vn,n.color?`${Vn}-${n.color}`:null,{[`${Vn}-block`]:n.block,[`${Vn}-disabled`]:a,[`${Vn}-fill-outline`]:n.fill==="outline",[`${Vn}-fill-none`]:n.fill==="none",[`${Vn}-mini`]:n.size==="mini",[`${Vn}-small`]:n.size==="small",[`${Vn}-large`]:n.size==="large",[`${Vn}-loading`]:s},`${Vn}-shape-${n.shape}`),disabled:a,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onTouchStart:n.onTouchStart,onTouchEnd:n.onTouchEnd},s?fe.createElement("div",{className:`${Vn}-loading-wrapper`},n.loadingIcon,n.loadingText):fe.createElement("span",null,n.children)))}),oi=x9;function t0(t){const{value:e,defaultValue:n,onChange:r}=t,i=ID(),o=U.useRef(e!==void 0?e:n);e!==void 0&&(o.current=e);const s=Iv((a,l=!1)=>{const u=typeof a=="function"?a(o.current):a;if(!(!l&&u===o.current))return o.current=u,i(),r==null?void 0:r(u)});return[o.current,s]}function S9(t,e){const n=Iv(t);qd(()=>{const r=e.current;if(r)if(window.ResizeObserver){let i;const o=new ResizeObserver(()=>{i=window.requestAnimationFrame(()=>n(r))});return o.observe(r),()=>{window.cancelAnimationFrame(i),o.disconnect()}}else n(r)},[e])}function k9(t,e,n){const r=Iv(t);U.useEffect(()=>{const i=new MutationObserver(()=>{r()});if(e.current)return i.observe(e.current,n),()=>{i.disconnect()}},[e])}function iC(t,e,n){let r=t;return e!==void 0&&(r=Math.max(t,e)),n!==void 0&&(r=Math.min(r,n)),r}const E9=(t,e)=>{const[{scrollLeft:n},r]=Zv(()=>({scrollLeft:0,config:{tension:300,clamp:!0}}));function i(o=!1){const s=t.current;if(!s||e===void 0)return;const l=s.children.item(e).children.item(0),u=l.offsetLeft,d=l.offsetWidth,c=s.offsetWidth,f=s.scrollWidth,h=s.scrollLeft;if(f-c<=0)return;const y=iC(u-(c-d)/2,0,f-c);r.start({scrollLeft:y,from:{scrollLeft:h},immediate:o&&!n.isAnimating})}return qd(()=>{i(!0)},[]),d9(()=>{i()},[e]),k9(()=>{i(!0)},t,{subtree:!0,childList:!0,characterData:!0}),{scrollLeft:n,animate:i}};const dc="adm-scroll-mask",A9=t=>{const e=U.useRef(null),[{leftMaskOpacity:n,rightMaskOpacity:r},i]=Zv(()=>({leftMaskOpacity:0,rightMaskOpacity:0,config:{clamp:!0}})),{run:o}=T8((s=!1)=>{if(!e.current)return;const l=t.scrollTrackRef.current;if(!l)return;const u=l.scrollLeft,d=u>0,c=u+l.offsetWidth<l.scrollWidth;i.start({leftMaskOpacity:d?1:0,rightMaskOpacity:c?1:0,immediate:s})},{wait:100,trailing:!0,leading:!0});return U.useEffect(()=>{o(!0)},[]),U.useEffect(()=>{const s=t.scrollTrackRef.current;if(s)return s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)},[]),fe.createElement(fe.Fragment,null,fe.createElement(Hf.div,{ref:e,className:un(dc,`${dc}-left`),style:{opacity:n}}),fe.createElement(Hf.div,{className:un(dc,`${dc}-right`),style:{opacity:r}}))},C9=A9;var Fg={},O9={get exports(){return Fg},set exports(t){Fg=t}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.element"),r0=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),_9=Symbol.for("react.server_context"),nh=Symbol.for("react.forward_ref"),rh=Symbol.for("react.suspense"),ih=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),T9=Symbol.for("react.offscreen"),oC;oC=Symbol.for("react.module.reference");function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case n0:switch(t=t.type,t){case Yd:case Zd:case Xd:case rh:case ih:return t;default:switch(t=t&&t.$$typeof,t){case _9:case th:case nh:case sh:case oh:case eh:return t;default:return e}}case r0:return e}}}Ye.ContextConsumer=th;Ye.ContextProvider=eh;Ye.Element=n0;Ye.ForwardRef=nh;Ye.Fragment=Yd;Ye.Lazy=sh;Ye.Memo=oh;Ye.Portal=r0;Ye.Profiler=Zd;Ye.StrictMode=Xd;Ye.Suspense=rh;Ye.SuspenseList=ih;Ye.isAsyncMode=function(){return!1};Ye.isConcurrentMode=function(){return!1};Ye.isContextConsumer=function(t){return ir(t)===th};Ye.isContextProvider=function(t){return ir(t)===eh};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===n0};Ye.isForwardRef=function(t){return ir(t)===nh};Ye.isFragment=function(t){return ir(t)===Yd};Ye.isLazy=function(t){return ir(t)===sh};Ye.isMemo=function(t){return ir(t)===oh};Ye.isPortal=function(t){return ir(t)===r0};Ye.isProfiler=function(t){return ir(t)===Zd};Ye.isStrictMode=function(t){return ir(t)===Xd};Ye.isSuspense=function(t){return ir(t)===rh};Ye.isSuspenseList=function(t){return ir(t)===ih};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yd||t===Zd||t===Xd||t===rh||t===ih||t===T9||typeof t=="object"&&t!==null&&(t.$$typeof===sh||t.$$typeof===oh||t.$$typeof===eh||t.$$typeof===th||t.$$typeof===nh||t.$$typeof===oC||t.getModuleId!==void 0)};Ye.typeOf=ir;(function(t){t.exports=Ye})(O9);function N9(t,e){let n=0;function r(i){fe.Children.forEach(i,o=>{Fg.isFragment(o)?r(o.props.children):(e(o,n),n+=1)})}r(t)}const ki="adm-capsule-tabs",M9=()=>null,P9=t=>{var e;const n=U.useRef(null),r=U.useRef(null),i={};let o=null;const s=[];N9(t.children,(c,f)=>{if(!fe.isValidElement(c))return;const h=c.key;if(typeof h!="string")return;f===0&&(o=h);const m=s.push(c);i[h]=m-1});const[a,l]=t0({value:t.activeKey,defaultValue:(e=t.defaultActiveKey)!==null&&e!==void 0?e:o,onChange:c=>{var f;c!==null&&((f=t.onChange)===null||f===void 0||f.call(t,c))}}),{scrollLeft:u,animate:d}=E9(n,i[a]);return S9(()=>{d(!0)},r),kr(t,fe.createElement("div",{className:ki,ref:r},fe.createElement("div",{className:`${ki}-header`},fe.createElement(C9,{scrollTrackRef:n}),fe.createElement(Hf.div,{className:`${ki}-tab-list`,ref:n,scrollLeft:u},s.map(c=>kr(c.props,fe.createElement("div",{key:c.key,className:`${ki}-tab-wrapper`},fe.createElement("div",{onClick:()=>{const{key:f}=c;c.props.disabled||f!=null&&l(f.toString())},className:un(`${ki}-tab`,{[`${ki}-tab-active`]:c.key===a,[`${ki}-tab-disabled`]:c.props.disabled})},c.props.title)))))),s.map(c=>{if(c.props.children===void 0)return null;const f=c.key===a;return fe.createElement(n9,{key:c.key,active:f,forceRender:c.props.forceRender,destroyOnClose:c.props.destroyOnClose},fe.createElement("div",{className:`${ki}-content`,style:{display:f?"block":"none"}},c.props.children))})))},Nw=aA(P9,{Tab:M9});const hc="adm-card",R9=t=>{const e=()=>t.title||t.extra?fe.createElement("div",{className:un(`${hc}-header`,t.headerClassName),style:t.headerStyle,onClick:t.onHeaderClick},fe.createElement("div",{className:`${hc}-header-title`},t.title),t.extra):null,n=()=>t.children?fe.createElement("div",{className:un(`${hc}-body`,t.bodyClassName),style:t.bodyStyle,onClick:t.onBodyClick},t.children):null;return kr(t,fe.createElement("div",{className:hc,onClick:t.onClick},e(),n()))},L9=R9;function D9(t,e,n){return Math.max(e,Math.min(t,n))}const en={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Mw(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function Pw(t,e,n,r=.15){return r===0?D9(t,e,n):t<e?-Mw(e-t,n-e,r)+e:t>n?+Mw(t-n,n-e,r)+n:t}function I9(t,[e,n],[r,i]){const[[o,s],[a,l]]=t;return[Pw(e,o,s,r),Pw(n,a,l,i)]}function gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const sC={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Lw(t){return t?t[0].toUpperCase()+t.slice(1):""}const B9=["enter","leave"];function F9(t=!1,e){return t&&!B9.includes(e)}function j9(t,e="",n=!1){const r=sC[t],i=r&&r[e]||e;return"on"+Lw(t)+Lw(i)+(F9(n,i)?"Capture":"")}const $9=["gotpointercapture","lostpointercapture"];function z9(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=$9.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function q9(t,e=""){const n=sC[t],r=n&&n[e]||e;return t+r}function ah(t){return"touches"in t}function aC(t){return ah(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function H9(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function V9(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function lC(t){return ah(t)?V9(t)[0]:t}function U9(t){return H9(t).map(e=>e.identifier)}function Np(t){const e=lC(t);return ah(t)?e.identifier:e.pointerId}function Dw(t){const e=lC(t);return[e.clientX,e.clientY]}function W9(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return e}function Vf(t,...e){return typeof t=="function"?t(...e):t}function K9(){}function G9(...t){return t.length===0?K9:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function Iw(t,e){return Object.assign({},e,t||{})}const J9=32;class Q9{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?Vf(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=e.timeStamp}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,W9(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const S=n._delta.map(Math.abs);en.addTo(n._distance,S)}this.axisIntent&&this.axisIntent(e);const[s,a]=n._movement,[l,u]=r.threshold,{_step:d,values:c}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(s)>=l&&c[0]),d[1]===!1&&(d[1]=Math.abs(a)>=u&&c[1])):(d[0]===!1&&(d[0]=Math.abs(s)>=l&&Math.sign(s)*l),d[1]===!1&&(d[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[S,E]=c;f[0]=d[0]!==!1?S-d[0]:0,f[1]=d[1]!==!1?E-d[1]:0}else f[0]=d[0]!==!1?s-d[0]:0,f[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(f);const h=n.offset,m=n._active&&!n._blocked||n.active;m&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=Vf(r.bounds,n)),this.setup&&this.setup()),n.movement=f,this.computeOffset()));const[y,g]=n.offset,[[b,p],[v,w]]=n._bounds;n.overflow=[y<b?-1:y>p?1:0,g<v?-1:g>w?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const x=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=I9(n._bounds,n.offset,x),n.delta=en.sub(n.offset,h),this.computeMovement(),m&&(!n.last||o>J9)){n.delta=en.sub(n.offset,h);const S=n.delta.map(Math.abs);en.addTo(n.distance,S),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[S[0]/o,S[1]/o])}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(mt(mt(mt({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Y9([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class X9 extends Q9{constructor(...e){super(...e),gn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=en.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=en.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[aC(e)]:r.axisThreshold;n.axis=Y9(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Z9=t=>t,Bw=.15,uC={enabled(t=!0){return t},eventOptions(t,e,n){return mt(mt({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Bw,Bw];case!1:return[0,0];default:return en.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return en.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||Z9},threshold(t){return en.toVector(t,0)}},eF=0,Pu=mt(mt({},uC),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=eF){return t},bounds(t={}){if(typeof t=="function")return o=>Pu.bounds(t(o));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),pc=10,Fw={ArrowRight:(t=1)=>[pc*t,0],ArrowLeft:(t=1)=>[-pc*t,0],ArrowUp:(t=1)=>[0,-pc*t],ArrowDown:(t=1)=>[0,pc*t]};class tF extends X9{constructor(...e){super(...e),gn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Pu.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Np(e),r._pointerActive=!0,this.computeValues(Dw(e)),this.computeInitial(),n.preventScrollAxis&&aC(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=Np(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=Dw(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=en.sub(o,n._values),this.computeValues(o)),en.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=Np(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,s]=n._distance;if(n.tap=o<=r.tapsThreshold&&s<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n.direction,[u,d]=n.velocity,[c,f]=n.movement,[h,m]=r.swipe.velocity,[y,g]=r.swipe.distance,b=r.swipe.duration;n.elapsedTime<b&&(Math.abs(u)>h&&Math.abs(c)>y&&(n.swipe[0]=a),Math.abs(d)>m&&Math.abs(f)>g&&(n.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,nF(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=Fw[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(i),r._keyboardActive=!0,en.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Fw&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function nF(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Ru=typeof window<"u"&&window.document&&window.document.createElement;function rF(){return Ru&&"ontouchstart"in window}function jw(){return rF()||Ru&&window.navigator.maxTouchPoints>1}function iF(){return Ru&&"onpointerdown"in window}function oF(){return Ru&&"exitPointerLock"in window.document}function sF(){try{return"constructor"in GestureEvent}catch{return!1}}const Jn={isBrowser:Ru,gesture:sF(),touch:jw(),touchscreen:jw(),pointer:iF(),pointerLock:oF()},aF=250,lF=180,uF=.5,cF=50,fF=250,$w={mouse:0,touch:0,pen:8},dF=mt(mt({},Pu),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Jn.pointerLock,Jn.touch&&n?"touch":this.pointerLock?"mouse":Jn.pointer&&!i?"pointer":Jn.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?aF:void 0,!(!Jn.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&n},keys(t=!0){return t},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=en.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:t=uF,distance:e=cF,duration:n=fF}={}){return{velocity:this.transform(en.toVector(t)),distance:this.transform(en.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return lF;case!1:return 0;default:return t}},axisThreshold(t){return t?mt(mt({},$w),t):$w}});mt(mt({},uC),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Jn.touch&&Jn.gesture)return"gesture";if(Jn.touch&&r)return"touch";if(Jn.touchscreen){if(Jn.pointer)return"pointer";if(Jn.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=s=>{const a=Iw(Vf(n,s),{min:-1/0,max:1/0});return[a.min,a.max]},o=s=>{const a=Iw(Vf(r,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:s=>[i(s),o(s)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",en.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t}});mt(mt({},Pu),{},{mouseOnly:(t=!0)=>t});mt(mt({},Pu),{},{mouseOnly:(t=!0)=>t});const cC=new Map,jg=new Map;function hF(t){cC.set(t.key,t.engine),jg.set(t.key,t.resolver)}const pF={key:"drag",engine:tF,resolver:dF};function mF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gF(t,e){if(t==null)return{};var n=mF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const yF={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Jn.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},vF=["target","eventOptions","window","enabled","transform"];function Gc(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=Gc(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function bF(t,e,n={}){const r=t,{target:i,eventOptions:o,window:s,enabled:a,transform:l}=r,u=gF(r,vF);if(n.shared=Gc({target:i,eventOptions:o,window:s,enabled:a,transform:l},yF),e){const d=jg.get(e);n[e]=Gc(mt({shared:n.shared},u),d)}else for(const d in u){const c=jg.get(d);c&&(n[d]=Gc(mt({shared:n.shared},u[d]),c))}return n}class fC{constructor(e,n){gn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,o){const s=this._listeners,a=q9(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=mt(mt({},l),o);e.addEventListener(a,i,u);const d=()=>{e.removeEventListener(a,i,u),s.delete(d)};return s.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class wF{constructor(){gn(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class xF{constructor(e){gn(this,"gestures",new Set),gn(this,"_targetEventStore",new fC(this)),gn(this,"gestureEventStores",{}),gn(this,"gestureTimeoutStores",{}),gn(this,"handlers",{}),gn(this,"config",{}),gn(this,"pointerIds",new Set),gn(this,"touchIds",new Set),gn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),SF(this,e)}setEventIds(e){if(ah(e))return this.touchIds=new Set(U9(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=bF(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const s of this.gestures){const a=this.config[s],l=zw(r,a.eventOptions,!!i);if(a.enabled){const u=cC.get(s);new u(this,e,s).bind(l)}}const o=zw(r,n.eventOptions,!!i);for(const s in this.nativeHandlers)o(s,"",a=>this.nativeHandlers[s](mt(mt({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const o in r)r[o]=G9(...r[o]);if(!i)return r;for(const o in r){const{device:s,capture:a,passive:l}=z9(o);this._targetEventStore.add(i,s,"",r[o],{capture:a,passive:l})}}}}function ys(t,e){t.gestures.add(e),t.gestureEventStores[e]=new fC(t,e),t.gestureTimeoutStores[e]=new wF}function SF(t,e){e.drag&&ys(t,"drag"),e.wheel&&ys(t,"wheel"),e.scroll&&ys(t,"scroll"),e.move&&ys(t,"move"),e.pinch&&ys(t,"pinch"),e.hover&&ys(t,"hover")}const zw=(t,e,n)=>(r,i,o,s={},a=!1)=>{var l,u;const d=(l=s.capture)!==null&&l!==void 0?l:e.capture,c=(u=s.passive)!==null&&u!==void 0?u:e.passive;let f=a?r:j9(r,i,d);n&&c&&(f+="Passive"),t[f]=t[f]||[],t[f].push(o)};function kF(t,e={},n,r){const i=fe.useMemo(()=>new xF(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),fe.useEffect(i.effect.bind(i)),fe.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function EF(t,e){return hF(pF),kF({drag:t},e||{},"drag")}const Ga="adm-list",AF={mode:"default"},CF=U.forwardRef((t,e)=>{const n=ds(AF,t),r=U.useRef(null);return U.useImperativeHandle(e,()=>({get nativeElement(){return r.current}})),kr(n,fe.createElement("div",{className:un(Ga,`${Ga}-${n.mode}`),ref:r},n.header&&fe.createElement("div",{className:`${Ga}-header`},n.header),fe.createElement("div",{className:`${Ga}-body`},fe.createElement("div",{className:`${Ga}-body-inner`},n.children))))});function Ja(t){return t!=null&&t!==!1}const Jr="adm-list-item",OF=t=>{var e;const n=(e=t.clickable)!==null&&e!==void 0?e:!!t.onClick,r=t.arrow===void 0?n:t.arrow,i=fe.createElement("div",{className:`${Jr}-content`},Ja(t.prefix)&&fe.createElement("div",{className:`${Jr}-content-prefix`},t.prefix),fe.createElement("div",{className:`${Jr}-content-main`},Ja(t.title)&&fe.createElement("div",{className:`${Jr}-title`},t.title),t.children,Ja(t.description)&&fe.createElement("div",{className:`${Jr}-description`},t.description)),Ja(t.extra)&&fe.createElement("div",{className:`${Jr}-content-extra`},t.extra),Ja(r)&&fe.createElement("div",{className:`${Jr}-content-arrow`},r===!0?fe.createElement(u9,null):r));return kr(t,fe.createElement(n?"a":"div",{className:un(`${Jr}`,n?["adm-plain-anchor"]:[],t.disabled&&`${Jr}-disabled`),onClick:t.disabled?void 0:t.onClick},i))},Mp=aA(CF,{Item:OF});const mc="adm-floating-bubble",_F={axis:"y",defaultOffset:{x:0,y:0}},TF=t=>{const e=ds(_F,t),n=U.useRef(null),r=U.useRef(null),[i,o]=U.useState(e.offset===void 0?e.defaultOffset:e.offset);U.useEffect(()=>{e.offset!==void 0&&u.start({x:e.offset.x,y:e.offset.y})},[e.offset]);const[{x:s,y:a,opacity:l},u]=Zv(()=>({x:i.x,y:i.y,opacity:1})),d=EF(c=>{var f;let h=c.offset[0],m=c.offset[1];if(c.last&&e.magnetic){const g=n.current,b=r.current;if(!g||!b)return;const p=g.getBoundingClientRect(),v=b.getBoundingClientRect();if(e.magnetic==="x"){const w=s.goal-s.get(),x=v.left+w-p.left,S=p.right-(v.right+w);S<=x?h+=S:h-=x}else if(e.magnetic==="y"){const w=a.goal-a.get(),x=v.top+w-p.top,S=p.bottom-(v.bottom+w);S<=x?m+=S:m-=x}}const y={x:h,y:m};e.offset===void 0?u.start(y):o(y),(f=e.onOffsetChange)===null||f===void 0||f.call(e,y),u.start({opacity:c.active?.8:1})},{axis:e.axis==="xy"?void 0:e.axis,pointer:{touch:!0},filterTaps:!0,bounds:n,from:()=>[s.get(),a.get()]});return kr(e,fe.createElement("div",{className:mc},fe.createElement("div",{className:`${mc}-boundary-outer`},fe.createElement("div",{className:`${mc}-boundary`,ref:n})),fe.createElement(Hf.div,Object.assign({},d(),{style:{opacity:l,transform:$B([s,a],(c,f)=>`translate(${c}px, ${f}px)`)},onClick:e.onClick,className:`${mc}-button`,ref:r}),e.children)))},NF=TF;function MF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dC(t,e){if(t==null)return{};var n=MF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yo(t){return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function PF(t,e){if(Yo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RF(t){var e=PF(t,"string");return Yo(e)==="symbol"?e:String(e)}function $g(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(n),!0).forEach(function(r){$g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LF(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}}var Vw={};function DF(t,e){}function IF(t,e,n){!e&&!Vw[n]&&(t(!1,n),Vw[n]=!0)}function BF(t,e){IF(DF,t,e)}function FF(t){if(Array.isArray(t))return t}function jF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $F(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function hC(t,e){return FF(t)||$F(t,e)||LF(t,e)||jF()}const gc="adm-input",zF={defaultValue:"",onlyShowClearWhenFocus:!0},qF=U.forwardRef((t,e)=>{const n=ds(zF,t),[r,i]=t0(n),[o,s]=U.useState(!1),a=U.useRef(!1),l=U.useRef(null),{locale:u}=sA();U.useImperativeHandle(e,()=>({clear:()=>{i("")},focus:()=>{var h;(h=l.current)===null||h===void 0||h.focus()},blur:()=>{var h;(h=l.current)===null||h===void 0||h.blur()},get nativeElement(){return l.current}}));const d=h=>{var m;n.onEnterPress&&(h.code==="Enter"||h.keyCode===13)&&n.onEnterPress(h),(m=n.onKeyDown)===null||m===void 0||m.call(n,h)};qd(()=>{var h;if(n.enterKeyHint)return(h=l.current)===null||h===void 0||h.setAttribute("enterkeyhint",n.enterKeyHint),()=>{var m;(m=l.current)===null||m===void 0||m.removeAttribute("enterkeyhint")}},[n.enterKeyHint]);function c(){let h=r;n.type==="number"&&(h=h&&iC(parseFloat(h),n.min,n.max).toString()),h!==r&&i(h)}const f=(()=>!n.clearable||!r||n.readOnly?!1:n.onlyShowClearWhenFocus?o:!0)();return kr(n,fe.createElement("div",{className:un(`${gc}`,n.disabled&&`${gc}-disabled`)},fe.createElement("input",{ref:l,className:`${gc}-element`,value:r,onChange:h=>{i(h.target.value)},onFocus:h=>{var m;s(!0),(m=n.onFocus)===null||m===void 0||m.call(n,h)},onBlur:h=>{var m;s(!1),c(),(m=n.onBlur)===null||m===void 0||m.call(n,h)},id:n.id,placeholder:n.placeholder,disabled:n.disabled,readOnly:n.readOnly,maxLength:n.maxLength,minLength:n.minLength,max:n.max,min:n.min,autoComplete:n.autoComplete,autoFocus:n.autoFocus,pattern:n.pattern,inputMode:n.inputMode,type:n.type,name:n.name,autoCapitalize:n.autoCapitalize,autoCorrect:n.autoCorrect,onKeyDown:d,onKeyUp:n.onKeyUp,onCompositionStart:h=>{var m;a.current=!0,(m=n.onCompositionStart)===null||m===void 0||m.call(n,h)},onCompositionEnd:h=>{var m;a.current=!1,(m=n.onCompositionEnd)===null||m===void 0||m.call(n,h)},onClick:n.onClick,step:n.step,role:n.role,"aria-valuenow":n["aria-valuenow"],"aria-valuemax":n["aria-valuemax"],"aria-valuemin":n["aria-valuemin"],"aria-label":n["aria-label"]}),f&&fe.createElement("div",{className:`${gc}-clear`,onMouseDown:h=>{h.preventDefault()},onClick:()=>{var h,m;i(""),(h=n.onClear)===null||h===void 0||h.call(n),b9()&&a.current&&(a.current=!1,(m=l.current)===null||m===void 0||m.blur())},"aria-label":u.Input.clear},fe.createElement(o9,null))))}),HF=qF;const Ei="adm-search-bar",VF={clearable:!0,onlyShowClearWhenFocus:!1,showCancelButton:!1,defaultValue:"",clearOnCancel:!0,icon:fe.createElement(c9,null)},UF=U.forwardRef((t,e)=>{const{locale:n}=sA(),r=ds(VF,{cancelText:n.common.cancel},t),[i,o]=t0(r),[s,a]=U.useState(!1),l=U.useRef(null),u=U.useRef(!1);U.useImperativeHandle(e,()=>({clear:()=>{var c;return(c=l.current)===null||c===void 0?void 0:c.clear()},focus:()=>{var c;return(c=l.current)===null||c===void 0?void 0:c.focus()},blur:()=>{var c;return(c=l.current)===null||c===void 0?void 0:c.blur()},get nativeElement(){var c,f;return(f=(c=l.current)===null||c===void 0?void 0:c.nativeElement)!==null&&f!==void 0?f:null}}));const d=()=>{let c;return typeof r.showCancelButton=="function"?c=r.showCancelButton(s,i):c=r.showCancelButton&&s,c&&fe.createElement("div",{className:`${Ei}-suffix`},fe.createElement(oi,{fill:"none",className:`${Ei}-cancel-button`,onClick:()=>{var f,h,m;r.clearOnCancel&&((f=l.current)===null||f===void 0||f.clear()),(h=l.current)===null||h===void 0||h.blur(),(m=r.onCancel)===null||m===void 0||m.call(r)},onMouseDown:f=>{f.preventDefault()}},r.cancelText))};return kr(r,fe.createElement("div",{className:un(Ei,{[`${Ei}-active`]:s})},fe.createElement("div",{className:`${Ei}-input-box`},r.icon&&fe.createElement("div",{className:`${Ei}-input-box-icon`},r.icon),fe.createElement(HF,{ref:l,className:un(`${Ei}-input`,{[`${Ei}-input-without-icon`]:!r.icon}),value:i,onChange:o,maxLength:r.maxLength,placeholder:r.placeholder,clearable:r.clearable,onlyShowClearWhenFocus:r.onlyShowClearWhenFocus,onFocus:c=>{var f;a(!0),(f=r.onFocus)===null||f===void 0||f.call(r,c)},onBlur:c=>{var f;a(!1),(f=r.onBlur)===null||f===void 0||f.call(r,c)},onClear:r.onClear,type:"search",enterKeyHint:"search",onEnterPress:()=>{var c,f;u.current||((c=l.current)===null||c===void 0||c.blur(),(f=r.onSearch)===null||f===void 0||f.call(r,i))},"aria-label":n.SearchBar.name,onCompositionStart:()=>{u.current=!0},onCompositionEnd:()=>{u.current=!1}})),d()))}),WF=UF;const Uw="adm-tag",KF={default:"#666666",primary:"var(--adm-color-primary, #1677ff)",success:"var(--adm-color-success, #00b578)",warning:"var(--adm-color-warning, #ff8f1f)",danger:"var(--adm-color-danger, #ff3141)"},GF={color:"default",fill:"solid",round:!1},JF=t=>{var e;const n=ds(GF,t),r=(e=KF[n.color])!==null&&e!==void 0?e:n.color,i={"--border-color":r,"--text-color":n.fill==="outline"?r:"#ffffff","--background-color":n.fill==="outline"?"transparent":r};return kr(n,fe.createElement("span",{style:i,onClick:n.onClick,className:un(Uw,{[`${Uw}-round`]:n.round})},n.children))},pC=JF;var ao={},QF={get exports(){return ao},set exports(t){ao=t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $e=function(){return $e=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$e.apply(this,arguments)};function zg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Et=Object.keys,tn=Array.isArray;typeof Promise<"u"&&!ot.Promise&&(ot.Promise=Promise);function cn(t,e){return typeof e!="object"||Et(e).forEach(function(n){t[n]=e[n]}),t}var iu=Object.getPrototypeOf,YF={}.hasOwnProperty;function $n(t,e){return YF.call(t,e)}function ca(t,e){typeof e=="function"&&(e=e(iu(t))),(typeof Reflect>"u"?Et:Reflect.ownKeys)(e).forEach(function(n){mi(t,n,e[n])})}var mC=Object.defineProperty;function mi(t,e,n,r){mC(t,e,cn(n&&$n(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ta(t){return{from:function(e){return t.prototype=Object.create(e.prototype),mi(t.prototype,"constructor",t),{extend:ca.bind(null,t.prototype)}}}}var XF=Object.getOwnPropertyDescriptor;function i0(t,e){var n=XF(t,e),r;return n||(r=iu(t))&&i0(r,e)}var ZF=[].slice;function lh(t,e,n){return ZF.call(t,e,n)}function gC(t,e){return e(t)}function sl(t){if(!t)throw new Error("Assertion Failed")}function yC(t){ot.setImmediate?setImmediate(t):setTimeout(t,0)}function vC(t,e){return t.reduce(function(n,r,i){var o=e(r,i);return o&&(n[o[0]]=o[1]),n},{})}function e7(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function li(t,e){if($n(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var o=li(t,e[r]);n.push(o)}return n}var s=e.indexOf(".");if(s!==-1){var a=t[e.substr(0,s)];return a===void 0?void 0:li(a,e.substr(s+1))}}function br(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){sl(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)br(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var s=e.substr(0,o),a=e.substr(o+1);if(a==="")n===void 0?tn(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n;else{var l=t[s];(!l||!$n(t,s))&&(l=t[s]={}),br(l,a,n)}}else n===void 0?tn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function t7(t,e){typeof e=="string"?br(t,e,void 0):"length"in e&&[].map.call(e,function(n){br(t,n,void 0)})}function bC(t){var e={};for(var n in t)$n(t,n)&&(e[n]=t[n]);return e}var n7=[].concat;function wC(t){return n7.apply([],t)}var xC="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(wC([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return ot[t]}),r7=xC.map(function(t){return ot[t]});vC(xC,function(t){return[t,!0]});var Mi=null;function Lu(t){Mi=typeof WeakMap<"u"&&new WeakMap;var e=qg(t);return Mi=null,e}function qg(t){if(!t||typeof t!="object")return t;var e=Mi&&Mi.get(t);if(e)return e;if(tn(t)){e=[],Mi&&Mi.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(qg(t[n]))}else if(r7.indexOf(t.constructor)>=0)e=t;else{var i=iu(t);e=i===Object.prototype?{}:Object.create(i),Mi&&Mi.set(t,e);for(var o in t)$n(t,o)&&(e[o]=qg(t[o]))}return e}var i7={}.toString;function Hg(t){return i7.call(t).slice(8,-1)}var Vg=typeof Symbol<"u"?Symbol.iterator:"@@iterator",o7=typeof Vg=="symbol"?function(t){var e;return t!=null&&(e=t[Vg])&&e.apply(t)}:function(){return null},Ss={};function ni(t){var e,n,r,i;if(arguments.length===1){if(tn(t))return t.slice();if(this===Ss&&typeof t=="string")return[t];if(i=o7(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var o0=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Kr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function SC(t,e){Kr=t,kC=e}var kC=function(){return!0},s7=!new Error("").stack;function hs(){if(s7)try{throw hs.arguments,new Error}catch(t){return t}return new Error}function Ug(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(kC).map(function(r){return`
`+r}).join("")):""}var a7=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],EC=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],s0=a7.concat(EC),l7={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Na(t,e){this._e=hs(),this.name=t,this.message=e}Ta(Na).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ug(this._e,2))}},toString:function(){return this.name+": "+this.message}});function AC(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Uf(t,e,n,r){this._e=hs(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=AC(t,e)}Ta(Uf).from(Na);function El(t,e){this._e=hs(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=AC(t,e)}Ta(El).from(Na);var a0=s0.reduce(function(t,e){return t[e]=e+"Error",t},{}),u7=Na,Ce=s0.reduce(function(t,e){var n=e+"Error";function r(i,o){this._e=hs(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=l7[e]||n,this.inner=null)}return Ta(r).from(u7),t[e]=r,t},{});Ce.Syntax=SyntaxError;Ce.Type=TypeError;Ce.Range=RangeError;var Ww=EC.reduce(function(t,e){return t[e+"Error"]=Ce[e],t},{});function c7(t,e){if(!t||t instanceof Na||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Ww[t.name])return t;var n=new Ww[t.name](e||t.message,t);return"stack"in t&&mi(n,"stack",{get:function(){return this.inner.stack}}),n}var uh=s0.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Ce[e]),t},{});uh.ModifyError=Uf;uh.DexieError=Na;uh.BulkError=El;function et(){}function Du(t){return t}function f7(t,e){return t==null||t===Du?e:function(n){return e(t(n))}}function Xo(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function d7(t,e){return t===et?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Xo(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Xo(i,this.onerror):i),o!==void 0?o:n}}function h7(t,e){return t===et?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Xo(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Xo(r,this.onerror):r)}}function p7(t,e){return t===et?e:function(n){var r=t.apply(this,arguments);cn(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Xo(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Xo(o,this.onerror):o),r===void 0?s===void 0?void 0:s:cn(r,s)}}function m7(t,e){return t===et?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function l0(t,e){return t===et?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}var ou={},g7=100,y7=20,CC=100,u0=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,iu(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,iu(e),t]}(),Wg=u0[0],Wf=u0[1],Kg=u0[2],OC=Wf&&Wf.then,Jc=Wg&&Wg.constructor,c0=!!Kg,Gg=!1,v7=Kg?function(){Kg.then(yc)}:ot.setImmediate?setImmediate.bind(null,yc):ot.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){yc(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(yc,0)},su=function(t,e){al.push([t,e]),Kf&&(v7(),Kf=!1)},Jg=!0,Kf=!0,Bo=[],Qc=[],Qg=null,Yg=Du,Js={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Jw,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{Jw(t[0],t[1])}catch{}})}},Se=Js,al=[],Fo=0,Yc=[];function ye(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=et,this._lib=!1;var e=this._PSD=Se;if(Kr&&(this._stackHolder=hs(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ou)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Zg(this,this._value);return}this._state=null,this._value=null,++e.ref,TC(this,t)}var Xg={get:function(){var t=Se,e=Gf;function n(r,i){var o=this,s=!t.global&&(t!==Se||e!==Gf),a=s&&!gi(),l=new ye(function(u,d){f0(o,new _C(Qf(r,t,s,a),Qf(i,t,s,a),u,d,t))});return Kr&&PC(l,this),l}return n.prototype=ou,n},set:function(t){mi(this,"then",t&&t.prototype===ou?Xg:{get:function(){return t},set:Xg.set})}};ca(ye.prototype,{then:Xg,_then:function(t,e){f0(this,new _C(null,null,t,e,Se))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Xc(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Xc(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Xc(e)})},stack:{get:function(){if(this._stack)return this._stack;try{Gg=!0;var t=MC(this,[],y7),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Gg=!1}}},timeout:function(t,e){var n=this;return t<1/0?new ye(function(r,i){var o=setTimeout(function(){return i(new Ce.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&mi(ye.prototype,Symbol.toStringTag,"Dexie.Promise");Js.env=RC();function _C(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}ca(ye,{all:function(){var t=ni.apply(null,arguments).map(Jf);return new ye(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,o){return ye.resolve(i).then(function(s){t[o]=s,--r||e(t)},n)})})},resolve:function(t){if(t instanceof ye)return t;if(t&&typeof t.then=="function")return new ye(function(n,r){t.then(n,r)});var e=new ye(ou,!0,t);return PC(e,Qg),e},reject:Xc,race:function(){var t=ni.apply(null,arguments).map(Jf);return new ye(function(e,n){t.map(function(r){return ye.resolve(r).then(e,n)})})},PSD:{get:function(){return Se},set:function(t){return Se=t}},totalEchoes:{get:function(){return Gf}},newPSD:lo,usePSD:Pa,scheduler:{get:function(){return su},set:function(t){su=t}},rejectionMapper:{get:function(){return Yg},set:function(t){Yg=t}},follow:function(t,e){return new ye(function(n,r){return lo(function(i,o){var s=Se;s.unhandleds=[],s.onunhandled=o,s.finalize=Xo(function(){var a=this;w7(function(){a.unhandleds.length===0?i():o(a.unhandleds[0])})},s.finalize),t()},e,n,r)})}});Jc&&(Jc.allSettled&&mi(ye,"allSettled",function(){var t=ni.apply(null,arguments).map(Jf);return new ye(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,o){return ye.resolve(i).then(function(s){return r[o]={status:"fulfilled",value:s}},function(s){return r[o]={status:"rejected",reason:s}}).then(function(){return--n||e(r)})})})}),Jc.any&&typeof AggregateError<"u"&&mi(ye,"any",function(){var t=ni.apply(null,arguments).map(Jf);return new ye(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(o,s){return ye.resolve(o).then(function(a){return e(a)},function(a){i[s]=a,--r||n(new AggregateError(i))})})})}));function TC(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Iu();n&&typeof n.then=="function"?TC(t,function(i,o){n instanceof ye?n._then(i,o):n.then(i,o)}):(t._state=!0,t._value=n,NC(t)),r&&Bu()}},Zg.bind(null,t))}catch(n){Zg(t,n)}}function Zg(t,e){if(Qc.push(e),t._state===null){var n=t._lib&&Iu();e=Yg(e),t._state=!1,t._value=e,Kr&&e!==null&&typeof e=="object"&&!e._promise&&e7(function(){var r=i0(e,"stack");e._promise=t,mi(e,"stack",{get:function(){return Gg?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),x7(t),NC(t),n&&Bu()}}function NC(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)f0(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Fo===0&&(++Fo,su(function(){--Fo===0&&d0()},[]))}function f0(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Fo,su(b7,[n,t,e])}function b7(t,e,n){try{Qg=e;var r,i=e._value;e._state?r=t(i):(Qc.length&&(Qc=[]),r=t(i),Qc.indexOf(i)===-1&&S7(e)),n.resolve(r)}catch(o){n.reject(o)}finally{Qg=null,--Fo===0&&d0(),--n.psd.ref||n.psd.finalize()}}function MC(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,o,s;i!=null?(o=i.name||"Error",s=i.message||i,r=Ug(i,0)):(o=i,s=""),e.push(o+(s?": "+s:"")+r)}return Kr&&(r=Ug(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&MC(t._prev,e,n)),e}function PC(t,e){var n=e?e._numPrev+1:0;n<g7&&(t._prev=e,t._numPrev=n)}function yc(){Iu()&&Bu()}function Iu(){var t=Jg;return Jg=!1,Kf=!1,t}function Bu(){var t,e,n;do for(;al.length>0;)for(t=al,al=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(al.length>0);Jg=!0,Kf=!0}function d0(){var t=Bo;Bo=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Yc.slice(0),n=e.length;n;)e[--n]()}function w7(t){function e(){t(),Yc.splice(Yc.indexOf(e),1)}Yc.push(e),++Fo,su(function(){--Fo===0&&d0()},[])}function x7(t){Bo.some(function(e){return e._value===t._value})||Bo.push(t)}function S7(t){for(var e=Bo.length;e;)if(Bo[--e]._value===t._value){Bo.splice(e,1);return}}function Xc(t){return new ye(ou,!1,t)}function lt(t,e){var n=Se;return function(){var r=Iu(),i=Se;try{return uo(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{uo(i,!1),r&&Bu()}}}var Zt={awaits:0,echoes:0,id:0},k7=0,Zc=[],Pp=0,Gf=0,E7=0;function lo(t,e,n,r){var i=Se,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++E7;var s=Js.env;o.env=c0?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject,nthen:Kw(s.nthen,o),gthen:Kw(s.gthen,o)}:{},e&&cn(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Pa(o,t,n,r);return o.ref===0&&o.finalize(),a}function Ma(){return Zt.id||(Zt.id=++k7),++Zt.awaits,Zt.echoes+=CC,Zt.id}function gi(){return Zt.awaits?(--Zt.awaits===0&&(Zt.id=0),Zt.echoes=Zt.awaits*CC,!0):!1}(""+OC).indexOf("[native code]")===-1&&(Ma=gi=et);function Jf(t){return Zt.echoes&&t&&t.constructor===Jc?(Ma(),t.then(function(e){return gi(),e},function(e){return gi(),Mt(e)})):t}function A7(t){++Gf,(!Zt.echoes||--Zt.echoes===0)&&(Zt.echoes=Zt.id=0),Zc.push(Se),uo(t,!0)}function C7(){var t=Zc[Zc.length-1];Zc.pop(),uo(t,!1)}function uo(t,e){var n=Se;if((e?Zt.echoes&&(!Pp++||t!==Se):Pp&&(!--Pp||t!==Se))&&LC(e?A7.bind(null,t):C7),t!==Se&&(Se=t,n===Js&&(Js.env=RC()),c0)){var r=Js.env.Promise,i=t.env;Wf.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(ot,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function RC(){var t=ot.Promise;return c0?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ot,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Wf.then,gthen:t.prototype.then}:{}}function Pa(t,e,n,r,i){var o=Se;try{return uo(t,!0),e(n,r,i)}finally{uo(o,!1)}}function LC(t){OC.call(Wg,t)}function Qf(t,e,n,r){return typeof t!="function"?t:function(){var i=Se;n&&Ma(),uo(e,!0);try{return t.apply(this,arguments)}finally{uo(i,!1),r&&LC(gi)}}}function Kw(t,e){return function(n,r){return t.call(this,Qf(n,e),Qf(r,e))}}var Gw="unhandledrejection";function Jw(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(ot.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Gw,!0,!0),cn(r,i)):ot.CustomEvent&&(r=new CustomEvent(Gw,{detail:i}),cn(r,i)),r&&ot.dispatchEvent&&(dispatchEvent(r),!ot.PromiseRejectionEvent&&ot.onunhandledrejection))try{ot.onunhandledrejection(r)}catch{}Kr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var Mt=ye.reject;function ey(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!Se.letThrough&&!t._vip){if(t._state.openComplete)return Mt(new Ce.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Mt(new Ce.DatabaseClosed);t.open().catch(et)}return t._state.dbReadyPromise.then(function(){return ey(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===a0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return ey(t,e,n,r)})):Mt(o)}return i._promise(e,function(o,s){return lo(function(){return Se.trans=i,r(o,s,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Qw="3.2.3",Po=String.fromCharCode(65535),ty=-1/0,Qr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",DC="String expected.",Al=[],ch=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),O7=ch,_7=ch,IC=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},fh="__dbnames",Rp="readonly",Lp="readwrite";function Zo(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var BC={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vc(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=Lu(e),delete e[t]),e}:function(e){return e}}var T7=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||Se.trans,o=this.name;function s(l,u,d){if(!d.schema[o])throw new Ce.NotFound("Table "+o+" not part of transaction");return n(d.idbtrans,d)}var a=Iu();try{return i&&i.db===this.db?i===Se.trans?i._promise(e,s,r):lo(function(){return i._promise(e,s,r)},{trans:i,transless:Se.transless||Se}):ey(this.db,e,[this.name],s)}finally{a&&Bu()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(tn(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=Et(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(d){return d.compound&&n.every(function(c){return d.keyPath.indexOf(c)>=0})&&d.keyPath.every(function(c){return n.indexOf(c)>=0})})[0];if(r&&this.db._maxKey!==Po)return this.where(r.name).equals(r.keyPath.map(function(d){return e[d]}));!r&&Kr&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function s(d,c){try{return o.cmp(d,c)===0}catch{return!1}}var a=n.reduce(function(d,c){var f=d[0],h=d[1],m=i[c],y=e[c];return[f||m,f||!m?Zo(h,m&&m.multi?function(g){var b=li(g,c);return tn(b)&&b.some(function(p){return s(y,p)})}:function(g){return s(y,li(g,c))}):h]},[null,null]),l=a[0],u=a[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,tn(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var o in r)if($n(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){cn(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,a=e;return s&&o&&(a=vc(s)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[a]})}).then(function(l){return l.numFailures?ye.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{br(e,s,l)}catch{}return l})},t.prototype.update=function(e,n){if(typeof e=="object"&&!tn(e)){var r=li(e,this.schema.primKey.keyPath);if(r===void 0)return Mt(new Ce.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Et(n).forEach(function(i){br(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,a=e;return s&&o&&(a=vc(s)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[a],keys:n!=null?[n]:null})}).then(function(l){return l.numFailures?ye.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{br(e,s,l)}catch{}return l})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?ye.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:BC})}).then(function(n){return n.numFailures?ye.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,u=l.auto,d=l.keyPath;if(d&&o)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,f=d&&u?e.map(vc(d)):e;return i.core.mutate({trans:a,type:"add",keys:o,values:f,wantResults:s}).then(function(h){var m=h.numFailures,y=h.results,g=h.lastResult,b=h.failures,p=s?y:g;if(m===0)return p;throw new El(i.name+".bulkAdd(): "+m+" of "+c+" operations failed",b)})})},t.prototype.bulkPut=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,u=l.auto,d=l.keyPath;if(d&&o)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,f=d&&u?e.map(vc(d)):e;return i.core.mutate({trans:a,type:"put",keys:o,values:f,wantResults:s}).then(function(h){var m=h.numFailures,y=h.results,g=h.lastResult,b=h.failures,p=s?y:g;if(m===0)return p;throw new El(i.name+".bulkPut(): "+m+" of "+c+" operations failed",b)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var o=i.numFailures,s=i.lastResult,a=i.failures;if(o===0)return s;throw new El(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",a)})},t}();function Fu(t){var e={},n=function(a,l){if(l){for(var u=arguments.length,d=new Array(u-1);--u;)d[u-1]=arguments[u];return e[a].subscribe.apply(null,d),t}else if(typeof a=="string")return e[a]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(a,l,u){if(typeof a=="object")return s(a);l||(l=m7),u||(u=et);var d={subscribers:[],fire:u,subscribe:function(c){d.subscribers.indexOf(c)===-1&&(d.subscribers.push(c),d.fire=l(d.fire,c))},unsubscribe:function(c){d.subscribers=d.subscribers.filter(function(f){return f!==c}),d.fire=d.subscribers.reduce(l,u)}};return e[a]=n[a]=d,d}function s(a){Et(a).forEach(function(l){var u=a[l];if(tn(u))o(l,a[l][0],a[l][1]);else if(u==="asap")var d=o(l,Du,function(){for(var f=arguments.length,h=new Array(f);f--;)h[f]=arguments[f];d.subscribers.forEach(function(m){yC(function(){m.apply(null,h)})})});else throw new Ce.InvalidArgument("Invalid event config")})}}function ju(t,e){return Ta(e).from({prototype:t}),e}function N7(t){return ju(T7.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Fu(null,{creating:[d7,et],reading:[f7,Du],updating:[p7,et],deleting:[h7,et]})})}function vs(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Dp(t,e){t.filter=Zo(t.filter,e)}function Ip(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Zo(r(),e())}:e,t.justLimit=n&&!r}function M7(t,e){t.isMatch=Zo(t.isMatch,e)}function ef(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Ce.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Yw(t,e,n){var r=ef(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function bc(t,e,n,r){var i=t.replayFilter?Zo(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},s=function(a,l,u){if(!i||i(l,u,function(f){return l.stop(f)},function(f){return l.fail(f)})){var d=l.primaryKey,c=""+d;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(d)),$n(o,c)||(o[c]=!0,e(a,l,u))}};return Promise.all([t.or._iterate(s,n),Xw(Yw(t,r,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}else return Xw(Yw(t,r,n),Zo(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Xw(t,e,n,r){var i=r?function(s,a,l){return n(r(s),a,l)}:n,o=lt(i);return t.then(function(s){if(s)return s.start(function(){var a=function(){return s.continue()};(!e||e(s,function(l){return a=l},function(l){s.stop(l),a=et},function(l){s.fail(l),a=et}))&&o(s.value,s,function(l){return a=l}),a()})})}function sn(t,e){try{var n=Zw(t),r=Zw(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return R7(ex(t),ex(e));case"Array":return P7(t,e)}}catch{}return NaN}function P7(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o){var s=sn(t[o],e[o]);if(s!==0)return s}return n===r?0:n<r?-1:1}function R7(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o)if(t[o]!==e[o])return t[o]<e[o]?-1:1;return n===r?0:n<r?-1:1}function Zw(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=Hg(t);return n==="ArrayBuffer"?"binary":n}function ex(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var L7=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,Mt.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,Mt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Zo(n.algorithm,e)},t.prototype._iterate=function(e,n){return bc(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&cn(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return bc(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(vs(i,!0))return o.count({trans:r,query:{index:ef(i,o.schema),range:i.range}}).then(function(a){return Math.min(a,i.limit)});var s=0;return bc(i,function(){return++s,!1},r,o).then(function(){return s})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],o=r.length-1;function s(u,d){return d?s(u[r[d]],d-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,d){var c=s(u,o),f=s(d,o);return c<f?-a:c>f?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&vs(i,!0)&&i.limit>0){var o=i.valueMapper,s=ef(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(l){var u=l.result;return o?u.map(o):u})}else{var a=[];return bc(i,function(l){return a.push(l)},r,i.table.core).then(function(){return a})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,vs(n)?Ip(n,function(){var r=e;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):Ip(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ip(this._ctx,function(){var n=e;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},t.prototype.until=function(e,n){return Dp(this._ctx,function(r,i,o){return e(r.value)?(i(o),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Dp(this._ctx,function(n){return e(n.value)}),M7(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&vs(n,!0)&&n.limit>0)return this._read(function(i){var o=ef(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Dp(this._ctx,function(i){var o=i.primaryKey.toString(),s=$n(r,o);return r[o]=!0,!s}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof e=="function")o=e;else{var s=Et(e),a=s.length;o=function(b){for(var p=!1,v=0;v<a;++v){var w=s[v],x=e[w];li(b,w)!==x&&(br(b,w,x),p=!0)}return p}}var l=r.table.core,u=l.schema.primaryKey,d=u.outbound,c=u.extractKey,f=n.db._options.modifyChunkSize||200,h=[],m=0,y=[],g=function(b,p){var v=p.failures,w=p.numFailures;m+=b-w;for(var x=0,S=Et(v);x<S.length;x++){var E=S[x];h.push(v[E])}};return n.clone().primaryKeys().then(function(b){var p=function(v){var w=Math.min(f,b.length-v);return l.getMany({trans:i,keys:b.slice(v,v+w),cache:"immutable"}).then(function(x){for(var S=[],E=[],k=d?[]:null,A=[],C=0;C<w;++C){var _=x[C],O={value:Lu(_),primKey:b[v+C]};o.call(O,O.value,O)!==!1&&(O.value==null?A.push(b[v+C]):!d&&sn(c(_),c(O.value))!==0?(A.push(b[v+C]),S.push(O.value)):(E.push(O.value),d&&k.push(b[v+C])))}var M=vs(r)&&r.limit===1/0&&(typeof e!="function"||e===Bp)&&{index:r.index,range:r.range};return Promise.resolve(S.length>0&&l.mutate({trans:i,type:"add",values:S}).then(function(T){for(var N in T.failures)A.splice(parseInt(N),1);g(S.length,T)})).then(function(){return(E.length>0||M&&typeof e=="object")&&l.mutate({trans:i,type:"put",keys:k,values:E,criteria:M,changeSpec:typeof e!="function"&&e}).then(function(T){return g(E.length,T)})}).then(function(){return(A.length>0||M&&e===Bp)&&l.mutate({trans:i,type:"delete",keys:A,criteria:M}).then(function(T){return g(A.length,T)})}).then(function(){return b.length>v+w&&p(v+f)})})};return p(0).then(function(){if(h.length>0)throw new Uf("Error modifying one or more objects",h,m,y);return b.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return vs(e)&&(e.isPrimKey&&!_7||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,o=n;return e.table.core.count({trans:r,query:{index:i,range:o}}).then(function(s){return e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(a){var l=a.failures;a.lastResult,a.results;var u=a.numFailures;if(u)throw new Uf("Could not delete some values",Object.keys(l).map(function(d){return l[d]}),s-u);return s-u})})}):this.modify(Bp)},t}(),Bp=function(t,e){return e.value=null};function D7(t){return ju(L7.prototype,function(n,r){this.db=t;var i=BC,o=null;if(r)try{i=r()}catch(u){o=u}var s=n._ctx,a=s.table,l=a.hook.reading.fire;this._ctx={table:a,index:s.index,isPrimKey:!s.index||a.schema.primKey.keyPath&&s.index===a.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:s.or,valueMapper:l!==Du?l:null}})}function I7(t,e){return t<e?-1:t===e?0:1}function B7(t,e){return t>e?-1:t===e?0:1}function Mn(t,e,n){var r=t instanceof jC?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function bs(t){return new t.Collection(t,function(){return FC("")}).limit(0)}function F7(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function j7(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function $7(t,e,n,r,i,o){for(var s=Math.min(t.length,r.length),a=-1,l=0;l<s;++l){var u=e[l];if(u!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[l],u)<0&&(a=l)}return s<r.length&&o==="next"?t+n.substr(t.length):s<t.length&&o==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function wc(t,e,n,r){var i,o,s,a,l,u,d,c=n.length;if(!n.every(function(y){return typeof y=="string"}))return Mn(t,DC);function f(y){i=F7(y),o=j7(y),s=y==="next"?I7:B7;var g=n.map(function(b){return{lower:o(b),upper:i(b)}}).sort(function(b,p){return s(b.lower,p.lower)});a=g.map(function(b){return b.upper}),l=g.map(function(b){return b.lower}),u=y,d=y==="next"?"":r}f("next");var h=new t.Collection(t,function(){return Oi(a[0],l[c-1]+r)});h._ondirectionchange=function(y){f(y)};var m=0;return h._addAlgorithm(function(y,g,b){var p=y.key;if(typeof p!="string")return!1;var v=o(p);if(e(v,l,m))return!0;for(var w=null,x=m;x<c;++x){var S=$7(p,v,a[x],l[x],s,u);S===null&&w===null?m=x+1:(w===null||s(w,S)>0)&&(w=S)}return g(w!==null?function(){y.continue(w+d)}:b),!1}),h}function Oi(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function FC(t){return{type:1,lower:t,upper:t}}var jC=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?bs(this):new this.Collection(this,function(){return Oi(e,n,!r,!i)})}catch{return Mn(this,Qr)}},t.prototype.equals=function(e){return e==null?Mn(this,Qr):new this.Collection(this,function(){return FC(e)})},t.prototype.above=function(e){return e==null?Mn(this,Qr):new this.Collection(this,function(){return Oi(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?Mn(this,Qr):new this.Collection(this,function(){return Oi(e,void 0,!1)})},t.prototype.below=function(e){return e==null?Mn(this,Qr):new this.Collection(this,function(){return Oi(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?Mn(this,Qr):new this.Collection(this,function(){return Oi(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?Mn(this,DC):this.between(e,e+Po,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):wc(this,function(n,r){return n.indexOf(r[0])===0},[e],Po)},t.prototype.equalsIgnoreCase=function(e){return wc(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=ni.apply(Ss,arguments);return e.length===0?bs(this):wc(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=ni.apply(Ss,arguments);return e.length===0?bs(this):wc(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,Po)},t.prototype.anyOf=function(){var e=this,n=ni.apply(Ss,arguments),r=this._cmp;try{n.sort(r)}catch{return Mn(this,Qr)}if(n.length===0)return bs(this);var i=new this.Collection(this,function(){return Oi(n[0],n[n.length-1])});i._ondirectionchange=function(s){r=s==="next"?e._ascending:e._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(s,a,l){for(var u=s.key;r(u,n[o])>0;)if(++o,o===n.length)return a(l),!1;return r(u,n[o])===0?!0:(a(function(){s.continue(n[o])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[ty,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=ni.apply(Ss,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Mn(this,Qr)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[ty,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,o=this._ascending,s=this._descending,a=this._min,l=this._max;if(e.length===0)return bs(this);if(!e.every(function(x){return x[0]!==void 0&&x[1]!==void 0&&o(x[0],x[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);var u=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;function c(x,S){for(var E=0,k=x.length;E<k;++E){var A=x[E];if(i(S[0],A[1])<0&&i(S[1],A[0])>0){A[0]=a(A[0],S[0]),A[1]=l(A[1],S[1]);break}}return E===k&&x.push(S),x}var f=o;function h(x,S){return f(x[0],S[0])}var m;try{m=e.reduce(c,[]),m.sort(h)}catch{return Mn(this,Qr)}var y=0,g=d?function(x){return o(x,m[y][1])>0}:function(x){return o(x,m[y][1])>=0},b=u?function(x){return s(x,m[y][0])>0}:function(x){return s(x,m[y][0])>=0};function p(x){return!g(x)&&!b(x)}var v=g,w=new this.Collection(this,function(){return Oi(m[0][0],m[m.length-1][1],!u,!d)});return w._ondirectionchange=function(x){x==="next"?(v=g,f=o):(v=b,f=s),m.sort(h)},w._addAlgorithm(function(x,S,E){for(var k=x.key;v(k);)if(++y,y===m.length)return S(E),!1;return p(k)?!0:(r._cmp(k,m[y][1])===0||r._cmp(k,m[y][0])===0||S(function(){f===o?x.continue(m[y][0]):x.continue(m[y][1])}),!1)}),w},t.prototype.startsWithAnyOf=function(){var e=ni.apply(Ss,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?bs(this):this.inAnyRange(e.map(function(n){return[n,n+Po]})):Mn(this,"startsWithAnyOf() only works with strings")},t}();function z7(t){return ju(jC.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=t._deps.indexedDB;if(!o)throw new Ce.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(s,a){return o.cmp(a,s)},this._max=function(s,a){return o.cmp(s,a)>0?s:a},this._min=function(s,a){return o.cmp(s,a)<0?s:a},this._IDBKeyRange=t._deps.IDBKeyRange})}function Pr(t){return lt(function(e){return au(e),t(e.target.error),!1})}function au(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var lu="storagemutated",zi="x-storagemutated-1",co=Fu(null,lu),q7=function(){function t(){}return t.prototype._lock=function(){return sl(!Se.global),++this._reculock,this._reculock===1&&!Se.global&&(Se.lockOwnerFor=this),this},t.prototype._unlock=function(){if(sl(!Se.global),--this._reculock===0)for(Se.global||(Se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Pa(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&Se.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(sl(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(i);case"MissingAPIError":throw new Ce.MissingAPI(i.message,i);default:throw new Ce.OpenFailed(i)}if(!this.active)throw new Ce.TransactionInactive;return sl(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=lt(function(o){au(o),n._reject(e.error)}),e.onabort=lt(function(o){au(o),n.active&&n._reject(new Ce.Abort(e.error)),n.active=!1,n.on("abort").fire(o)}),e.oncomplete=lt(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&co.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return Mt(new Ce.ReadOnly("Transaction is readonly"));if(!this.active)return Mt(new Ce.TransactionInactive);if(this._locked())return new ye(function(s,a){i._blockedFuncs.push([function(){i._promise(e,n,r).then(s,a)},Se])});if(r)return lo(function(){var s=new ye(function(a,l){i._lock();var u=n(a,l,i);u&&u.then&&u.then(a,l)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var o=new ye(function(s,a){var l=n(s,a,i);l&&l.then&&l.then(s,a)});return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=ye.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var o=n._waitingFor;return new ye(function(s,a){r.then(function(l){return n._waitingQueue.push(lt(s.bind(null,l)))},function(l){return n._waitingQueue.push(lt(a.bind(null,l)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if($n(n,e))return n[e];var r=this.schema[e];if(!r)throw new Ce.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function H7(t){return ju(q7.prototype,function(n,r,i,o,s){var a=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Fu(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(l,u){a._resolve=l,a._reject=u}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(l){var u=a.active;return a.active=!1,a.on.error.fire(l),a.parent?a.parent._reject(l):u&&a.idbtrans&&a.idbtrans.abort(),Mt(l)})})}function ny(t,e,n,r,i,o,s){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+$C(e)}}function $C(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function zC(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:vC(n,function(r){return[r.name,r]})}}function V7(t){return t.length===1?t[0]:t}var uu=function(t){try{return t.only([[]]),uu=function(){return[[]]},[[]]}catch{return uu=function(){return Po},Po}};function ry(t){return t==null?function(){}:typeof t=="string"?U7(t):function(e){return li(e,t)}}function U7(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return li(n,t)}}function tx(t){return[].slice.call(t)}var W7=0;function Cl(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function K7(t,e,n){function r(c,f){var h=tx(c.objectStoreNames);return{schema:{name:c.name,tables:h.map(function(m){return f.objectStore(m)}).map(function(m){var y=m.keyPath,g=m.autoIncrement,b=tn(y),p=y==null,v={},w={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:b,keyPath:y,autoIncrement:g,unique:!0,extractKey:ry(y)},indexes:tx(m.indexNames).map(function(x){return m.index(x)}).map(function(x){var S=x.name,E=x.unique,k=x.multiEntry,A=x.keyPath,C=tn(A),_={name:S,compound:C,keyPath:A,unique:E,multiEntry:k,extractKey:ry(A)};return v[Cl(A)]=_,_}),getIndexByKeyPath:function(x){return v[Cl(x)]}};return v[":id"]=w.primaryKey,y!=null&&(v[Cl(y)]=w.primaryKey),w})},hasGetAll:h.length>0&&"getAll"in f.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=c.lower,h=c.upper,m=c.lowerOpen,y=c.upperOpen,g=f===void 0?h===void 0?null:e.upperBound(h,!!y):h===void 0?e.lowerBound(f,!!m):e.bound(f,h,!!m,!!y);return g}function o(c){var f=c.name;function h(g){var b=g.trans,p=g.type,v=g.keys,w=g.values,x=g.range;return new Promise(function(S,E){S=lt(S);var k=b.objectStore(f),A=k.keyPath==null,C=p==="put"||p==="add";if(!C&&p!=="delete"&&p!=="deleteRange")throw new Error("Invalid operation type: "+p);var _=(v||w||{length:1}).length;if(v&&w&&v.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(_===0)return S({numFailures:0,failures:{},results:[],lastResult:void 0});var O,M=[],T=[],N=0,P=function($){++N,au($)};if(p==="deleteRange"){if(x.type===4)return S({numFailures:N,failures:T,results:[],lastResult:void 0});x.type===3?M.push(O=k.clear()):M.push(O=k.delete(i(x)))}else{var L=C?A?[w,v]:[w,null]:[v,null],z=L[0],j=L[1];if(C)for(var B=0;B<_;++B)M.push(O=j&&j[B]!==void 0?k[p](z[B],j[B]):k[p](z[B])),O.onerror=P;else for(var B=0;B<_;++B)M.push(O=k[p](z[B])),O.onerror=P}var I=function($){var V=$.target.result;M.forEach(function(G,K){return G.error!=null&&(T[K]=G.error)}),S({numFailures:N,failures:T,results:p==="delete"?v:M.map(function(G){return G.result}),lastResult:V})};O.onerror=function($){P($),I($)},O.onsuccess=I})}function m(g){var b=g.trans,p=g.values,v=g.query,w=g.reverse,x=g.unique;return new Promise(function(S,E){S=lt(S);var k=v.index,A=v.range,C=b.objectStore(f),_=k.isPrimaryKey?C:C.index(k.name),O=w?x?"prevunique":"prev":x?"nextunique":"next",M=p||!("openKeyCursor"in _)?_.openCursor(i(A),O):_.openKeyCursor(i(A),O);M.onerror=Pr(E),M.onsuccess=lt(function(T){var N=M.result;if(!N){S(null);return}N.___id=++W7,N.done=!1;var P=N.continue.bind(N),L=N.continuePrimaryKey;L&&(L=L.bind(N));var z=N.advance.bind(N),j=function(){throw new Error("Cursor not started")},B=function(){throw new Error("Cursor not stopped")};N.trans=b,N.stop=N.continue=N.continuePrimaryKey=N.advance=j,N.fail=lt(E),N.next=function(){var I=this,$=1;return this.start(function(){return $--?I.continue():I.stop()}).then(function(){return I})},N.start=function(I){var $=new Promise(function(G,K){G=lt(G),M.onerror=Pr(K),N.fail=K,N.stop=function(H){N.stop=N.continue=N.continuePrimaryKey=N.advance=B,G(H)}}),V=function(){if(M.result)try{I()}catch(G){N.fail(G)}else N.done=!0,N.start=function(){throw new Error("Cursor behind last entry")},N.stop()};return M.onsuccess=lt(function(G){M.onsuccess=V,V()}),N.continue=P,N.continuePrimaryKey=L,N.advance=z,V(),$},S(N)},E)})}function y(g){return function(b){return new Promise(function(p,v){p=lt(p);var w=b.trans,x=b.values,S=b.limit,E=b.query,k=S===1/0?void 0:S,A=E.index,C=E.range,_=w.objectStore(f),O=A.isPrimaryKey?_:_.index(A.name),M=i(C);if(S===0)return p({result:[]});if(g){var T=x?O.getAll(M,k):O.getAllKeys(M,k);T.onsuccess=function(z){return p({result:z.target.result})},T.onerror=Pr(v)}else{var N=0,P=x||!("openKeyCursor"in O)?O.openCursor(M):O.openKeyCursor(M),L=[];P.onsuccess=function(z){var j=P.result;if(!j)return p({result:L});if(L.push(x?j.value:j.primaryKey),++N===S)return p({result:L});j.continue()},P.onerror=Pr(v)}})}}return{name:f,schema:c,mutate:h,getMany:function(g){var b=g.trans,p=g.keys;return new Promise(function(v,w){v=lt(v);for(var x=b.objectStore(f),S=p.length,E=new Array(S),k=0,A=0,C,_=function(N){var P=N.target;(E[P._pos]=P.result)!=null,++A===k&&v(E)},O=Pr(w),M=0;M<S;++M){var T=p[M];T!=null&&(C=x.get(p[M]),C._pos=M,C.onsuccess=_,C.onerror=O,++k)}k===0&&v(E)})},get:function(g){var b=g.trans,p=g.key;return new Promise(function(v,w){v=lt(v);var x=b.objectStore(f),S=x.get(p);S.onsuccess=function(E){return v(E.target.result)},S.onerror=Pr(w)})},query:y(l),openCursor:m,count:function(g){var b=g.query,p=g.trans,v=b.index,w=b.range;return new Promise(function(x,S){var E=p.objectStore(f),k=v.isPrimaryKey?E:E.index(v.name),A=i(w),C=A?k.count(A):k.count();C.onsuccess=lt(function(_){return x(_.target.result)}),C.onerror=Pr(S)})}}}var s=r(t,n),a=s.schema,l=s.hasGetAll,u=a.tables.map(function(c){return o(c)}),d={};return u.forEach(function(c){return d[c.name]=c}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(c){var f=d[c];if(!f)throw new Error("Table '"+c+"' not found");return d[c]},MIN_KEY:-1/0,MAX_KEY:uu(e),schema:a}}function G7(t,e){return e.reduce(function(n,r){var i=r.create;return $e($e({},n),i(n))},t)}function J7(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=G7(K7(e,i,r),t.dbcore);return{dbcore:o}}function h0(t,e){var n=t._novip,r=e.db,i=J7(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(o){var s=o.name;n.core.schema.tables.some(function(a){return a.name===s})&&(o.core=n.core.table(s),n[s]instanceof n.Table&&(n[s].core=o.core))})}function Yf(t,e,n,r){var i=t._novip;n.forEach(function(o){var s=r[o];e.forEach(function(a){var l=i0(a,o);(!l||"value"in l&&l.value===void 0)&&(a===i.Transaction.prototype||a instanceof i.Transaction?mi(a,o,{get:function(){return this.table(o)},set:function(u){mC(this,o,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new i.Table(o,s))})})}function iy(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function Q7(t,e){return t._cfg.version-e._cfg.version}function Y7(t,e,n,r){var i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(n),o._completion.catch(r);var s=o._reject.bind(o),a=Se.transless||Se;lo(function(){Se.trans=o,Se.transless=a,e===0?(Et(i).forEach(function(l){p0(n,l,i[l].primKey,i[l].indexes)}),h0(t,n),ye.follow(function(){return t.on.populate.fire(o)}).catch(s)):X7(t,e,o,n).catch(s)})}function X7(t,e,n,r){var i=t._novip,o=[],s=i._versions,a=i._dbSchema=m0(i,i.idbdb,r),l=!1,u=s.filter(function(c){return c._cfg.version>=e});u.forEach(function(c){o.push(function(){var f=a,h=c._cfg.dbschema;sy(i,f,r),sy(i,h,r),a=i._dbSchema=h;var m=qC(f,h);m.add.forEach(function(w){p0(r,w[0],w[1].primKey,w[1].indexes)}),m.change.forEach(function(w){if(w.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");var x=r.objectStore(w.name);w.add.forEach(function(S){return oy(x,S)}),w.change.forEach(function(S){x.deleteIndex(S.name),oy(x,S)}),w.del.forEach(function(S){return x.deleteIndex(S)})});var y=c._cfg.contentUpgrade;if(y&&c._cfg.version>e){h0(i,r),n._memoizedTables={},l=!0;var g=bC(h);m.del.forEach(function(w){g[w]=f[w]}),iy(i,[i.Transaction.prototype]),Yf(i,[i.Transaction.prototype],Et(g),g),n.schema=g;var b=o0(y);b&&Ma();var p,v=ye.follow(function(){if(p=y(n),p&&b){var w=gi.bind(null,null);p.then(w,w)}});return p&&typeof p.then=="function"?ye.resolve(p):v.then(function(){return p})}}),o.push(function(f){if(!l||!O7){var h=c._cfg.dbschema;ej(h,f)}iy(i,[i.Transaction.prototype]),Yf(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function d(){return o.length?ye.resolve(o.shift()(n.idbtrans)).then(d):ye.resolve()}return d().then(function(){Z7(a,r)})}function qC(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],o=e[r];if(!i)n.add.push([r,o]);else{var s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!ch)s.recreate=!0,n.change.push(s);else{var a=i.idxByName,l=o.idxByName,u=void 0;for(u in a)l[u]||s.del.push(u);for(u in l){var d=a[u],c=l[u];d?d.src!==c.src&&s.change.push(c):s.add.push(c)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}}return n}function p0(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return oy(i,o)}),i}function Z7(t,e){Et(t).forEach(function(n){e.db.objectStoreNames.contains(n)||p0(e,n,t[n].primKey,t[n].indexes)})}function ej(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function oy(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function m0(t,e,n){var r={},i=lh(e.objectStoreNames,0);return i.forEach(function(o){for(var s=n.objectStore(o),a=s.keyPath,l=ny($C(a),a||"",!1,!1,!!s.autoIncrement,a&&typeof a!="string",!0),u=[],d=0;d<s.indexNames.length;++d){var c=s.index(s.indexNames[d]);a=c.keyPath;var f=ny(c.name,a,!!c.unique,!!c.multiEntry,!1,a&&typeof a!="string",!1);u.push(f)}r[o]=zC(o,l,u)}),r}function tj(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=m0(r,e,n);r._storeNames=lh(e.objectStoreNames,0),Yf(r,[r._allTables],Et(i),i)}function nj(t,e){var n=m0(t,t.idbdb,e),r=qC(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function sy(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var s=i[o],a=n.objectStore(s);r._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var u=a.indexNames[l],d=a.index(u).keyPath,c=typeof d=="string"?d:"["+lh(d).join("+")+"]";if(e[s]){var f=e[s].idxByName[c];f&&(f.name=u,delete e[s].idxByName[c],e[s].idxByName[u]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ot.WorkerGlobalScope&&ot instanceof ot.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function rj(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ny(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),tn(i),n===0)})}var ij=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){Et(e).forEach(function(r){if(e[r]!==null){var i=rj(e[r]),o=i.shift();if(o.multi)throw new Ce.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),n[r]=zC(r,o,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?cn(this._cfg.storesSource,e):e;var r=n._versions,i={},o={};return r.forEach(function(s){cn(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),n._dbSchema=o,iy(n,[n._allTables,n,n.Transaction.prototype]),Yf(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Et(o),o),n._storeNames=Et(o),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=l0(this._cfg.contentUpgrade||et,e),this},t}();function oj(t){return ju(ij.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function g0(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new du(fh,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function y0(t){return t&&typeof t.databases=="function"}function sj(t){var e=t.indexedDB,n=t.IDBKeyRange;return y0(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==fh})}):g0(e,n).toCollection().primaryKeys()}function aj(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!y0(n)&&e!==fh&&g0(n,r).put({name:e}).catch(et)}function lj(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!y0(n)&&e!==fh&&g0(n,r).delete(e).catch(et)}function ay(t){return lo(function(){return Se.letThrough=!0,t()})}function uj(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function cj(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?Mt(e.dbOpenError):t});Kr&&(e.openCanceller._stackHolder=hs()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new Ce.DatabaseClosed("db.open() was cancelled")}var o=e.dbReadyResolve,s=null,a=!1;return ye.race([r,(typeof navigator>"u"?ye.resolve():uj()).then(function(){return new ye(function(l,u){if(i(),!n)throw new Ce.MissingAPI;var d=t.name,c=e.autoSchema?n.open(d):n.open(d,Math.round(t.verno*10));if(!c)throw new Ce.MissingAPI;c.onerror=Pr(u),c.onblocked=lt(t._fireOnBlocked),c.onupgradeneeded=lt(function(f){if(s=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=au,s.abort(),c.result.close();var h=n.deleteDatabase(d);h.onsuccess=h.onerror=lt(function(){u(new Ce.NoSuchDatabase("Database "+d+" doesnt exist"))})}else{s.onerror=Pr(u);var m=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=m<1,t._novip.idbdb=c.result,Y7(t,m/10,s,u)}},u),c.onsuccess=lt(function(){s=null;var f=t._novip.idbdb=c.result,h=lh(f.objectStoreNames);if(h.length>0)try{var m=f.transaction(V7(h),"readonly");e.autoSchema?tj(t,f,m):(sy(t,t._dbSchema,m),nj(t,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),h0(t,m)}catch{}Al.push(t),f.onversionchange=lt(function(y){e.vcFired=!0,t.on("versionchange").fire(y)}),f.onclose=lt(function(y){t.on("close").fire(y)}),a&&aj(t._deps,d),l()},u)})})]).then(function(){return i(),e.onReadyBeingFired=[],ye.resolve(ay(function(){return t.on.ready.fire(t.vip)})).then(function l(){if(e.onReadyBeingFired.length>0){var u=e.onReadyBeingFired.reduce(l0,et);return e.onReadyBeingFired=[],ye.resolve(ay(function(){return u(t.vip)})).then(l)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(l){e.dbOpenError=l;try{s&&s.abort()}catch{}return r===e.openCanceller&&t._close(),Mt(l)}).finally(function(){e.openComplete=!0,o()})}function ly(t){var e=function(s){return t.next(s)},n=function(s){return t.throw(s)},r=o(e),i=o(n);function o(s){return function(a){var l=s(a),u=l.value;return l.done?u:!u||typeof u.then!="function"?tn(u)?Promise.all(u).then(r,i):r(u):u.then(r,i)}}return o(e)()}function fj(t,e,n){var r=arguments.length;if(r<2)throw new Ce.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=wC(i);return[t,o,n]}function HC(t,e,n,r,i){return ye.resolve().then(function(){var o=Se.transless||Se,s=t._createTransaction(e,n,t._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===a0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return HC(t,e,n,null,i)})):Mt(c)}var l=o0(i);l&&Ma();var u,d=ye.follow(function(){if(u=i.call(s,s),u)if(l){var c=gi.bind(null,null);u.then(c,c)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=ly(u))},a);return(u&&typeof u.then=="function"?ye.resolve(u).then(function(c){return s.active?c:Mt(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):d.then(function(){return u})).then(function(c){return r&&s._resolve(),s._completion.then(function(){return c})}).catch(function(c){return s._reject(c),Mt(c)})})}function xc(t,e,n){for(var r=tn(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function dj(t){return $e($e({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},o=[];function s(y,g,b){var p=Cl(y),v=i[p]=i[p]||[],w=y==null?0:typeof y=="string"?1:y.length,x=g>0,S=$e($e({},b),{isVirtual:x,keyTail:g,keyLength:w,extractKey:ry(y),unique:!x&&b.unique});if(v.push(S),S.isPrimaryKey||o.push(S),w>1){var E=w===2?y[0]:y.slice(0,w-1);s(E,g+1,b)}return v.sort(function(k,A){return k.keyTail-A.keyTail}),S}var a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(var l=0,u=r.indexes;l<u.length;l++){var d=u[l];s(d.keyPath,0,d)}function c(y){var g=i[Cl(y)];return g&&g[0]}function f(y,g){return{type:y.type===1?2:y.type,lower:xc(y.lower,y.lowerOpen?t.MAX_KEY:t.MIN_KEY,g),lowerOpen:!0,upper:xc(y.upper,y.upperOpen?t.MIN_KEY:t.MAX_KEY,g),upperOpen:!0}}function h(y){var g=y.query.index;return g.isVirtual?$e($e({},y),{query:{index:g,range:f(y.query.range,g.keyTail)}}):y}var m=$e($e({},n),{schema:$e($e({},r),{primaryKey:a,indexes:o,getIndexByKeyPath:c}),count:function(y){return n.count(h(y))},query:function(y){return n.query(h(y))},openCursor:function(y){var g=y.query.index,b=g.keyTail,p=g.isVirtual,v=g.keyLength;if(!p)return n.openCursor(y);function w(x){function S(k){k!=null?x.continue(xc(k,y.reverse?t.MAX_KEY:t.MIN_KEY,b)):y.unique?x.continue(x.key.slice(0,v).concat(y.reverse?t.MIN_KEY:t.MAX_KEY,b)):x.continue()}var E=Object.create(x,{continue:{value:S},continuePrimaryKey:{value:function(k,A){x.continuePrimaryKey(xc(k,t.MAX_KEY,b),A)}},primaryKey:{get:function(){return x.primaryKey}},key:{get:function(){var k=x.key;return v===1?k[0]:k.slice(0,v)}},value:{get:function(){return x.value}}});return E}return n.openCursor(h(y)).then(function(x){return x&&w(x)})}});return m}})}var hj={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:dj};function v0(t,e,n,r){return n=n||{},r=r||"",Et(t).forEach(function(i){if(!$n(e,i))n[r+i]=void 0;else{var o=t[i],s=e[i];if(typeof o=="object"&&typeof s=="object"&&o&&s){var a=Hg(o),l=Hg(s);a!==l?n[r+i]=e[i]:a==="Object"?v0(o,s,n,r+i+"."):o!==s&&(n[r+i]=e[i])}else o!==s&&(n[r+i]=e[i])}}),Et(e).forEach(function(i){$n(t,i)||(n[r+i]=e[i])}),n}function pj(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var mj={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return $e($e({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=$e($e({},n),{mutate:function(o){var s=Se.trans,a=s.table(e).hook,l=a.deleting,u=a.creating,d=a.updating;switch(o.type){case"add":if(u.fire===et)break;return s._promise("readwrite",function(){return c(o)},!0);case"put":if(u.fire===et&&d.fire===et)break;return s._promise("readwrite",function(){return c(o)},!0);case"delete":if(l.fire===et)break;return s._promise("readwrite",function(){return c(o)},!0);case"deleteRange":if(l.fire===et)break;return s._promise("readwrite",function(){return f(o)},!0)}return n.mutate(o);function c(m){var y=Se.trans,g=m.keys||pj(r,m);if(!g)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?$e($e({},m),{keys:g}):$e({},m),m.type!=="delete"&&(m.values=zg([],m.values,!0)),m.keys&&(m.keys=zg([],m.keys,!0)),gj(n,m,g).then(function(b){var p=g.map(function(v,w){var x=b[w],S={onerror:null,onsuccess:null};if(m.type==="delete")l.fire.call(S,v,x,y);else if(m.type==="add"||x===void 0){var E=u.fire.call(S,v,m.values[w],y);v==null&&E!=null&&(v=E,m.keys[w]=v,r.outbound||br(m.values[w],r.keyPath,v))}else{var k=v0(x,m.values[w]),A=d.fire.call(S,k,v,x,y);if(A){var C=m.values[w];Object.keys(A).forEach(function(_){$n(C,_)?C[_]=A[_]:br(C,_,A[_])})}}return S});return n.mutate(m).then(function(v){for(var w=v.failures,x=v.results,S=v.numFailures,E=v.lastResult,k=0;k<g.length;++k){var A=x?x[k]:g[k],C=p[k];A==null?C.onerror&&C.onerror(w[k]):C.onsuccess&&C.onsuccess(m.type==="put"&&b[k]?m.values[k]:A)}return{failures:w,results:x,numFailures:S,lastResult:E}}).catch(function(v){return p.forEach(function(w){return w.onerror&&w.onerror(v)}),Promise.reject(v)})})}function f(m){return h(m.trans,m.range,1e4)}function h(m,y,g){return n.query({trans:m,values:!1,query:{index:r,range:y},limit:g}).then(function(b){var p=b.result;return c({type:"delete",keys:p,trans:m}).then(function(v){return v.numFailures>0?Promise.reject(v.failures[0]):p.length<g?{failures:[],numFailures:0,lastResult:void 0}:h(m,$e($e({},y),{lower:p[p.length-1],lowerOpen:!0}),g)})})}}});return i}})}};function gj(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function VC(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,o=0;i<e.keys.length&&o<t.length;++i)sn(e.keys[i],t[o])===0&&(r.push(n?Lu(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch{return null}}var yj={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return $e($e({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=VC(r.keys,r.trans._cache,r.cache==="clone");return i?ye.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Lu(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},Fp;function b0(t){return!("from"in t)}var Rr=function(t,e){if(this)cn(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new Rr;return t&&"d"in t&&cn(n,t),n}};ca(Rr.prototype,(Fp={add:function(t){return fu(this,t),this},addKey:function(t){return cu(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return cu(e,n,n)}),this}},Fp[Vg]=function(){return uy(this)},Fp));function cu(t,e,n){var r=sn(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(b0(t))return cn(t,{from:e,to:n,d:1});var i=t.l,o=t.r;if(sn(n,t.from)<0)return i?cu(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},nx(t);if(sn(e,t.to)>0)return o?cu(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},nx(t);sn(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),sn(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var s=!t.r;i&&!t.l&&fu(t,i),o&&s&&fu(t,o)}}function fu(t,e){function n(r,i){var o=i.from,s=i.to,a=i.l,l=i.r;cu(r,o,s),a&&n(r,a),l&&n(r,l)}b0(e)||n(t,e)}function UC(t,e){var n=uy(e),r=n.next();if(r.done)return!1;for(var i=r.value,o=uy(t),s=o.next(i.from),a=s.value;!r.done&&!s.done;){if(sn(a.from,i.to)<=0&&sn(a.to,i.from)>=0)return!0;sn(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function uy(t){var e=b0(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&sn(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||sn(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function nx(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",s=$e({},t),a=t[i];t.from=a.from,t.to=a.to,t[i]=a[i],s[i]=a[o],t[o]=s,s.d=rx(s)}t.d=rx(t)}function rx(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var vj={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Rr(t.MIN_KEY,t.MAX_KEY);return $e($e({},t),{table:function(r){var i=t.table(r),o=i.schema,s=o.primaryKey,a=s.extractKey,l=s.outbound,u=$e($e({},i),{mutate:function(f){var h=f.trans,m=h.mutatedParts||(h.mutatedParts={}),y=function(E){var k="idb://"+e+"/"+r+"/"+E;return m[k]||(m[k]=new Rr)},g=y(""),b=y(":dels"),p=f.type,v=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],w=v[0],x=v[1],S=f.trans._cache;return i.mutate(f).then(function(E){if(tn(w)){p!=="delete"&&(w=E.results),g.addKeys(w);var k=VC(w,S);!k&&p!=="add"&&b.addKeys(w),(k||x)&&bj(y,o,k,x)}else if(w){var A={from:w.lower,to:w.upper};b.add(A),g.add(A)}else g.add(n),b.add(n),o.indexes.forEach(function(C){return y(C.name).add(n)});return E})}}),d=function(f){var h,m,y=f.query,g=y.index,b=y.range;return[g,new Rr((h=b.lower)!==null&&h!==void 0?h:t.MIN_KEY,(m=b.upper)!==null&&m!==void 0?m:t.MAX_KEY)]},c={get:function(f){return[s,new Rr(f.key)]},getMany:function(f){return[s,new Rr().addKeys(f.keys)]},count:d,query:d,openCursor:d};return Et(c).forEach(function(f){u[f]=function(h){var m=Se.subscr;if(m){var y=function(S){var E="idb://"+e+"/"+r+"/"+S;return m[E]||(m[E]=new Rr)},g=y(""),b=y(":dels"),p=c[f](h),v=p[0],w=p[1];if(y(v.name||"").add(w),!v.isPrimaryKey)if(f==="count")b.add(n);else{var x=f==="query"&&l&&h.values&&i.query($e($e({},h),{values:!1}));return i[f].apply(this,arguments).then(function(S){if(f==="query"){if(l&&h.values)return x.then(function(C){var _=C.result;return g.addKeys(_),S});var E=h.values?S.result.map(a):S.result;h.values?g.addKeys(E):b.addKeys(E)}else if(f==="openCursor"){var k=S,A=h.values;return k&&Object.create(k,{key:{get:function(){return b.addKey(k.primaryKey),k.key}},primaryKey:{get:function(){var C=k.primaryKey;return b.addKey(C),C}},value:{get:function(){return A&&g.addKey(k.primaryKey),k.value}}})}return S})}}return i[f].apply(this,arguments)}}),u}})}};function bj(t,e,n,r){function i(o){var s=t(o.name||"");function a(u){return u!=null?o.extractKey(u):null}var l=function(u){return o.multiEntry&&tn(u)?u.forEach(function(d){return s.addKey(d)}):s.addKey(u)};(n||r).forEach(function(u,d){var c=n&&a(n[d]),f=r&&a(r[d]);sn(c,f)!==0&&(c!=null&&l(c),f!=null&&l(f))})}e.indexes.forEach(i)}var du=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=$e({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new ye(function(a){s.dbReadyResolve=a}),s.openCanceller=new ye(function(a,l){s.cancelOpen=l}),this._state=s,this.name=e,this.on=Fu(this,"populate","blocked","versionchange","close",{ready:[l0,et]}),this.on.ready.subscribe=gC(this.on.ready.subscribe,function(a){return function(l,u){t.vip(function(){var d=r._state;if(d.openComplete)d.dbOpenError||ye.resolve().then(l),u&&a(l);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(l),u&&a(l);else{a(l);var c=r;u||a(function f(){c.on.ready.unsubscribe(l),c.on.ready.unsubscribe(f)})}})}}),this.Collection=D7(this),this.Table=N7(this),this.Transaction=H7(this),this.Version=oj(this),this.WhereClause=z7(this),this.on("versionchange",function(a){a.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+a.oldVersion/10)}),this._maxKey=uu(n.IDBKeyRange),this._createTransaction=function(a,l,u,d){return new r.Transaction(a,l,u,r._options.chromeTransactionDurability,d)},this._fireOnBlocked=function(a){r.on("blocked").fire(a),Al.filter(function(l){return l.name===r.name&&l!==r&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(a)})},this.use(hj),this.use(mj),this.use(vj),this.use(yj),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(a){return a(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Ce.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(Q7),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||Se.letThrough||this._vip)?e():new ye(function(r,i){if(n._state.openComplete)return i(new Ce.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new Ce.DatabaseClosed);return}n.open().catch(et)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,o=e.name;o&&this.unuse({stack:n,name:o});var s=this._middlewares[n]||(this._middlewares[n]=[]);return s.push({stack:n,create:r,level:i??10,name:o}),s.sort(function(a,l){return a.level-l.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},t.prototype.open=function(){return cj(this)},t.prototype._close=function(){var e=this._state,n=Al.indexOf(this);if(n>=0&&Al.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new ye(function(r){e.dbReadyResolve=r}),e.openCanceller=new ye(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ce.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new ye(function(i,o){var s=function(){e.close();var a=e._deps.indexedDB.deleteDatabase(e.name);a.onsuccess=lt(function(){lj(e._deps,e.name),i()}),a.onerror=Pr(o),a.onblocked=e._fireOnBlocked};if(n)throw new Ce.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return Et(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=fj.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,o=Se.trans;(!o||o.db!==this||e.indexOf("!")!==-1)&&(o=null);var s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var a,l;try{if(l=n.map(function(d){var c=d instanceof i.Table?d.name:d;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===Rp)a=Rp;else if(e=="rw"||e==Lp)a=Lp;else throw new Ce.InvalidArgument("Invalid transaction mode: "+e);if(o){if(o.mode===Rp&&a===Lp)if(s)o=null;else throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&l.forEach(function(d){if(o&&o.storeNames.indexOf(d)===-1)if(s)o=null;else throw new Ce.SubTransaction("Table "+d+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,function(c,f){f(d)}):Mt(d)}var u=HC.bind(null,this,a,l,o,r);return o?o._promise(a,u,"lock"):Se.trans?Pa(Se.transless,function(){return i._whenReady(u)}):this._whenReady(u)},t.prototype.table=function(e){if(!$n(this._allTables,e))throw new Ce.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),wj=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xj=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[wj]=function(){return this},t}();function WC(t,e){return Et(e).forEach(function(n){var r=t[n]||(t[n]=new Rr);fu(r,e[n])}),t}function KC(t){return new xj(function(e){var n=o0(t);function r(h){n&&Ma();var m=function(){return lo(t,{subscr:h,trans:null})},y=Se.trans?Pa(Se.transless,m):m();return n&&y.then(gi,gi),y}var i=!1,o={},s={},a={get closed(){return i},unsubscribe:function(){i=!0,co.storagemutated.unsubscribe(c)}};e.start&&e.start(a);var l=!1,u=!1;function d(){return Et(s).some(function(h){return o[h]&&UC(o[h],s[h])})}var c=function(h){WC(o,h),d()&&f()},f=function(){if(!(l||i)){o={};var h={},m=r(h);u||(co(lu,c),u=!0),l=!0,Promise.resolve(m).then(function(y){l=!1,!i&&(d()?f():(o={},s=h,e.next&&e.next(y)))},function(y){l=!1,e.error&&e.error(y),a.unsubscribe()})}};return f(),a})}var cy;try{cy={indexedDB:ot.indexedDB||ot.mozIndexedDB||ot.webkitIndexedDB||ot.msIndexedDB,IDBKeyRange:ot.IDBKeyRange||ot.webkitIDBKeyRange}}catch{cy={indexedDB:null,IDBKeyRange:null}}var Co=du;ca(Co,$e($e({},uh),{delete:function(t){var e=new Co(t,{addons:[]});return e.delete()},exists:function(t){return new Co(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return sj(Co.dependencies).then(t)}catch{return Mt(new Ce.MissingAPI)}},defineClass:function(){function t(e){cn(this,e)}return t},ignoreTransaction:function(t){return Se.trans?Pa(Se.transless,t):t()},vip:ay,async:function(t){return function(){try{var e=ly(t.apply(this,arguments));return!e||typeof e.then!="function"?ye.resolve(e):e}catch(n){return Mt(n)}}},spawn:function(t,e,n){try{var r=ly(t.apply(n,e||[]));return!r||typeof r.then!="function"?ye.resolve(r):r}catch(i){return Mt(i)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(t,e){var n=ye.resolve(typeof t=="function"?Co.ignoreTransaction(t):t).timeout(e||6e4);return Se.trans?Se.trans.waitFor(n):n},Promise:ye,debug:{get:function(){return Kr},set:function(t){SC(t,t==="dexie"?function(){return!0}:IC)}},derive:Ta,extend:cn,props:ca,override:gC,Events:Fu,on:co,liveQuery:KC,extendObservabilitySet:WC,getByKeyPath:li,setByKeyPath:br,delByKeyPath:t7,shallowClone:bC,deepClone:Lu,getObjectDiff:v0,cmp:sn,asap:yC,minKey:ty,addons:[],connections:Al,errnames:a0,dependencies:cy,semVer:Qw,version:Qw.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));Co.maxKey=uu(Co.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(co(lu,function(t){if(!si){var e;ch?(e=document.createEvent("CustomEvent"),e.initCustomEvent(zi,!0,!0,t)):e=new CustomEvent(zi,{detail:t}),si=!0,dispatchEvent(e),si=!1}}),addEventListener(zi,function(t){var e=t.detail;si||Xf(e)}));function Xf(t){var e=si;try{si=!0,co.storagemutated.fire(t)}finally{si=e}}var si=!1;if(typeof BroadcastChannel<"u"){var Sc=new BroadcastChannel(zi);typeof Sc.unref=="function"&&Sc.unref(),co(lu,function(t){si||Sc.postMessage(t)}),Sc.onmessage=function(t){t.data&&Xf(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){co(lu,function(t){try{si||(typeof localStorage<"u"&&localStorage.setItem(zi,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&zg([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:zi,changedParts:t})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(t){if(t.key===zi){var e=JSON.parse(t.newValue);e&&Xf(e.changedParts)}});var ix=self.document&&navigator.serviceWorker;ix&&ix.addEventListener("message",Sj)}function Sj(t){var e=t.data;e&&e.type===zi&&Xf(e.changedParts)}ye.rejectionMapper=c7;SC(Kr,IC);const kj=Object.freeze(Object.defineProperty({__proto__:null,Dexie:du,RangeSet:Rr,default:du,liveQuery:KC,mergeRanges:fu,rangesOverlap:UC},Symbol.toStringTag,{value:"Module"})),Ej=q_(kj);(function(t,e){(function(n,r){r(e,Ej,U)})(it,function(n,r,i){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var s=o(i);function a(d,c,f){var h,m;typeof d=="function"?(h=c||[],m=f):(h=[],m=c);var y=s.default.useRef({hasResult:!1,result:m,error:null}),g=s.default.useReducer(function(v){return v+1},0);g[0];var b=g[1],p=s.default.useMemo(function(){var v=typeof d=="function"?d():d;if(!v||typeof v.subscribe!="function")throw d===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!y.current.hasResult&&typeof window<"u")if(typeof v.getValue=="function")y.current.result=v.getValue(),y.current.hasResult=!0;else{var w=v.subscribe(function(x){y.current.result=x,y.current.hasResult=!0});typeof w=="function"?w():w.unsubscribe()}return v},h);if(s.default.useDebugValue(y.current.result),s.default.useEffect(function(){var v=p.subscribe(function(w){var x=y.current;(x.error!==null||x.result!==w)&&(x.error=null,x.result=w,x.hasResult=!0,b())},function(w){var x=y.current;x.error!==w&&(x.error=w,b())});return typeof v=="function"?v:v.unsubscribe.bind(v)},h),y.current.error)throw y.current.error;return y.current.result}function l(d,c,f){return a(function(){return r.liveQuery(d)},c||[],f)}function u(d,c,f){if(!d)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var h;if(arguments.length>=3){if(!("transaction"in d))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof c!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!f||typeof f!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");h=d}else{if(d instanceof r.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof d.table=="function"&&typeof d.db=="object")h=d.db,f=d,c=d.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in h))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in h.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return a(function(){return h.cloud.permissions(f,c)},[f.realmId,f.owner,c])}n.useLiveQuery=l,n.useObservable=a,n.usePermissions=u,Object.defineProperty(n,"__esModule",{value:!0})})})(QF,ao);class Aj extends du{constructor(){super("memo");Da(this,"notes");Da(this,"categories");Da(this,"images");this.version(1).stores({notes:"++id, title, categoryId, createdAt,updatedAt,deletedAt",categories:"++id, title",images:"++id, noteId"})}}const $t=new Aj,Cj="_root_127ea_11",Oj="_notes_127ea_17",_j="_note_127ea_17",Tj="_img_127ea_33",kc={root:Cj,notes:Oj,note:_j,img:Tj};/*! For license information please see index.js.LICENSE.txt */var Nj={584:t=>{function e(i,o,s){i instanceof RegExp&&(i=n(i,s)),o instanceof RegExp&&(o=n(o,s));var a=r(i,o,s);return a&&{start:a[0],end:a[1],pre:s.slice(0,a[0]),body:s.slice(a[0]+i.length,a[1]),post:s.slice(a[1]+o.length)}}function n(i,o){var s=o.match(i);return s?s[0]:null}function r(i,o,s){var a,l,u,d,c,f=s.indexOf(i),h=s.indexOf(o,f+1),m=f;if(f>=0&&h>0){for(a=[],u=s.length;m>=0&&!c;)m==f?(a.push(m),f=s.indexOf(i,m+1)):a.length==1?c=[a.pop(),h]:((l=a.pop())<u&&(u=l,d=h),h=s.indexOf(o,m+1)),m=f<h&&f>=0?f:h;a.length&&(c=[u,d])}return c}t.exports=e,e.range=r},146:function(t,e,n){var r;function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}t=n.nmd(t),function(o){var s=i(e)=="object"&&e,a=i(t)=="object"&&t&&t.exports==s&&t,l=(typeof global>"u"?"undefined":i(global))=="object"&&global;l.global!==l&&l.window!==l||(o=l);var u=function(y){this.message=y};(u.prototype=new Error).name="InvalidCharacterError";var d=function(y){throw new u(y)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,h={encode:function(y){y=String(y),/[^\0-\xFF]/.test(y)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var g,b,p,v,w=y.length%3,x="",S=-1,E=y.length-w;++S<E;)g=y.charCodeAt(S)<<16,b=y.charCodeAt(++S)<<8,p=y.charCodeAt(++S),x+=c.charAt((v=g+b+p)>>18&63)+c.charAt(v>>12&63)+c.charAt(v>>6&63)+c.charAt(63&v);return w==2?(g=y.charCodeAt(S)<<8,b=y.charCodeAt(++S),x+=c.charAt((v=g+b)>>10)+c.charAt(v>>4&63)+c.charAt(v<<2&63)+"="):w==1&&(v=y.charCodeAt(S),x+=c.charAt(v>>2)+c.charAt(v<<4&63)+"=="),x},decode:function(y){var g=(y=String(y).replace(f,"")).length;g%4==0&&(g=(y=y.replace(/==?$/,"")).length),(g%4==1||/[^+a-zA-Z0-9/]/.test(y))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var b,p,v=0,w="",x=-1;++x<g;)p=c.indexOf(y.charAt(x)),b=v%4?64*b+p:p,v++%4&&(w+=String.fromCharCode(255&b>>(-2*v&6)));return w},version:"1.0.0"};if(i(n.amdO)=="object"&&n.amdO)(r=function(){return h}.call(e,n,e,t))===void 0||(t.exports=r);else if(s&&!s.nodeType)if(a)a.exports=h;else for(var m in h)h.hasOwnProperty(m)&&(s[m]=h[m]);else o.base64=h}(this)},918:(t,e)=>{e.k=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var o=n.charCodeAt(i);56320<=o&&o<=57343&&i--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},106:t=>{var e={utf8:{stringToBytes:function(n){return e.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(e.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};t.exports=e},718:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],o=0,s=0;o<r.length;o++,s+=8)i[s>>>5]|=r[o]<<24-s%32;return i},wordsToBytes:function(r){for(var i=[],o=0;o<32*r.length;o+=8)i.push(r[o>>>5]>>>24-o%32&255);return i},bytesToHex:function(r){for(var i=[],o=0;o<r.length;o++)i.push((r[o]>>>4).toString(16)),i.push((15&r[o]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],o=0;o<r.length;o+=2)i.push(parseInt(r.substr(o,2),16));return i},bytesToBase64:function(r){for(var i=[],o=0;o<r.length;o+=3)for(var s=r[o]<<16|r[o+1]<<8|r[o+2],a=0;a<4;a++)8*o+6*a<=8*r.length?i.push(e.charAt(s>>>6*(3-a)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],o=0,s=0;o<r.length;s=++o%4)s!=0&&i.push((e.indexOf(r.charAt(o-1))&Math.pow(2,-2*s+8)-1)<<2*s|e.indexOf(r.charAt(o))>>>6-2*s);return i}},t.exports=n},412:(t,e,n)=>{function r(p){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},r(p)}var i=n(410).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(p){return p},attrValueProcessor:function(p){return p}},s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function a(p){this.options=i(p,o,s),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=b:this.isCDATA=function(){return!1},this.replaceCDATAstr=u,this.replaceCDATAarr=d,this.processTextOrObjNode=l,this.options.format?(this.indentate=y,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=m,this.buildObjNode=f):(this.buildTextNode=h,this.buildObjNode=c),this.buildTextValNode=h,this.buildObjectNode=c}function l(p,v,w){var x=this.j2x(p,w+1);return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextNode(x.val,v,x.attrStr,w):this.buildObjNode(x.val,v,x.attrStr,w)}function u(p,v){return p=this.options.tagValueProcessor(""+p),this.options.cdataPositionChar===""||p===""?p+"<![CDATA["+v+"]]"+this.tagEndChar:p.replace(this.options.cdataPositionChar,"<![CDATA["+v+"]]"+this.tagEndChar)}function d(p,v){if(p=this.options.tagValueProcessor(""+p),this.options.cdataPositionChar===""||p==="")return p+"<![CDATA["+v.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var w in v)p=p.replace(this.options.cdataPositionChar,"<![CDATA["+v[w]+"]]>");return p+this.newLine}function c(p,v,w,x){return w&&p.indexOf("<")===-1?this.indentate(x)+"<"+v+w+">"+p+"</"+v+this.tagEndChar:this.indentate(x)+"<"+v+w+this.tagEndChar+p+this.indentate(x)+"</"+v+this.tagEndChar}function f(p,v,w,x){return p!==""?this.buildObjectNode(p,v,w,x):this.indentate(x)+"<"+v+w+"/"+this.tagEndChar}function h(p,v,w,x){return this.indentate(x)+"<"+v+w+">"+this.options.tagValueProcessor(p)+"</"+v+this.tagEndChar}function m(p,v,w,x){return p!==""?this.buildTextValNode(p,v,w,x):this.indentate(x)+"<"+v+w+"/"+this.tagEndChar}function y(p){return this.options.indentBy.repeat(p)}function g(p){return!!p.startsWith(this.options.attributeNamePrefix)&&p.substr(this.attrPrefixLen)}function b(p){return p===this.options.cdataTagName}a.prototype.parse=function(p){var v,w,x;return Array.isArray(p)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(v={},x=p,(w=this.options.rootNodeName)in v?Object.defineProperty(v,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[w]=x,p=v),this.j2x(p,0).val},a.prototype.j2x=function(p,v){var w="",x="";for(var S in p)if(p[S]!==void 0)if(p[S]===null)x+=this.indentate(v)+"<"+S+"/"+this.tagEndChar;else if(p[S]instanceof Date)x+=this.buildTextNode(p[S],S,"",v);else if(r(p[S])!=="object"){var E=this.isAttribute(S);E?w+=" "+E+'="'+this.options.attrValueProcessor(""+p[S])+'"':this.isCDATA(S)?p[this.options.textNodeName]?x+=this.replaceCDATAstr(p[this.options.textNodeName],p[S]):x+=this.replaceCDATAstr("",p[S]):S===this.options.textNodeName?p[this.options.cdataTagName]||(x+=this.options.tagValueProcessor(""+p[S])):x+=this.buildTextNode(p[S],S,"",v)}else if(Array.isArray(p[S]))if(this.isCDATA(S))x+=this.indentate(v),p[this.options.textNodeName]?x+=this.replaceCDATAarr(p[this.options.textNodeName],p[S]):x+=this.replaceCDATAarr("",p[S]);else for(var k=p[S].length,A=0;A<k;A++){var C=p[S][A];C===void 0||(C===null?x+=this.indentate(v)+"<"+S+"/"+this.tagEndChar:r(C)==="object"?x+=this.processTextOrObjNode(C,S,v):x+=this.buildTextNode(C,S,"",v))}else if(this.options.attrNodeName&&S===this.options.attrNodeName)for(var _=Object.keys(p[S]),O=_.length,M=0;M<O;M++)w+=" "+_[M]+'="'+this.options.attrValueProcessor(""+p[S][_[M]])+'"';else x+=this.processTextOrObjNode(p[S],S,v);return{attrStr:w,val:x}},t.exports=a},927:(t,e,n)=>{var r=function(f){return String.fromCharCode(f)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function f(h,m,y){if(typeof m=="string")return h&&h[0]&&h[0].val!==void 0?a(h[0].val):a(h);var g,b=(g=h)===void 0?i.missingChar:g===null?i.nilChar:!(g.child&&Object.keys(g.child).length===0&&(!g.attrsMap||Object.keys(g.attrsMap).length===0))||i.emptyChar;if(b===!0){var p="";if(Array.isArray(m)){p+=i.arrStart;var v=m[0],w=h.length;if(typeof v=="string")for(var x=0;x<w;x++){var S=a(h[x].val);p=l(p,S)}else for(var E=0;E<w;E++){var k=f(h[E],v,y);p=l(p,k)}p+=i.arrayEnd}else{p+=i.objStart;var A=Object.keys(m);for(var C in Array.isArray(h)&&(h=h[0]),A){var _,O=A[C];_=!y.ignoreAttributes&&h.attrsMap&&h.attrsMap[O]?f(h.attrsMap[O],m[O],y):O===y.textNodeName?f(h.val,m[O],y):f(h.child[O],m[O],y),p=l(p,_)}}return p}return b},a=function(f){switch(f){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return f}},l=function(f,h){return u(h[0])||u(f[f.length-1])||(f+=i.boundryChar),f+h},u=function(f){return o.indexOf(f)!==-1},d=n(369),c=n(410).buildOptions;e.convert2nimn=function(f,h,m){return m=c(m,d.defaultOptions,d.props),s(f,h,m)}},504:(t,e,n)=>{function r(o){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(o)}var i=n(410);e.convertToJson=function o(s,a,l){var u={};if(!a.alwaysCreateTextNode&&(!s.child||i.isEmptyObject(s.child))&&(!s.attrsMap||i.isEmptyObject(s.attrsMap)))return i.isExist(s.val)?s.val:"";if(i.isExist(s.val)&&(typeof s.val!="string"||s.val!==""&&s.val!==a.cdataPositionChar)){var d=i.isTagNameInArrayMode(s.tagname,a.arrayMode,l);u[a.textNodeName]=d?[s.val]:s.val}i.merge(u,s.attrsMap,a.arrayMode);for(var c=Object.keys(s.child),f=0;f<c.length;f++){var h=c[f];if(s.child[h]&&s.child[h].length>1)for(var m in u[h]=[],s.child[h])s.child[h].hasOwnProperty(m)&&u[h].push(o(s.child[h][m],a,h));else{var y=o(s.child[h][0],a,h),g=a.arrayMode===!0&&r(y)==="object"||i.isTagNameInArrayMode(h,a.arrayMode,l);u[h]=g?[y]:y}}return u}},651:(t,e,n)=>{var r=n(410),i=n(410).buildOptions,o=n(369),s=function a(l,u,d){for(var c,f="{",h=Object.keys(l.child),m=0;m<h.length;m++){var y=h[m];if(l.child[y]&&l.child[y].length>1){for(var g in f+='"'+y+'" : [ ',l.child[y])f+=a(l.child[y][g],u)+" , ";f=f.substr(0,f.length-1)+" ] "}else f+='"'+y+'" : '+a(l.child[y][0],u)+" ,"}return r.merge(f,l.attrsMap),r.isEmptyObject(f)?r.isExist(l.val)?l.val:"":(r.isExist(l.val)&&(typeof l.val!="string"||l.val!==""&&l.val!==u.cdataPositionChar)&&(f+='"'+u.textNodeName+'" : '+((c=l.val)!==!0&&c!==!1&&isNaN(c)?'"'+c+'"':c)),f[f.length-1]===","&&(f=f.substr(0,f.length-2)),f+"}")};e.convertToJsonString=function(a,l){return(l=i(l,o.defaultOptions,o.props)).indentBy=l.indentBy||"",s(a,l)}},819:(t,e,n)=>{var r=n(504),i=n(369),o=n(369),s=n(410).buildOptions,a=n(135);e.parse=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;if(d){d===!0&&(d={});var c=a.validate(l,d);if(c!==!0)throw Error(c.err.msg)}u.parseTrueNumberOnly&&u.parseNodeValue!==!1&&!u.numParseOptions&&(u.numParseOptions={leadingZeros:!1});var f=s(u,o.defaultOptions,o.props),h=i.getTraversalObj(l,f);return r.convertToJson(h,f)},e.convertTonimn=n(927).convert2nimn,e.getTraversalObj=i.getTraversalObj,e.convertToJson=r.convertToJson,e.convertToJsonString=n(651).convertToJsonString,e.validate=a.validate,e.j2xParser=n(412),e.parseToNimn=function(l,u,d){return e.convertTonimn(e.getTraversalObj(l,d),u,d)}},410:(t,e)=>{var n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");e.isExist=function(i){return i!==void 0},e.isEmptyObject=function(i){return Object.keys(i).length===0},e.merge=function(i,o,s){if(o)for(var a=Object.keys(o),l=a.length,u=0;u<l;u++)i[a[u]]=s==="strict"?[o[a[u]]]:o[a[u]]},e.getValue=function(i){return e.isExist(i)?i:""},e.buildOptions=function(i,o,s){var a={};if(!i)return o;for(var l=0;l<s.length;l++)i[s[l]]!==void 0?a[s[l]]=i[s[l]]:a[s[l]]=o[s[l]];return a},e.isTagNameInArrayMode=function(i,o,s){return o!==!1&&(o instanceof RegExp?o.test(i):typeof o=="function"?!!o(i,s):o==="strict")},e.isName=function(i){return r.exec(i)!=null},e.getAllMatches=function(i,o){for(var s=[],a=o.exec(i);a;){var l=[];l.startIndex=o.lastIndex-a[0].length;for(var u=a.length,d=0;d<u;d++)l.push(a[d]);s.push(l),a=o.exec(i)}return s},e.nameRegexp=n},135:(t,e,n)=>{var r=n(410),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function s(g,b){for(var p=b;b<g.length;b++)if(!(g[b]!="?"&&g[b]!=" ")){var v=g.substr(p,b-p);if(b>5&&v==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",m(g,b));if(g[b]=="?"&&g[b+1]==">"){b++;break}}return b}function a(g,b){if(g.length>b+5&&g[b+1]==="-"&&g[b+2]==="-"){for(b+=3;b<g.length;b++)if(g[b]==="-"&&g[b+1]==="-"&&g[b+2]===">"){b+=2;break}}else if(g.length>b+8&&g[b+1]==="D"&&g[b+2]==="O"&&g[b+3]==="C"&&g[b+4]==="T"&&g[b+5]==="Y"&&g[b+6]==="P"&&g[b+7]==="E"){var p=1;for(b+=8;b<g.length;b++)if(g[b]==="<")p++;else if(g[b]===">"&&--p==0)break}else if(g.length>b+9&&g[b+1]==="["&&g[b+2]==="C"&&g[b+3]==="D"&&g[b+4]==="A"&&g[b+5]==="T"&&g[b+6]==="A"&&g[b+7]==="["){for(b+=8;b<g.length;b++)if(g[b]==="]"&&g[b+1]==="]"&&g[b+2]===">"){b+=2;break}}return b}function l(g,b){for(var p="",v="",w=!1;b<g.length;b++){if(g[b]==='"'||g[b]==="'")v===""?v=g[b]:v!==g[b]||(v="");else if(g[b]===">"&&v===""){w=!0;break}p+=g[b]}return v===""&&{value:p,index:b,tagClosed:w}}e.validate=function(g,b){b=r.buildOptions(b,i,o);var p,v=[],w=!1,x=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(var S=0;S<g.length;S++)if(g[S]==="<"&&g[S+1]==="?"){if((S=s(g,S+=2)).err)return S}else{if(g[S]!=="<"){if(g[S]===" "||g[S]==="	"||g[S]===`
`||g[S]==="\r")continue;return f("InvalidChar","char '"+g[S]+"' is not expected.",m(g,S))}var E=S;if(g[++S]==="!"){S=a(g,S);continue}var k=!1;g[S]==="/"&&(k=!0,S++);for(var A="";S<g.length&&g[S]!==">"&&g[S]!==" "&&g[S]!=="	"&&g[S]!==`
`&&g[S]!=="\r";S++)A+=g[S];if((A=A.trim())[A.length-1]==="/"&&(A=A.substring(0,A.length-1),S--),p=A,!r.isName(p))return f("InvalidTag",A.trim().length===0?"Invalid space after '<'.":"Tag '"+A+"' is an invalid name.",m(g,S));var C=l(g,S);if(C===!1)return f("InvalidAttr","Attributes for '"+A+"' have open quote.",m(g,S));var _=C.value;if(S=C.index,_[_.length-1]==="/"){var O=S-_.length,M=d(_=_.substring(0,_.length-1),b);if(M!==!0)return f(M.err.code,M.err.msg,m(g,O+M.err.line));w=!0}else if(k){if(!C.tagClosed)return f("InvalidTag","Closing tag '"+A+"' doesn't have proper closing.",m(g,S));if(_.trim().length>0)return f("InvalidTag","Closing tag '"+A+"' can't have attributes or invalid starting.",m(g,E));var T=v.pop();if(A!==T.tagName){var N=m(g,T.tagStartPos);return f("InvalidTag","Expected closing tag '"+T.tagName+"' (opened in line "+N.line+", col "+N.col+") instead of closing tag '"+A+"'.",m(g,E))}v.length==0&&(x=!0)}else{var P=d(_,b);if(P!==!0)return f(P.err.code,P.err.msg,m(g,S-_.length+P.err.line));if(x===!0)return f("InvalidXml","Multiple possible root nodes found.",m(g,S));v.push({tagName:A,tagStartPos:E}),w=!0}for(S++;S<g.length;S++)if(g[S]==="<"){if(g[S+1]==="!"){S=a(g,++S);continue}if(g[S+1]!=="?")break;if((S=s(g,++S)).err)return S}else if(g[S]==="&"){var L=c(g,S);if(L==-1)return f("InvalidChar","char '&' is not expected.",m(g,S));S=L}g[S]==="<"&&S--}return w?v.length==1?f("InvalidTag","Unclosed tag '"+v[0].tagName+"'.",m(g,v[0].tagStartPos)):!(v.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(v.map(function(z){return z.tagName}),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):f("InvalidXml","Start tag expected.",1)};var u=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function d(g,b){for(var p=r.getAllMatches(g,u),v={},w=0;w<p.length;w++){if(p[w][1].length===0)return f("InvalidAttr","Attribute '"+p[w][2]+"' has no space in starting.",y(p[w]));if(p[w][3]===void 0&&!b.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+p[w][2]+"' is not allowed.",y(p[w]));var x=p[w][2];if(!h(x))return f("InvalidAttr","Attribute '"+x+"' is an invalid name.",y(p[w]));if(v.hasOwnProperty(x))return f("InvalidAttr","Attribute '"+x+"' is repeated.",y(p[w]));v[x]=1}return!0}function c(g,b){if(g[++b]===";")return-1;if(g[b]==="#")return function(v,w){var x=/\d/;for(v[w]==="x"&&(w++,x=/[\da-fA-F]/);w<v.length;w++){if(v[w]===";")return w;if(!v[w].match(x))break}return-1}(g,++b);for(var p=0;b<g.length;b++,p++)if(!(g[b].match(/\w/)&&p<20)){if(g[b]===";")break;return-1}return b}function f(g,b,p){return{err:{code:g,msg:b,line:p.line||p,col:p.col}}}function h(g){return r.isName(g)}function m(g,b){var p=g.substring(0,b).split(/\r?\n/);return{line:p.length,col:p[p.length-1].length+1}}function y(g){return g.startIndex+g[1].length}},613:t=>{t.exports=function(e,n,r){this.tagname=e,this.parent=n,this.child={},this.attrsMap={},this.val=r,this.addChild=function(i){Array.isArray(this.child[i.tagname])?this.child[i.tagname].push(i):this.child[i.tagname]=[i]}}},369:(t,e,n)=>{var r=n(410),i=n(410).buildOptions,o=n(613),s=n(512);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(g,b){return g},attrValueProcessor:function(g,b){return g},stopNodes:[],alwaysCreateTextNode:!1};e.defaultOptions=a;var l=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function u(g,b,p){return b&&(p.trimValues&&(b=b.trim()),b=c(b=p.tagValueProcessor(b,g),p.parseNodeValue,p.numParseOptions)),b}function d(g,b){if(b.ignoreNameSpace){var p=g.split(":"),v=g.charAt(0)==="/"?"/":"";if(p[0]==="xmlns")return"";p.length===2&&(g=v+p[1])}return g}function c(g,b,p){if(b&&typeof g=="string"){var v=g.trim();return v==="true"||v!=="false"&&s(g,p)}return r.isExist(g)?g:""}e.props=l;var f=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function h(g,b){if(!b.ignoreAttributes&&typeof g=="string"){g=g.replace(/\r?\n/g," ");for(var p=r.getAllMatches(g,f),v=p.length,w={},x=0;x<v;x++){var S=d(p[x][1],b);S.length&&(p[x][4]!==void 0?(b.trimValues&&(p[x][4]=p[x][4].trim()),p[x][4]=b.attrValueProcessor(p[x][4],S),w[b.attributeNamePrefix+S]=c(p[x][4],b.parseAttributeValue,b.numParseOptions)):b.allowBooleanAttributes&&(w[b.attributeNamePrefix+S]=!0))}if(!Object.keys(w).length)return;if(b.attrNodeName){var E={};return E[b.attrNodeName]=w,E}return w}}function m(g,b){for(var p,v="",w=b;w<g.length;w++){var x=g[w];if(p)x===p&&(p="");else if(x==='"'||x==="'")p=x;else{if(x===">")return{data:v,index:w};x==="	"&&(x=" ")}v+=x}}function y(g,b,p,v){var w=g.indexOf(b,p);if(w===-1)throw new Error(v);return w+b.length-1}e.getTraversalObj=function(g,b){g=g.replace(/\r\n?/g,`
`),b=i(b,a,l);for(var p=new o("!xml"),v=p,w="",x=0;x<g.length;x++)if(g[x]==="<")if(g[x+1]==="/"){var S=y(g,">",x,"Closing Tag is not closed."),E=g.substring(x+2,S).trim();if(b.ignoreNameSpace){var k=E.indexOf(":");k!==-1&&(E=E.substr(k+1))}v&&(v.val?v.val=r.getValue(v.val)+""+u(E,w,b):v.val=u(E,w,b)),b.stopNodes.length&&b.stopNodes.includes(v.tagname)&&(v.child=[],v.attrsMap==null&&(v.attrsMap={}),v.val=g.substr(v.startIndex+1,x-v.startIndex-1)),v=v.parent,w="",x=S}else if(g[x+1]==="?")x=y(g,"?>",x,"Pi Tag is not closed.");else if(g.substr(x+1,3)==="!--")x=y(g,"-->",x,"Comment is not closed.");else if(g.substr(x+1,2)==="!D"){var A=y(g,">",x,"DOCTYPE is not closed.");x=g.substring(x,A).indexOf("[")>=0?g.indexOf("]>",x)+1:A}else if(g.substr(x+1,2)==="!["){var C=y(g,"]]>",x,"CDATA is not closed.")-2,_=g.substring(x+9,C);if(w&&(v.val=r.getValue(v.val)+""+u(v.tagname,w,b),w=""),b.cdataTagName){var O=new o(b.cdataTagName,v,_);v.addChild(O),v.val=r.getValue(v.val)+b.cdataPositionChar,_&&(O.val=_)}else v.val=(v.val||"")+(_||"");x=C+2}else{var M=m(g,x+1),T=M.data,N=M.index,P=T.indexOf(" "),L=T,z=!0;if(P!==-1&&(L=T.substr(0,P).replace(/\s\s*$/,""),T=T.substr(P+1)),b.ignoreNameSpace){var j=L.indexOf(":");j!==-1&&(z=(L=L.substr(j+1))!==M.data.substr(j+1))}if(v&&w&&v.tagname!=="!xml"&&(v.val=r.getValue(v.val)+""+u(v.tagname,w,b)),T.length>0&&T.lastIndexOf("/")===T.length-1){T=L[L.length-1]==="/"?L=L.substr(0,L.length-1):T.substr(0,T.length-1);var B=new o(L,v,"");L!==T&&(B.attrsMap=h(T,b)),v.addChild(B)}else{var I=new o(L,v);b.stopNodes.length&&b.stopNodes.includes(I.tagname)&&(I.startIndex=N),L!==T&&z&&(I.attrsMap=h(T,b)),v.addChild(I),v=I}w="",x=N}else w+=g[x];return p}},163:t=>{function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}t.exports=function(n){return n!=null&&(e(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}(n)||!!n._isBuffer)}},893:(t,e)=>{function n(r){return i=r,Object.prototype.toString.call(i)==="[object Error]"||r instanceof Error;var i}Object.defineProperty(e,"__esModule",{value:!0}),e.isError=e.inherit=e.assertError=void 0,e.assertError=function(r){if(!n(r))throw new Error("Parameter was not an error")},e.inherit=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})},e.isError=n},104:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(s,a,l,u){u===void 0&&(u=l),Object.defineProperty(s,u,{enumerable:!0,get:function(){return a[l]}})}:function(s,a,l,u){u===void 0&&(u=l),s[u]=a[l]}),i=this&&this.__exportStar||function(s,a){for(var l in s)l==="default"||Object.prototype.hasOwnProperty.call(a,l)||r(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.Layerr=void 0;var o=n(248);Object.defineProperty(e,"Layerr",{enumerable:!0,get:function(){return o.Layerr}}),i(n(646),e)},248:(t,e,n)=>{function r(a){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.Layerr=void 0;var i=n(893),o=n(235);function s(a,l){var u=Array.prototype.slice.call(arguments);if(this instanceof s==0)throw new Error("Cannot invoke 'Layerr' like a function: It must be called with 'new'");var d=o.parseArguments(u),c=d.options,f=d.shortMessage;this.name="Layerr",c.name&&typeof c.name=="string"&&(this.name=c.name);var h=f;if(c.cause&&(Object.defineProperty(this,"_cause",{value:c.cause}),h="".concat(h,": ").concat(c.cause.message)),this.message=h,Object.defineProperty(this,"_info",{value:{}}),c.info&&r(c.info)==="object"&&Object.assign(this._info,c.info),Error.call(this,h),Error.captureStackTrace){var m=c.constructorOpt||this.constructor;Error.captureStackTrace(this,m)}return this}e.Layerr=s,i.inherit(s,Error),s.prototype.cause=function(){return s.cause(this)||void 0},s.prototype.toString=function(){var a=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(a="".concat(a,": ").concat(this.message)),a},s.cause=function(a){return i.assertError(a),i.isError(a._cause)?a._cause:null},s.fullStack=function(a){i.assertError(a);var l=s.cause(a);return l?"".concat(a.stack,`
caused by: `).concat(s.fullStack(l)):a.stack},s.info=function(a){i.assertError(a);var l={},u=s.cause(a);return u&&Object.assign(l,s.info(u)),a._info&&Object.assign(l,a._info),l}},235:(t,e,n)=>{function r(o){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.parseArguments=void 0;var i=n(893);e.parseArguments=function(o){var s,a="";if(o.length===0)s={};else if(i.isError(o[0]))s={cause:o[0]},a=o.slice(1).join(" ")||"";else if(o[0]&&r(o[0])==="object")s=Object.assign({},o[0]),a=o.slice(1).join(" ")||"";else{if(typeof o[0]!="string")throw new Error("Invalid arguments passed to Layerr");s={},a=a=o.join(" ")||""}return{options:s,shortMessage:a}}},646:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},243:(t,e,n)=>{var r,i,o,s,a;r=n(718),i=n(106).utf8,o=n(163),s=n(106).bin,(a=function l(u,d){u.constructor==String?u=d&&d.encoding==="binary"?s.stringToBytes(u):i.stringToBytes(u):o(u)?u=Array.prototype.slice.call(u,0):Array.isArray(u)||u.constructor===Uint8Array||(u=u.toString());for(var c=r.bytesToWords(u),f=8*u.length,h=1732584193,m=-271733879,y=-1732584194,g=271733878,b=0;b<c.length;b++)c[b]=16711935&(c[b]<<8|c[b]>>>24)|4278255360&(c[b]<<24|c[b]>>>8);c[f>>>5]|=128<<f%32,c[14+(f+64>>>9<<4)]=f;var p=l._ff,v=l._gg,w=l._hh,x=l._ii;for(b=0;b<c.length;b+=16){var S=h,E=m,k=y,A=g;h=p(h,m,y,g,c[b+0],7,-680876936),g=p(g,h,m,y,c[b+1],12,-389564586),y=p(y,g,h,m,c[b+2],17,606105819),m=p(m,y,g,h,c[b+3],22,-1044525330),h=p(h,m,y,g,c[b+4],7,-176418897),g=p(g,h,m,y,c[b+5],12,1200080426),y=p(y,g,h,m,c[b+6],17,-1473231341),m=p(m,y,g,h,c[b+7],22,-45705983),h=p(h,m,y,g,c[b+8],7,1770035416),g=p(g,h,m,y,c[b+9],12,-1958414417),y=p(y,g,h,m,c[b+10],17,-42063),m=p(m,y,g,h,c[b+11],22,-1990404162),h=p(h,m,y,g,c[b+12],7,1804603682),g=p(g,h,m,y,c[b+13],12,-40341101),y=p(y,g,h,m,c[b+14],17,-1502002290),h=v(h,m=p(m,y,g,h,c[b+15],22,1236535329),y,g,c[b+1],5,-165796510),g=v(g,h,m,y,c[b+6],9,-1069501632),y=v(y,g,h,m,c[b+11],14,643717713),m=v(m,y,g,h,c[b+0],20,-373897302),h=v(h,m,y,g,c[b+5],5,-701558691),g=v(g,h,m,y,c[b+10],9,38016083),y=v(y,g,h,m,c[b+15],14,-660478335),m=v(m,y,g,h,c[b+4],20,-405537848),h=v(h,m,y,g,c[b+9],5,568446438),g=v(g,h,m,y,c[b+14],9,-1019803690),y=v(y,g,h,m,c[b+3],14,-187363961),m=v(m,y,g,h,c[b+8],20,1163531501),h=v(h,m,y,g,c[b+13],5,-1444681467),g=v(g,h,m,y,c[b+2],9,-51403784),y=v(y,g,h,m,c[b+7],14,1735328473),h=w(h,m=v(m,y,g,h,c[b+12],20,-1926607734),y,g,c[b+5],4,-378558),g=w(g,h,m,y,c[b+8],11,-2022574463),y=w(y,g,h,m,c[b+11],16,1839030562),m=w(m,y,g,h,c[b+14],23,-35309556),h=w(h,m,y,g,c[b+1],4,-1530992060),g=w(g,h,m,y,c[b+4],11,1272893353),y=w(y,g,h,m,c[b+7],16,-155497632),m=w(m,y,g,h,c[b+10],23,-1094730640),h=w(h,m,y,g,c[b+13],4,681279174),g=w(g,h,m,y,c[b+0],11,-358537222),y=w(y,g,h,m,c[b+3],16,-722521979),m=w(m,y,g,h,c[b+6],23,76029189),h=w(h,m,y,g,c[b+9],4,-640364487),g=w(g,h,m,y,c[b+12],11,-421815835),y=w(y,g,h,m,c[b+15],16,530742520),h=x(h,m=w(m,y,g,h,c[b+2],23,-995338651),y,g,c[b+0],6,-198630844),g=x(g,h,m,y,c[b+7],10,1126891415),y=x(y,g,h,m,c[b+14],15,-1416354905),m=x(m,y,g,h,c[b+5],21,-57434055),h=x(h,m,y,g,c[b+12],6,1700485571),g=x(g,h,m,y,c[b+3],10,-1894986606),y=x(y,g,h,m,c[b+10],15,-1051523),m=x(m,y,g,h,c[b+1],21,-2054922799),h=x(h,m,y,g,c[b+8],6,1873313359),g=x(g,h,m,y,c[b+15],10,-30611744),y=x(y,g,h,m,c[b+6],15,-1560198380),m=x(m,y,g,h,c[b+13],21,1309151649),h=x(h,m,y,g,c[b+4],6,-145523070),g=x(g,h,m,y,c[b+11],10,-1120210379),y=x(y,g,h,m,c[b+2],15,718787259),m=x(m,y,g,h,c[b+9],21,-343485551),h=h+S>>>0,m=m+E>>>0,y=y+k>>>0,g=g+A>>>0}return r.endian([h,m,y,g])})._ff=function(l,u,d,c,f,h,m){var y=l+(u&d|~u&c)+(f>>>0)+m;return(y<<h|y>>>32-h)+u},a._gg=function(l,u,d,c,f,h,m){var y=l+(u&c|d&~c)+(f>>>0)+m;return(y<<h|y>>>32-h)+u},a._hh=function(l,u,d,c,f,h,m){var y=l+(u^d^c)+(f>>>0)+m;return(y<<h|y>>>32-h)+u},a._ii=function(l,u,d,c,f,h,m){var y=l+(d^(u|~c))+(f>>>0)+m;return(y<<h|y>>>32-h)+u},a._blocksize=16,a._digestsize=16,t.exports=function(l,u){if(l==null)throw new Error("Illegal argument "+l);var d=r.wordsToBytes(a(l,u));return u&&u.asBytes?d:u&&u.asString?s.bytesToString(d):r.bytesToHex(d)}},50:t=>{function e(r){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e(r)}var n=(typeof process>"u"?"undefined":e(process))==="object"&&process&&process.platform==="win32";t.exports=n?{sep:"\\"}:{sep:"/"}},0:(t,e,n)=>{function r(C,_){for(var O=0;O<_.length;O++){var M=_[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}function i(C,_,O){return _&&r(C.prototype,_),O&&r(C,O),Object.defineProperty(C,"prototype",{writable:!1}),C}function o(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function s(C,_){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,M){return O.__proto__=M,O},s(C,_)}function a(C,_){if(_&&(u(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(C)}function l(C){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},l(C)}function u(C){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(C)}var d=t.exports=function(C,_){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(_),!(!O.nocomment&&_.charAt(0)==="#")&&new A(_,O).match(C)};t.exports=d;var c=n(50);d.sep=c.sep;var f=Symbol("globstar **");d.GLOBSTAR=f;var h=n(637),m={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},y="[^/]",g="[^/]*?",b=function(C){return C.split("").reduce(function(_,O){return _[O]=!0,_},{})},p=b("().*{}+?[]^$\\!"),v=b("[.("),w=/\/+/;d.filter=function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(O,M,T){return d(O,C,_)}};var x=function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O={};return Object.keys(C).forEach(function(M){return O[M]=C[M]}),Object.keys(_).forEach(function(M){return O[M]=_[M]}),O};d.defaults=function(C){if(!C||u(C)!=="object"||!Object.keys(C).length)return d;var _=d,O=function(M,T,N){return _(M,T,x(C,N))};return(O.Minimatch=function(M){(function(z,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(j&&j.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),j&&s(z,j)})(L,M);var T,N,P=(T=L,N=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var z,j=l(T);if(N){var B=l(this).constructor;z=Reflect.construct(j,arguments,B)}else z=j.apply(this,arguments);return a(this,z)});function L(z,j){return o(this,L),P.call(this,z,x(C,j))}return i(L)}(_.Minimatch)).defaults=function(M){return _.defaults(x(C,M)).Minimatch},O.filter=function(M,T){return _.filter(M,x(C,T))},O.defaults=function(M){return _.defaults(x(C,M))},O.makeRe=function(M,T){return _.makeRe(M,x(C,T))},O.braceExpand=function(M,T){return _.braceExpand(M,x(C,T))},O.match=function(M,T,N){return _.match(M,T,x(C,N))},O},d.braceExpand=function(C,_){return S(C,_)};var S=function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E(C),_.nobrace||!/\{(?:(?!\{).)*\}/.test(C)?[C]:h(C)},E=function(C){if(typeof C!="string")throw new TypeError("invalid pattern");if(C.length>65536)throw new TypeError("pattern is too long")},k=Symbol("subparse");d.makeRe=function(C,_){return new A(C,_||{}).makeRe()},d.match=function(C,_){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=new A(_,O);return C=C.filter(function(T){return M.match(T)}),M.options.nonull&&!C.length&&C.push(_),C};var A=function(){function C(_,O){o(this,C),E(_),O||(O={}),this.options=O,this.set=[],this.pattern=_,this.windowsPathsNoEscape=!!O.windowsPathsNoEscape||O.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!O.partial,this.make()}return i(C,[{key:"debug",value:function(){}},{key:"make",value:function(){var _=this,O=this.pattern,M=this.options;if(M.nocomment||O.charAt(0)!=="#")if(O){this.parseNegate();var T=this.globSet=this.braceExpand();M.debug&&(this.debug=function(){var N;return(N=console).error.apply(N,arguments)}),this.debug(this.pattern,T),T=this.globParts=T.map(function(N){return N.split(w)}),this.debug(this.pattern,T),T=T.map(function(N,P,L){return N.map(_.parse,_)}),this.debug(this.pattern,T),T=T.filter(function(N){return N.indexOf(!1)===-1}),this.debug(this.pattern,T),this.set=T}else this.empty=!0;else this.comment=!0}},{key:"parseNegate",value:function(){if(!this.options.nonegate){for(var _=this.pattern,O=!1,M=0,T=0;T<_.length&&_.charAt(T)==="!";T++)O=!O,M++;M&&(this.pattern=_.substr(M)),this.negate=O}}},{key:"matchOne",value:function(_,O,M){var T=this.options;this.debug("matchOne",{this:this,file:_,pattern:O}),this.debug("matchOne",_.length,O.length);for(var N=0,P=0,L=_.length,z=O.length;N<L&&P<z;N++,P++){this.debug("matchOne loop");var j,B=O[P],I=_[N];if(this.debug(O,B,I),B===!1)return!1;if(B===f){this.debug("GLOBSTAR",[O,B,I]);var $=N,V=P+1;if(V===z){for(this.debug("** at the end");N<L;N++)if(_[N]==="."||_[N]===".."||!T.dot&&_[N].charAt(0)===".")return!1;return!0}for(;$<L;){var G=_[$];if(this.debug(`
globstar while`,_,$,O,V,G),this.matchOne(_.slice($),O.slice(V),M))return this.debug("globstar found match!",$,L,G),!0;if(G==="."||G===".."||!T.dot&&G.charAt(0)==="."){this.debug("dot detected!",_,$,O,V);break}this.debug("globstar swallow a segment, and continue"),$++}return!(!M||(this.debug(`
>>> no match, partial?`,_,$,O,V),$!==L))}if(typeof B=="string"?(j=I===B,this.debug("string match",B,I,j)):(j=I.match(B),this.debug("pattern match",B,I,j)),!j)return!1}if(N===L&&P===z)return!0;if(N===L)return M;if(P===z)return N===L-1&&_[N]==="";throw new Error("wtf?")}},{key:"braceExpand",value:function(){return S(this.pattern,this.options)}},{key:"parse",value:function(_,O){var M=this;E(_);var T=this.options;if(_==="**"){if(!T.noglobstar)return f;_="*"}if(_==="")return"";for(var N,P,L,z,j,B="",I=!!T.nocase,$=!1,V=[],G=[],K=!1,H=-1,W=-1,Y=_.charAt(0)==="."?"":T.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",J=function(){if(N){switch(N){case"*":B+=g,I=!0;break;case"?":B+=y,I=!0;break;default:B+="\\"+N}M.debug("clearStateChar %j %j",N,B),N=!1}},te=0;te<_.length&&(j=_.charAt(te));te++)if(this.debug("%s	%s %s %j",_,te,B,j),$){if(j==="/")return!1;p[j]&&(B+="\\"),B+=j,$=!1}else switch(j){case"/":return!1;case"\\":J(),$=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",_,te,B,j),K){this.debug("  in class"),j==="!"&&te===W+1&&(j="^"),B+=j;continue}this.debug("call clearStateChar %j",N),J(),N=j,T.noext&&J();continue;case"(":if(K){B+="(";continue}if(!N){B+="\\(";continue}V.push({type:N,start:te-1,reStart:B.length,open:m[N].open,close:m[N].close}),B+=N==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",N,B),N=!1;continue;case")":if(K||!V.length){B+="\\)";continue}J(),I=!0,L=V.pop(),B+=L.close,L.type==="!"&&G.push(L),L.reEnd=B.length;continue;case"|":if(K||!V.length){B+="\\|";continue}J(),B+="|";continue;case"[":if(J(),K){B+="\\"+j;continue}K=!0,W=te,H=B.length,B+=j;continue;case"]":if(te===W+1||!K){B+="\\"+j;continue}P=_.substring(W+1,te);try{RegExp("["+P+"]")}catch{z=this.parse(P,k),B=B.substr(0,H)+"\\["+z[0]+"\\]",I=I||z[1],K=!1;continue}I=!0,K=!1,B+=j;continue;default:J(),!p[j]||j==="^"&&K||(B+="\\"),B+=j}for(K&&(P=_.substr(W+1),z=this.parse(P,k),B=B.substr(0,H)+"\\["+z[0],I=I||z[1]),L=V.pop();L;L=V.pop()){var de=void 0;de=B.slice(L.reStart+L.open.length),this.debug("setting tail",B,L),de=de.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(_e,Oe,Ve){return Ve||(Ve="\\"),Oe+Oe+Ve+"|"}),this.debug(`tail=%j
   %s`,de,de,L,B);var be=L.type==="*"?g:L.type==="?"?y:"\\"+L.type;I=!0,B=B.slice(0,L.reStart)+be+"\\("+de}J(),$&&(B+="\\\\");for(var Ae=v[B.charAt(0)],Me=G.length-1;Me>-1;Me--){for(var Ie=G[Me],vt=B.slice(0,Ie.reStart),at=B.slice(Ie.reStart,Ie.reEnd-8),ee=B.slice(Ie.reEnd),ne=B.slice(Ie.reEnd-8,Ie.reEnd)+ee,he=vt.split("(").length-1,ue=ee,ie=0;ie<he;ie++)ue=ue.replace(/\)[+*?]?/,"");B=vt+at+(ee=ue)+(ee===""&&O!==k?"$":"")+ne}if(B!==""&&I&&(B="(?=.)"+B),Ae&&(B=Y+B),O===k)return[B,I];if(!I)return _.replace(/\\(.)/g,"$1");var Pe=T.nocase?"i":"";try{return Object.assign(new RegExp("^"+B+"$",Pe),{_glob:_,_src:B})}catch{return new RegExp("$.")}}},{key:"makeRe",value:function(){if(this.regexp||this.regexp===!1)return this.regexp;var _=this.set;if(!_.length)return this.regexp=!1,this.regexp;var O=this.options,M=O.noglobstar?g:O.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",T=O.nocase?"i":"",N=_.map(function(P){return P=P.map(function(L){return typeof L=="string"?L.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):L===f?f:L._src}).reduce(function(L,z){return L[L.length-1]===f&&z===f||L.push(z),L},[]),P.forEach(function(L,z){L===f&&P[z-1]!==f&&(z===0?P.length>1?P[z+1]="(?:\\/|"+M+"\\/)?"+P[z+1]:P[z]=M:z===P.length-1?P[z-1]+="(?:\\/|"+M+")?":(P[z-1]+="(?:\\/|\\/"+M+"\\/)"+P[z+1],P[z+1]=f))}),P.filter(function(L){return L!==f}).join("/")}).join("|");N="^(?:"+N+")$",this.negate&&(N="^(?!"+N+").*$");try{this.regexp=new RegExp(N,T)}catch{this.regexp=!1}return this.regexp}},{key:"match",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",_,this.pattern),this.comment)return!1;if(this.empty)return _==="";if(_==="/"&&O)return!0;var M=this.options;c.sep!=="/"&&(_=_.split(c.sep).join("/")),_=_.split(w),this.debug(this.pattern,"split",_);var T,N=this.set;this.debug(this.pattern,"set",N);for(var P=_.length-1;P>=0&&!(T=_[P]);P--);for(var L=0;L<N.length;L++){var z=N[L],j=_;M.matchBase&&z.length===1&&(j=[T]);var B=this.matchOne(j,z,O);if(B)return!!M.flipNegate||!this.negate}return!M.flipNegate&&this.negate}}],[{key:"defaults",value:function(_){return d.defaults(_).Minimatch}}]),C}();d.Minimatch=A},637:(t,e,n)=>{var r=n(584);t.exports=function(b){return b?(b.substr(0,2)==="{}"&&(b="\\{\\}"+b.substr(2)),g(function(p){return p.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(l)}(b),!0).map(d)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(b){return parseInt(b,10)==b?parseInt(b,10):b.charCodeAt(0)}function d(b){return b.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(l).join(".")}function c(b){if(!b)return[""];var p=[],v=r("{","}",b);if(!v)return b.split(",");var w=v.pre,x=v.body,S=v.post,E=w.split(",");E[E.length-1]+="{"+x+"}";var k=c(S);return S.length&&(E[E.length-1]+=k.shift(),E.push.apply(E,k)),p.push.apply(p,E),p}function f(b){return"{"+b+"}"}function h(b){return/^-?0\d/.test(b)}function m(b,p){return b<=p}function y(b,p){return b>=p}function g(b,p){var v=[],w=r("{","}",b);if(!w)return[b];var x=w.pre,S=w.post.length?g(w.post,!1):[""];if(/\$$/.test(w.pre))for(var E=0;E<S.length;E++){var k=x+"{"+w.body+"}"+S[E];v.push(k)}else{var A,C,_=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),O=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),M=_||O,T=w.body.indexOf(",")>=0;if(!M&&!T)return w.post.match(/,.*\}/)?g(b=w.pre+"{"+w.body+s+w.post):[b];if(M)A=w.body.split(/\.\./);else if((A=c(w.body)).length===1&&(A=g(A[0],!1).map(f)).length===1)return S.map(function(H){return w.pre+A[0]+H});if(M){var N=u(A[0]),P=u(A[1]),L=Math.max(A[0].length,A[1].length),z=A.length==3?Math.abs(u(A[2])):1,j=m;P<N&&(z*=-1,j=y);var B=A.some(h);C=[];for(var I=N;j(I,P);I+=z){var $;if(O)($=String.fromCharCode(I))==="\\"&&($="");else if($=String(I),B){var V=L-$.length;if(V>0){var G=new Array(V+1).join("0");$=I<0?"-"+G+$.slice(1):G+$}}C.push($)}}else{C=[];for(var K=0;K<A.length;K++)C.push.apply(C,g(A[K],!1))}for(K=0;K<C.length;K++)for(E=0;E<S.length;E++)k=x+C[K]+S[E],(!p||M||k)&&v.push(k)}return v}},421:t=>{function e(c){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(c)}function n(c){var f=typeof Map=="function"?new Map:void 0;return n=function(h){if(h===null||(m=h,Function.toString.call(m).indexOf("[native code]")===-1))return h;var m;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(h))return f.get(h);f.set(h,y)}function y(){return r(h,arguments,s(this).constructor)}return y.prototype=Object.create(h.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),o(y,h)},n(c)}function r(c,f,h){return r=i()?Reflect.construct:function(m,y,g){var b=[null];b.push.apply(b,y);var p=new(Function.bind.apply(m,b));return g&&o(p,g.prototype),p},r.apply(null,arguments)}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function o(c,f){return o=Object.setPrototypeOf||function(h,m){return h.__proto__=m,h},o(c,f)}function s(c){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},s(c)}var a=".",l=function(c){function f(h){var m;return function(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f),(m=function(y,g){return!g||e(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):g}(this,s(f).call(this,h))).name="ObjectPrototypeMutationError",m}return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),m&&o(h,m)}(f,c),f}(n(Error));function u(c,f){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},m=f.split(a),y=m.length,g=function(v){var w=m[v];if(!c)return{v:void 0};if(w==="+"){if(Array.isArray(c))return{v:c.map(function(S,E){var k=m.slice(v+1);return k.length>0?u(S,k.join(a),h):h(c,E,m,v)})};var x=m.slice(0,v).join(a);throw new Error("Object at wildcard (".concat(x,") is not an array"))}c=h(c,w,m,v)},b=0;b<y;b++){var p=g(b);if(e(p)==="object")return p.v}return c}function d(c,f){return c.length===f+1}t.exports={set:function(c,f,h){if(e(c)!="object"||c===null||f===void 0)return c;if(typeof f=="number")return c[f]=h,c[f];try{return u(c,f,function(m,y,g,b){if(m===Reflect.getPrototypeOf({}))throw new l("Attempting to mutate Object.prototype");if(!m[y]){var p=Number.isInteger(Number(g[b+1])),v=g[b+1]==="+";m[y]=p||v?[]:{}}return d(g,b)&&(m[y]=h),m[y]})}catch(m){if(m instanceof l)throw m;return c}},get:function(c,f){if(e(c)!="object"||c===null||f===void 0)return c;if(typeof f=="number")return c[f];try{return u(c,f,function(h,m){return h[m]})}catch{return c}},has:function(c,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(c)!="object"||c===null||f===void 0)return!1;if(typeof f=="number")return f in c;try{var m=!1;return u(c,f,function(y,g,b,p){if(!d(b,p))return y&&y[g];m=h.own?y.hasOwnProperty(g):g in y}),m}catch{return!1}},hasOwn:function(c,f,h){return this.has(c,f,h||{own:!0})},isIn:function(c,f,h){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(c)!="object"||c===null||f===void 0)return!1;try{var y=!1,g=!1;return u(c,f,function(b,p,v,w){return y=y||b===h||!!b&&b[p]===h,g=d(v,w)&&e(b)==="object"&&p in b,b&&b[p]}),m.validPath?y&&g:y}catch{return!1}},ObjectPrototypeMutationError:l}},441:(t,e,n)=>{function r(d){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},r(d)}var i=n(930),o=function(d){return typeof d=="string"};function s(d,c){for(var f=[],h=0;h<d.length;h++){var m=d[h];m&&m!=="."&&(m===".."?f.length&&f[f.length-1]!==".."?f.pop():c&&f.push(".."):f.push(m))}return f}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};function u(d){return a.exec(d).slice(1)}l.resolve=function(){for(var d="",c=!1,f=arguments.length-1;f>=-1&&!c;f--){var h=f>=0?arguments[f]:process.cwd();if(!o(h))throw new TypeError("Arguments to path.resolve must be strings");h&&(d=h+"/"+d,c=h.charAt(0)==="/")}return(c?"/":"")+(d=s(d.split("/"),!c).join("/"))||"."},l.normalize=function(d){var c=l.isAbsolute(d),f=d.substr(-1)==="/";return(d=s(d.split("/"),!c).join("/"))||c||(d="."),d&&f&&(d+="/"),(c?"/":"")+d},l.isAbsolute=function(d){return d.charAt(0)==="/"},l.join=function(){for(var d="",c=0;c<arguments.length;c++){var f=arguments[c];if(!o(f))throw new TypeError("Arguments to path.join must be strings");f&&(d+=d?"/"+f:f)}return l.normalize(d)},l.relative=function(d,c){function f(v){for(var w=0;w<v.length&&v[w]==="";w++);for(var x=v.length-1;x>=0&&v[x]==="";x--);return w>x?[]:v.slice(w,x+1)}d=l.resolve(d).substr(1),c=l.resolve(c).substr(1);for(var h=f(d.split("/")),m=f(c.split("/")),y=Math.min(h.length,m.length),g=y,b=0;b<y;b++)if(h[b]!==m[b]){g=b;break}var p=[];for(b=g;b<h.length;b++)p.push("..");return(p=p.concat(m.slice(g))).join("/")},l._makeLong=function(d){return d},l.dirname=function(d){var c=u(d),f=c[0],h=c[1];return f||h?(h&&(h=h.substr(0,h.length-1)),f+h):"."},l.basename=function(d,c){var f=u(d)[2];return c&&f.substr(-1*c.length)===c&&(f=f.substr(0,f.length-c.length)),f},l.extname=function(d){return u(d)[3]},l.format=function(d){if(!i.isObject(d))throw new TypeError("Parameter 'pathObject' must be an object, not "+r(d));var c=d.root||"";if(!o(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+r(d.root));return(d.dir?d.dir+l.sep:"")+(d.base||"")},l.parse=function(d){if(!o(d))throw new TypeError("Parameter 'pathString' must be a string, not "+r(d));var c=u(d);if(!c||c.length!==4)throw new TypeError("Invalid path '"+d+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,c[1].length-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},l.sep="/",l.delimiter=":",t.exports=l},361:(t,e)=>{var n=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function i(o){try{return encodeURIComponent(o)}catch{return null}}e.stringify=function(o,s){s=s||"";var a,l,u=[];for(l in typeof s!="string"&&(s="?"),o)if(n.call(o,l)){if((a=o[l])||a!=null&&!isNaN(a)||(a=""),l=i(l),a=i(a),l===null||a===null)continue;u.push(l+"="+a)}return u.length?s+u.join("&"):""},e.parse=function(o){for(var s,a=/([^=?#&]+)=?([^&]*)/g,l={};s=a.exec(o);){var u=r(s[1]),d=r(s[2]);u===null||d===null||u in l||(l[u]=d)}return l}},620:t=>{t.exports=function(e,n){if(n=n.split(":")[0],!(e=+e))return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},512:t=>{var e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function i(o){return o&&o.indexOf(".")!==-1&&((o=o.replace(/0+$/,""))==="."?o="0":o[0]==="."?o="0"+o:o[o.length-1]==="."&&(o=o.substr(0,o.length-1))),o}t.exports=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s=Object.assign({},r,s),!o||typeof o!="string")return o;var a=o.trim();if(s.skipLike!==void 0&&s.skipLike.test(a))return o;if(s.hex&&e.test(a))return Number.parseInt(a,16);var l=n.exec(a);if(l){var u=l[1],d=l[2],c=i(l[3]),f=l[4]||l[6];if(!s.leadingZeros&&d.length>0&&u&&a[2]!=="."||!s.leadingZeros&&d.length>0&&!u&&a[1]!==".")return o;var h=Number(a),m=""+h;return m.search(/[eE]/)!==-1||f?s.eNotation?h:o:a.indexOf(".")!==-1?m==="0"&&c===""||m===c||u&&m==="-"+c?h:o:d?c===m||u+c===m?h:o:a===m||a===u+m?h:o}return o}},842:function(t,e,n){var r,i,o;function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o=function(){function a(l){var u=[];if(l.length===0)return"";if(typeof l[0]!="string")throw new TypeError("Url must be a string. Received "+l[0]);if(l[0].match(/^[^/:]+:\/*$/)&&l.length>1){var d=l.shift();l[0]=d+l[0]}l[0].match(/^file:\/\/\//)?l[0]=l[0].replace(/^([^/:]+):\/*/,"$1:///"):l[0]=l[0].replace(/^([^/:]+):\/*/,"$1://");for(var c=0;c<l.length;c++){var f=l[c];if(typeof f!="string")throw new TypeError("Url must be a string. Received "+f);f!==""&&(c>0&&(f=f.replace(/^[\/]+/,"")),f=c<l.length-1?f.replace(/[\/]+$/,""):f.replace(/[\/]+$/,"/"),u.push(f))}var h=u.join("/"),m=(h=h.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return m.shift()+(m.length>0?"?":"")+m.join("&")}return function(){return a(s(arguments[0])==="object"?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=o():(i=typeof(r=o)=="function"?r.call(e,n,e,t):r)===void 0||(t.exports=i)},95:(t,e,n)=>{function r(v){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(v)}var i=n(620),o=n(361),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(v){return(v||"").toString().replace(s,"")}var h=[["#","hash"],["?","query"],function(v,w){return g(w.protocol)?v.replace(/\\/g,"/"):v},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function y(v){var w,x=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},S={},E=r(v=v||x);if(v.protocol==="blob:")S=new p(unescape(v.pathname),{});else if(E==="string")for(w in S=new p(v,{}),m)delete S[w];else if(E==="object"){for(w in v)w in m||(S[w]=v[w]);S.slashes===void 0&&(S.slashes=l.test(v.href))}return S}function g(v){return v==="file:"||v==="ftp:"||v==="http:"||v==="https:"||v==="ws:"||v==="wss:"}function b(v,w){v=(v=f(v)).replace(a,""),w=w||{};var x,S=d.exec(v),E=S[1]?S[1].toLowerCase():"",k=!!S[2],A=!!S[3],C=0;return k?A?(x=S[2]+S[3]+S[4],C=S[2].length+S[3].length):(x=S[2]+S[4],C=S[2].length):A?(x=S[3]+S[4],C=S[3].length):x=S[4],E==="file:"?C>=2&&(x=x.slice(2)):g(E)?x=S[4]:E?k&&(x=x.slice(2)):C>=2&&g(w.protocol)&&(x=S[4]),{protocol:E,slashes:k||g(E),slashesCount:C,rest:x}}function p(v,w,x){if(v=(v=f(v)).replace(a,""),!(this instanceof p))return new p(v,w,x);var S,E,k,A,C,_,O=h.slice(),M=r(w),T=this,N=0;for(M!=="object"&&M!=="string"&&(x=w,w=null),x&&typeof x!="function"&&(x=o.parse),S=!(E=b(v||"",w=y(w))).protocol&&!E.slashes,T.slashes=E.slashes||S&&w.slashes,T.protocol=E.protocol||w.protocol||"",v=E.rest,(E.protocol==="file:"&&(E.slashesCount!==2||c.test(v))||!E.slashes&&(E.protocol||E.slashesCount<2||!g(T.protocol)))&&(O[3]=[/(.*)/,"pathname"]);N<O.length;N++)typeof(A=O[N])!="function"?(k=A[0],_=A[1],k!=k?T[_]=v:typeof k=="string"?~(C=k==="@"?v.lastIndexOf(k):v.indexOf(k))&&(typeof A[2]=="number"?(T[_]=v.slice(0,C),v=v.slice(C+A[2])):(T[_]=v.slice(C),v=v.slice(0,C))):(C=k.exec(v))&&(T[_]=C[1],v=v.slice(0,C.index)),T[_]=T[_]||S&&A[3]&&w[_]||"",A[4]&&(T[_]=T[_].toLowerCase())):v=A(v,T);x&&(T.query=x(T.query)),S&&w.slashes&&T.pathname.charAt(0)!=="/"&&(T.pathname!==""||w.pathname!=="")&&(T.pathname=function(P,L){if(P==="")return L;for(var z=(L||"/").split("/").slice(0,-1).concat(P.split("/")),j=z.length,B=z[j-1],I=!1,$=0;j--;)z[j]==="."?z.splice(j,1):z[j]===".."?(z.splice(j,1),$++):$&&(j===0&&(I=!0),z.splice(j,1),$--);return I&&z.unshift(""),B!=="."&&B!==".."||z.push(""),z.join("/")}(T.pathname,w.pathname)),T.pathname.charAt(0)!=="/"&&g(T.protocol)&&(T.pathname="/"+T.pathname),i(T.port,T.protocol)||(T.host=T.hostname,T.port=""),T.username=T.password="",T.auth&&(~(C=T.auth.indexOf(":"))?(T.username=T.auth.slice(0,C),T.username=encodeURIComponent(decodeURIComponent(T.username)),T.password=T.auth.slice(C+1),T.password=encodeURIComponent(decodeURIComponent(T.password))):T.username=encodeURIComponent(decodeURIComponent(T.auth)),T.auth=T.password?T.username+":"+T.password:T.username),T.origin=T.protocol!=="file:"&&g(T.protocol)&&T.host?T.protocol+"//"+T.host:"null",T.href=T.toString()}p.prototype={set:function(v,w,x){var S=this;switch(v){case"query":typeof w=="string"&&w.length&&(w=(x||o.parse)(w)),S[v]=w;break;case"port":S[v]=w,i(w,S.protocol)?w&&(S.host=S.hostname+":"+w):(S.host=S.hostname,S[v]="");break;case"hostname":S[v]=w,S.port&&(w+=":"+S.port),S.host=w;break;case"host":S[v]=w,u.test(w)?(w=w.split(":"),S.port=w.pop(),S.hostname=w.join(":")):(S.hostname=w,S.port="");break;case"protocol":S.protocol=w.toLowerCase(),S.slashes=!x;break;case"pathname":case"hash":if(w){var E=v==="pathname"?"/":"#";S[v]=w.charAt(0)!==E?E+w:w}else S[v]=w;break;case"username":case"password":S[v]=encodeURIComponent(w);break;case"auth":var k=w.indexOf(":");~k?(S.username=w.slice(0,k),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=w.slice(k+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(w))}for(var A=0;A<h.length;A++){var C=h[A];C[4]&&(S[C[1]]=S[C[1]].toLowerCase())}return S.auth=S.password?S.username+":"+S.password:S.username,S.origin=S.protocol!=="file:"&&g(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString(),S},toString:function(v){v&&typeof v=="function"||(v=o.stringify);var w,x=this,S=x.host,E=x.protocol;E&&E.charAt(E.length-1)!==":"&&(E+=":");var k=E+(x.protocol&&x.slashes||g(x.protocol)?"//":"");return x.username?(k+=x.username,x.password&&(k+=":"+x.password),k+="@"):x.password?(k+=":"+x.password,k+="@"):x.protocol!=="file:"&&g(x.protocol)&&!S&&x.pathname!=="/"&&(k+="@"),(S[S.length-1]===":"||u.test(x.hostname)&&!x.port)&&(S+=":"),k+=S+x.pathname,(w=r(x.query)==="object"?v(x.query):x.query)&&(k+=w.charAt(0)!=="?"?"?"+w:w),x.hash&&(k+=x.hash),k}},p.extractProtocol=b,p.location=y,p.trimLeft=f,p.qs=o,t.exports=p},930:()=>{},227:()=>{},347:()=>{},724:()=>{}},ox={};function We(t){var e=ox[t];if(e!==void 0)return e.exports;var n=ox[t]={id:t,loaded:!1,exports:{}};return Nj[t].call(n.exports,n,n.exports,We),n.loaded=!0,n.exports}We.amdO={},We.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return We.d(e,{a:e}),e},We.d=(t,e)=>{for(var n in e)We.o(e,n)&&!We.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},We.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),We.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var vi={};(()=>{We.d(vi,{Gr:()=>E,jK:()=>k,cf:()=>_,HM:()=>O,eI:()=>F_,lD:()=>$,yY:()=>V0,sw:()=>qu});var t=We(95),e=We.n(t),n=We(104),r=We(842),i=We.n(r),o=We(441),s=We.n(o),a="__PATH_SEPARATOR_POSIX__",l="__PATH_SEPARATOR_WINDOWS__";function u(R){try{var D=R.replace(/\//g,a).replace(/\\\\/g,l);return encodeURIComponent(D).split(l).join("\\\\").split(a).join("/")}catch(F){throw new n.Layerr(F,"Failed encoding path")}}function d(R){if(!R||R==="/")return[];var D=R,F=[];do F.push(D),D=s().dirname(D);while(D&&D!=="/");return F}function c(R){var D=R;return D[0]!=="/"&&(D="/"+D),/^.+\/$/.test(D)&&(D=D.substr(0,D.length-1)),D}function f(R){var D=new(e())(R).pathname;return D.length<=0&&(D="/"),c(D)}function h(){for(var R=arguments.length,D=new Array(R),F=0;F<R;F++)D[F]=arguments[F];return i()(D.reduce(function(q,Q,Z){return(Z===0||Q!=="/"||Q==="/"&&q[q.length-1]!=="/")&&q.push(Q),q},[]))}function m(R){try{return R.replace(/^https?:\/\/[^\/]+/,"")}catch(D){throw new n.Layerr(D,"Failed normalising HREF")}}var y=We(243),g=We.n(y),b="abcdef0123456789";function p(R,D){var F=R.url.replace("//",""),q=F.indexOf("/")==-1?"/":F.slice(F.indexOf("/")),Q=R.method?R.method.toUpperCase():"GET",Z=!!/(^|,)\s*auth\s*($|,)/.test(D.qop)&&"auth",X="00000000".concat(D.nc).slice(-8),re=function(xe,At,dt,Xe,Ee,qe,On){var n1=On||g()("".concat(At,":").concat(dt,":").concat(Xe));return xe&&xe.toLowerCase()==="md5-sess"?g()("".concat(n1,":").concat(Ee,":").concat(qe)):n1}(D.algorithm,D.username,D.realm,D.password,D.nonce,D.cnonce,D.ha1),le=g()("".concat(Q,":").concat(q)),Fe=Z?g()("".concat(re,":").concat(D.nonce,":").concat(X,":").concat(D.cnonce,":").concat(Z,":").concat(le)):g()("".concat(re,":").concat(D.nonce,":").concat(le)),Re={username:D.username,realm:D.realm,nonce:D.nonce,uri:q,qop:Z,response:Fe,nc:X,cnonce:D.cnonce,algorithm:D.algorithm,opaque:D.opaque},pe=[];for(var Te in Re)Re[Te]&&(Te==="qop"||Te==="nc"||Te==="algorithm"?pe.push("".concat(Te,"=").concat(Re[Te])):pe.push("".concat(Te,'="').concat(Re[Te],'"')));return"Digest ".concat(pe.join(", "))}var v=We(146),w=We.n(v);function x(R){var D=document.createElement("textarea");return D.innerHTML=R,D.value}function S(R){return w().decode(R)}var E,k,A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,C=A.fetch,_=A.Request,O=A.Response;function M(R,D,F,q,Q){switch(R.authType){case E.Digest:R.digest=function(X,re,le){return{username:X,password:re,ha1:le,nc:0,algorithm:"md5",hasDigestAuth:!1}}(D,F,Q);break;case E.None:break;case E.Password:R.headers.Authorization=function(X,re){var le,Fe=(le="".concat(X,":").concat(re),w().encode(le));return"Basic ".concat(Fe)}(D,F);break;case E.Token:R.headers.Authorization="".concat((Z=q).token_type," ").concat(Z.access_token);break;default:throw new n.Layerr({info:{code:k.InvalidAuthType}},"Invalid auth type: ".concat(R.authType))}var Z}function T(){for(var R=arguments.length,D=new Array(R),F=0;F<R;F++)D[F]=arguments[F];if(D.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var q=arguments.length,Q=new Array(q),Z=0;Z<q;Z++)Q[Z]=arguments[Z];for(var X=Q,re=this;D.length>0;){var le=D.shift();X=[le.apply(re,X)]}return X[0]}}function N(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function P(R,D){for(var F=0;F<D.length;F++){var q=D[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}(function(R){R.Digest="digest",R.None="none",R.Password="password",R.Token="token"})(E||(E={})),function(R){R.DataTypeNoLength="data-type-no-length",R.InvalidAuthType="invalid-auth-type",R.InvalidOutputFormat="invalid-output-format",R.LinkUnsupportedAuthType="link-unsupported-auth"}(k||(k={})),We(724);var L="@@HOTPATCHER",z=function(){};function j(R){return{original:R,methods:[R],final:!1}}var B=function(){function R(){(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,R),this._configuration={registry:{},getEmptyAction:"null"},this.__type__=L}var D,F;return D=R,F=[{key:"configuration",get:function(){return this._configuration}},{key:"getEmptyAction",get:function(){return this.configuration.getEmptyAction},set:function(q){this.configuration.getEmptyAction=q}},{key:"control",value:function(q){var Q=this,Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!q||q.__type__!==L)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(q.configuration.registry).forEach(function(X){Q.configuration.registry.hasOwnProperty(X)?Z&&(Q.configuration.registry[X]=Object.assign({},q.configuration.registry[X])):Q.configuration.registry[X]=Object.assign({},q.configuration.registry[X])}),q._configuration=this.configuration,this}},{key:"execute",value:function(q){for(var Q=this.get(q)||z,Z=arguments.length,X=new Array(Z>1?Z-1:0),re=1;re<Z;re++)X[re-1]=arguments[re];return Q.apply(void 0,X)}},{key:"get",value:function(q){var Q,Z=this.configuration.registry[q];if(!Z)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(q));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return T.apply(void 0,function(X){if(Array.isArray(X))return N(X)}(Q=Z.methods)||function(X){if(typeof Symbol<"u"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}(Q)||function(X,re){if(X){if(typeof X=="string")return N(X,re);var le=Object.prototype.toString.call(X).slice(8,-1);return le==="Object"&&X.constructor&&(le=X.constructor.name),le==="Map"||le==="Set"?Array.from(X):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?N(X,re):void 0}}(Q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}},{key:"isPatched",value:function(q){return!!this.configuration.registry[q]}},{key:"patch",value:function(q,Q){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=Z.chain,re=X!==void 0&&X;if(this.configuration.registry[q]&&this.configuration.registry[q].final)throw new Error("Failed patching '".concat(q,"': Method marked as being final"));if(typeof Q!="function")throw new Error("Failed patching '".concat(q,"': Provided method is not a function"));if(re)this.configuration.registry[q]?this.configuration.registry[q].methods.push(Q):this.configuration.registry[q]=j(Q);else if(this.isPatched(q)){var le=this.configuration.registry[q].original;this.configuration.registry[q]=Object.assign(j(Q),{original:le})}else this.configuration.registry[q]=j(Q);return this}},{key:"patchInline",value:function(q,Q){this.isPatched(q)||this.patch(q,Q);for(var Z=arguments.length,X=new Array(Z>2?Z-2:0),re=2;re<Z;re++)X[re-2]=arguments[re];return this.execute.apply(this,[q].concat(X))}},{key:"plugin",value:function(q){for(var Q=this,Z=arguments.length,X=new Array(Z>1?Z-1:0),re=1;re<Z;re++)X[re-1]=arguments[re];return X.forEach(function(le){Q.patch(q,le,{chain:!0})}),this}},{key:"restore",value:function(q){if(!this.isPatched(q))throw new Error("Failed restoring method: No method present for key: ".concat(q));if(typeof this.configuration.registry[q].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(q));return this.configuration.registry[q].methods=[this.configuration.registry[q].original],this}},{key:"setFinal",value:function(q){if(!this.configuration.registry.hasOwnProperty(q))throw new Error("Failed marking '".concat(q,"' as final: No method found for key"));return this.configuration.registry[q].final=!0,this}}],F&&P(D.prototype,F),Object.defineProperty(D,"prototype",{writable:!1}),R}(),I=null;function $(){return I||(I=new B),I}function V(R){return function(D){if(Array.isArray(D))return G(D)}(R)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}(R)||function(D,F){if(D){if(typeof D=="string")return G(D,F);var q=Object.prototype.toString.call(D).slice(8,-1);return q==="Object"&&D.constructor&&(q=D.constructor.name),q==="Map"||q==="Set"?Array.from(D):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?G(D,F):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function K(R){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},K(R)}function H(R){return function(D){if(K(D)!=="object"||D===null||Object.prototype.toString.call(D)!="[object Object]")return!1;if(Object.getPrototypeOf(D)===null)return!0;for(var F=D;Object.getPrototypeOf(F)!==null;)F=Object.getPrototypeOf(F);return Object.getPrototypeOf(D)===F}(R)?Object.assign({},R):Object.setPrototypeOf(Object.assign({},R),Object.getPrototypeOf(R))}function W(){for(var R=arguments.length,D=new Array(R),F=0;F<R;F++)D[F]=arguments[F];for(var q=null,Q=[].concat(D);Q.length>0;){var Z=Q.shift();q=q?Y(q,Z):H(Z)}return q}function Y(R,D){var F=H(R);return Object.keys(D).forEach(function(q){F.hasOwnProperty(q)?Array.isArray(D[q])?F[q]=Array.isArray(F[q])?[].concat(V(F[q]),V(D[q])):V(D[q]):K(D[q])==="object"&&D[q]?F[q]=K(F[q])==="object"&&F[q]?Y(F[q],D[q]):H(D[q]):F[q]=D[q]:F[q]=D[q]}),F}function J(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function te(R){var D,F={},q=function(Z,X){var re=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!re){if(Array.isArray(Z)||(re=function(xe,At){if(xe){if(typeof xe=="string")return J(xe,At);var dt=Object.prototype.toString.call(xe).slice(8,-1);return dt==="Object"&&xe.constructor&&(dt=xe.constructor.name),dt==="Map"||dt==="Set"?Array.from(xe):dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt)?J(xe,At):void 0}}(Z))||X&&Z&&typeof Z.length=="number"){re&&(Z=re);var le=0,Fe=function(){};return{s:Fe,n:function(){return le>=Z.length?{done:!0}:{done:!1,value:Z[le++]}},e:function(xe){throw xe},f:Fe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Re,pe=!0,Te=!1;return{s:function(){re=re.call(Z)},n:function(){var xe=re.next();return pe=xe.done,xe},e:function(xe){Te=!0,Re=xe},f:function(){try{pe||re.return==null||re.return()}finally{if(Te)throw Re}}}}(R.keys());try{for(q.s();!(D=q.n()).done;){var Q=D.value;F[Q]=R.get(Q)}}catch(Z){q.e(Z)}finally{q.f()}return F}function de(){for(var R=arguments.length,D=new Array(R),F=0;F<R;F++)D[F]=arguments[F];if(D.length===0)return{};var q={};return D.reduce(function(Q,Z){return Object.keys(Z).forEach(function(X){var re=X.toLowerCase();q.hasOwnProperty(re)?Q[q[re]]=Z[X]:(q[re]=X,Q[X]=Z[X])}),Q},{})}We(347);var be=typeof ArrayBuffer=="function",Ae=Object.prototype.toString;function Me(R){return be&&(R instanceof ArrayBuffer||Ae.call(R)==="[object ArrayBuffer]")}function Ie(R){return R!=null&&R.constructor!=null&&typeof R.constructor.isBuffer=="function"&&R.constructor.isBuffer(R)}function vt(R){return vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},vt(R)}function at(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}function ee(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function ne(R){var D=$();return D.patchInline("request",function(F){return D.patchInline("fetch",C,F.url,function(q){var Q,Z,X={},re={method:q.method};if(q.headers&&(X=de(X,q.headers)),q.data!==void 0){var le=(Q=function(pe){if(typeof pe=="string")return[pe,{}];if(Ie(pe))return[pe,{}];if(Me(pe))return[pe,{}];if(pe&&vt(pe)==="object")return[JSON.stringify(pe),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(vt(pe)))}(q.data),Z=2,function(pe){if(Array.isArray(pe))return pe}(Q)||function(pe,Te){var xe=pe==null?null:typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(xe!=null){var At,dt,Xe=[],Ee=!0,qe=!1;try{for(xe=xe.call(pe);!(Ee=(At=xe.next()).done)&&(Xe.push(At.value),!Te||Xe.length!==Te);Ee=!0);}catch(On){qe=!0,dt=On}finally{try{Ee||xe.return==null||xe.return()}finally{if(qe)throw dt}}return Xe}}(Q,Z)||function(pe,Te){if(pe){if(typeof pe=="string")return ee(pe,Te);var xe=Object.prototype.toString.call(pe).slice(8,-1);return xe==="Object"&&pe.constructor&&(xe=pe.constructor.name),xe==="Map"||xe==="Set"?Array.from(pe):xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe)?ee(pe,Te):void 0}}(Q,Z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),Fe=le[0],Re=le[1];re.body=Fe,X=de(X,Re)}return q.signal&&(re.signal=q.signal),q.withCredentials&&(re.credentials="include"),re.headers=X,re}(F))},R)}var he,ue=(he=function(R){if(!R._digest)return ne(R);var D=R._digest;return delete R._digest,D.hasDigestAuth&&(R=W(R,{headers:{Authorization:p(R,D)}})),at(ne(R),function(F){var q,Q,Z=!1;return q=function(X){return Z?X:F},(Q=function(){if(F.status==401)return D.hasDigestAuth=function(X,re){var le=X.headers&&X.headers.get("www-authenticate")||"";if(le.split(/\s/)[0].toLowerCase()!=="digest")return!1;for(var Fe=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var Re=Fe.exec(le);if(!Re)break;re[Re[1]]=Re[2]||Re[3]}return re.nc+=1,re.cnonce=function(){for(var pe="",Te=0;Te<32;++Te)pe="".concat(pe).concat(b[Math.floor(Math.random()*b.length)]);return pe}(),!0}(F,D),function(){if(D.hasDigestAuth)return at(ne(R=W(R,{headers:{Authorization:p(R,D)}})),function(X){return X.status==401?D.hasDigestAuth=!1:D.nc++,Z=!0,X})}();D.nc++}())&&Q.then?Q.then(q):q(Q)})},function(){for(var R=[],D=0;D<arguments.length;D++)R[D]=arguments[D];try{return Promise.resolve(he.apply(this,R))}catch(F){return Promise.reject(F)}});function ie(R,D,F){var q=H(R);return q.headers=de(D.headers,q.headers||{},F.headers||{}),F.data!==void 0&&(q.data=F.data),F.signal&&(q.signal=F.signal),D.httpAgent&&(q.httpAgent=D.httpAgent),D.httpsAgent&&(q.httpsAgent=D.httpsAgent),D.digest&&(q._digest=D.digest),typeof D.withCredentials=="boolean"&&(q.withCredentials=D.withCredentials),q}var Pe=We(0),_e=We.n(Pe);function Oe(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",F=new Error("".concat(D,"Invalid response: ").concat(R.status," ").concat(R.statusText));return F.status=R.status,F.response=R,F}function Ve(R,D){var F=D.status;if(F===401&&R.digest)return D;if(F>=400)throw Oe(D);return D}function or(R,D){return R.filter(function(F){return _e()(F.filename,D,{matchBase:!0})})}function Je(R,D){var F=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F?{data:D,headers:R.headers?te(R.headers):{},status:R.status,statusText:R.statusText}:D}function Rh(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var Ze,Cr=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D,F){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=ie({url:h(R.remoteURL,u(D)),method:"COPY",headers:{Destination:h(R.remoteURL,u(F))}},R,q);return Rh(ue(Q),function(Z){Ve(R,Z)})}),Lh=We(819),WO=We(421),wi=We.n(WO);function KO(R,D){return function(F){if(Array.isArray(F))return F}(R)||function(F,q){var Q=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(Q!=null){var Z,X,re=[],le=!0,Fe=!1;try{for(Q=Q.call(F);!(le=(Z=Q.next()).done)&&(re.push(Z.value),!q||re.length!==q);le=!0);}catch(Re){Fe=!0,X=Re}finally{try{le||Q.return==null||Q.return()}finally{if(Fe)throw X}}return re}}(R,D)||function(F,q){if(F){if(typeof F=="string")return q0(F,q);var Q=Object.prototype.toString.call(F).slice(8,-1);return Q==="Object"&&F.constructor&&(Q=F.constructor.name),Q==="Map"||Q==="Set"?Array.from(F):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?q0(F,q):void 0}}(R,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q0(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function Dh(R){return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Dh(R)}function Ih(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ze.Original,q=wi().get(R,D);return F==="array"&&Array.isArray(q)===!1?[q]:F==="object"&&Array.isArray(q)?q[0]:q}function qu(R){return new Promise(function(D){D(function(F){var q=F.multistatus;if(q==="")return{multistatus:{response:[]}};if(!q)throw new Error("Invalid response: No root multistatus found");var Q={multistatus:Array.isArray(q)?q[0]:q};return wi().set(Q,"multistatus.response",Ih(Q,"multistatus.response",Ze.Array)),wi().set(Q,"multistatus.response",wi().get(Q,"multistatus.response").map(function(Z){return function(X){var re=Object.assign({},X);return wi().set(re,"propstat",Ih(re,"propstat",Ze.Object)),wi().set(re,"propstat.prop",Ih(re,"propstat.prop",Ze.Object)),re}(Z)})),Q}(Lh.parse(R,{arrayMode:!1,ignoreNameSpace:!0})))})}function H0(R,D){var F=arguments.length>2&&arguments[2]!==void 0&&arguments[2],q=R.getlastmodified,Q=q===void 0?null:q,Z=R.getcontentlength,X=Z===void 0?"0":Z,re=R.resourcetype,le=re===void 0?null:re,Fe=R.getcontenttype,Re=Fe===void 0?null:Fe,pe=R.getetag,Te=pe===void 0?null:pe,xe=le&&Dh(le)==="object"&&le.collection!==void 0?"directory":"file",At=x(D),dt={filename:At,basename:s().basename(At),lastmod:Q,size:parseInt(X,10),type:xe,etag:typeof Te=="string"?Te.replace(/"/g,""):null};return xe==="file"&&(dt.mime=Re&&typeof Re=="string"?Re.split(";")[0]:""),F&&(dt.props=R),dt}function V0(R,D){var F=arguments.length>2&&arguments[2]!==void 0&&arguments[2],q=null;try{q=R.multistatus.response[0]}catch{}if(!q)throw new Error("Failed getting item stat: bad response");var Q=q,Z=Q.propstat,X=Z.prop,re=Z.status,le=re.split(" ",3),Fe=KO(le,3),Re=(Fe[0],Fe[1]),pe=Fe[2],Te=parseInt(Re,10);if(Te>=400){var xe=new Error("Invalid response: ".concat(Te," ").concat(pe));throw xe.status=Te,xe}var At=c(D);return H0(X,At,F)}function GO(R){switch(R.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(R,10)}}function Bh(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}(function(R){R.Array="array",R.Object="object",R.Original="original"})(Ze||(Ze={}));var Fh=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=F.details,Q=q!==void 0&&q,Z=ie({url:h(R.remoteURL,u(D)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},R,F);return Bh(ue(Z),function(X){return Ve(R,X),Bh(X.text(),function(re){return Bh(qu(re),function(le){var Fe=V0(le,D,Q);return Je(X,Fe,Q)})})})});function U0(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}function W0(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}function JO(){}function K0(R,D){if(!D)return R&&R.then?R.then(JO):Promise.resolve()}function QO(R,D){try{var F=R()}catch(q){return D(q)}return F&&F.then?F.then(void 0,D):F}function YO(R,D){var F=R();return F&&F.then?F.then(D):D(F)}var G0=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function rn(R,D,F){if(!R.s){if(F instanceof ps){if(!F.s)return void(F.o=rn.bind(null,R,D));1&D&&(D=F.s),F=F.v}if(F&&F.then)return void F.then(rn.bind(null,R,D),rn.bind(null,R,2));R.s=D,R.v=F;var q=R.o;q&&q(R)}}var ps=function(){function R(){}return R.prototype.then=function(D,F){var q=new R,Q=this.s;if(Q){var Z=1&Q?D:F;if(Z){try{rn(q,1,Z(this.v))}catch(X){rn(q,2,X)}return q}return this}return this.o=function(X){try{var re=X.v;1&X.s?rn(q,1,D?D(re):re):F?rn(q,1,F(re)):rn(q,2,re)}catch(le){rn(q,2,le)}},q},R}();function J0(R){return R instanceof ps&&1&R.s}function XO(R,D,F){if(typeof R[G0]=="function"){var q,Q,Z,X=R[G0]();if(function Re(pe){try{for(;!((q=X.next()).done||F&&F());)if((pe=D(q.value))&&pe.then){if(!J0(pe))return void pe.then(Re,Z||(Z=rn.bind(null,Q=new ps,2)));pe=pe.v}Q?rn(Q,1,pe):Q=pe}catch(Te){rn(Q||(Q=new ps),2,Te)}}(),X.return){var re=function(Re){try{q.done||X.return()}catch{}return Re};if(Q&&Q.then)return Q.then(re,function(Re){throw re(Re)});re()}return Q}if(!("length"in R))throw new TypeError("Object is not iterable");for(var le=[],Fe=0;Fe<R.length;Fe++)le.push(R[Fe]);return function(Re,pe,Te){var xe,At,dt=-1;return function Xe(Ee){try{for(;++dt<Re.length&&(!Te||!Te());)if((Ee=pe(dt))&&Ee.then){if(!J0(Ee))return void Ee.then(Xe,At||(At=rn.bind(null,xe=new ps,2)));Ee=Ee.v}xe?rn(xe,1,Ee):xe=Ee}catch(qe){rn(xe||(xe=new ps),2,qe)}}(),xe}(le,function(Re){return D(le[Re])},F)}function Q0(R,D){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);D&&(q=q.filter(function(Q){return Object.getOwnPropertyDescriptor(R,Q).enumerable})),F.push.apply(F,q)}return F}function Hu(R){for(var D=1;D<arguments.length;D++){var F=arguments[D]!=null?arguments[D]:{};D%2?Q0(Object(F),!0).forEach(function(q){ZO(R,q,F[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):Q0(Object(F)).forEach(function(q){Object.defineProperty(R,q,Object.getOwnPropertyDescriptor(F,q))})}return R}function ZO(R,D,F){return D in R?Object.defineProperty(R,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[D]=F,R}var e_=W0(function(R,D){var F=!1,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=d(c(D));Q.sort(function(X,re){return X.length>re.length?1:re.length>X.length?-1:0});var Z=!1;return XO(Q,function(X){return YO(function(){if(Z)return K0(jh(R,X,Hu(Hu({},q),{},{recursive:!1})))},function(){return QO(function(){return U0(Fh(R,X),function(re){if(re.type!=="directory")throw new Error("Path includes a file: ".concat(D))})},function(re){var le=re;return function(){if(le.status===404)return Z=!0,K0(jh(R,X,Hu(Hu({},q),{},{recursive:!1})));throw re}()})})},function(){return F})}),jh=W0(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(F.recursive===!0)return e_(R,D,F);var q=ie({url:h(R.remoteURL,t_(u(D))),method:"MKCOL"},R,F);return U0(ue(q),function(Q){Ve(R,Q)})});function t_(R){return R.endsWith("/")?R:R+"/"}var n_=We(227),Y0=We.n(n_);function r_(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}function $h(R){return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},$h(R)}var i_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q={};if($h(F.range)==="object"&&typeof F.range.start=="number"){var Q="bytes=".concat(F.range.start,"-");typeof F.range.end=="number"&&(Q="".concat(Q).concat(F.range.end)),q.Range=Q}var Z=ie({url:h(R.remoteURL,u(D)),method:"GET",headers:q},R,F);return r_(ue(Z),function(X){if(Ve(R,X),q.Range&&X.status!==206){var re=new Error("Invalid response code for partial request: ".concat(X.status));throw re.status=X.status,re}return F.callback&&setTimeout(function(){F.callback(X)},0),X.body})}),o_=function(){};function s_(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=Y0().PassThrough,Q=new q;return i_(R,D,F).then(function(Z){Z.pipe(Q)}).catch(function(Z){Q.emit("error",Z)}),Q}function a_(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o_,Q=Y0().PassThrough,Z=new Q,X={};F.overwrite===!1&&(X["If-None-Match"]="*");var re=ie({url:h(R.remoteURL,u(D)),method:"PUT",headers:X,data:Z,maxRedirects:0},R,F);return ue(re).then(function(le){return Ve(R,le)}).then(function(le){setTimeout(function(){q(le)},0)}).catch(function(le){Z.emit("error",le)}),Z}var l_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D,F){F.url||(F.url=h(R.remoteURL,u(D)));var q,Q,Z=ie(F,R,{});return Q=function(X){return Ve(R,X),X},(q=ue(Z))&&q.then||(q=Promise.resolve(q)),Q?q.then(Q):q});function u_(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var c_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=ie({url:h(R.remoteURL,u(D)),method:"DELETE"},R,F);return u_(ue(q),function(Q){Ve(R,Q)})});function f_(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}function d_(R,D){try{var F=R()}catch(q){return D(q)}return F&&F.then?F.then(void 0,D):F}var h_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d_(function(){return f_(Fh(R,D,F),function(){return!0})},function(q){if(q.status===404)return!1;throw q})});function zh(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var p_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=ie({url:h(R.remoteURL,u(D),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:F.deep?"infinity":"1"}},R,F);return zh(ue(q),function(Q){return Ve(R,Q),zh(Q.text(),function(Z){if(!Z)throw new Error("Failed parsing directory contents: Empty response");return zh(qu(Z),function(X){var re=D.startsWith("/")?D:"/"+D,le=m_(X,R.remotePath,re,F.details,F.includeSelf);return F.glob&&(le=or(le,F.glob)),Je(Q,le,F.details)})})})});function m_(R,D,F){var q=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Q=arguments.length>4&&arguments[4]!==void 0&&arguments[4],Z=s().join(D,"/"),X=R.multistatus.response,re=X.map(function(le){var Fe=m(le.href);return H0(le.propstat.prop,decodeURIComponent(c(Z==="/"?Fe:s().relative(Z,Fe))),q)});return Q?re:re.filter(function(le){return le.basename&&(le.type==="file"||le.filename!==F.replace(/\/$/,""))})}function qh(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}var g_=qh(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=ie({url:h(R.remoteURL,u(D)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[w_]},R,F);return Vu(ue(q),function(Q){return Ve(R,Q),Vu(Q.text(),function(Z){return Je(Q,Z,F.details)})})});function Vu(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var y_=qh(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=ie({url:h(R.remoteURL,u(D)),method:"GET"},R,F);return Vu(ue(q),function(Q){var Z;return Ve(R,Q),v_(function(){return Vu(Q.arrayBuffer(),function(X){Z=X})},function(){return Je(Q,Z,F.details)})})});function v_(R,D){var F=R();return F&&F.then?F.then(D):D(F)}var b_=qh(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=F.format,Q=q===void 0?"binary":q;if(Q!=="binary"&&Q!=="text")throw new n.Layerr({info:{code:k.InvalidOutputFormat}},"Invalid output format: ".concat(Q));return Q==="text"?g_(R,D,F):y_(R,D,F)}),w_=function(R){return R};function x_(R,D){var F=h(R.remoteURL,u(D)),q=/^https:/i.test(F)?"https":"http";switch(R.authType){case E.None:break;case E.Password:var Q=S(R.headers.Authorization.replace(/^Basic /i,"").trim());F=F.replace(/^https?:\/\//,"".concat(q,"://").concat(Q,"@"));break;default:throw new n.Layerr({info:{code:k.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(R.authType))}return F}function Hh(R){return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Hh(R)}function X0(R,D){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);D&&(q=q.filter(function(Q){return Object.getOwnPropertyDescriptor(R,Q).enumerable})),F.push.apply(F,q)}return F}function S_(R,D,F){return D in R?Object.defineProperty(R,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[D]=F,R}function k_(R){return new Lh.j2xParser({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,supressEmptyNode:!0}).parse(Z0({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:R}}},"d"))}function Z0(R,D){var F=function(Q){for(var Z=1;Z<arguments.length;Z++){var X=arguments[Z]!=null?arguments[Z]:{};Z%2?X0(Object(X),!0).forEach(function(re){S_(Q,re,X[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(X)):X0(Object(X)).forEach(function(re){Object.defineProperty(Q,re,Object.getOwnPropertyDescriptor(X,re))})}return Q}({},R);for(var q in F)F.hasOwnProperty(q)&&(F[q]&&Hh(F[q])==="object"&&q.indexOf(":")===-1?(F["".concat(D,":").concat(q)]=Z0(F[q],D),delete F[q]):/^@_/.test(q)===!1&&(F["".concat(D,":").concat(q)]=F[q],delete F[q]));return F}function E_(R){return Lh.parse(R,{arrayMode:!1,ignoreNameSpace:!0,parseAttributeValue:!0,parseNodeValue:!0})}function Vh(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}function e1(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}var A_=e1(function(R,D,F){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=ie({url:h(R.remoteURL,u(D)),method:"UNLOCK",headers:{"Lock-Token":F}},R,q);return Vh(ue(Q),function(Z){if(Ve(R,Z),Z.status!==204&&Z.status!==200)throw Oe(Z)})}),C_=e1(function(R,D){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=F.refreshToken,Q=F.timeout,Z=Q===void 0?O_:Q,X={Accept:"text/plain,application/xml",Timeout:Z};q&&(X.If=q);var re=ie({url:h(R.remoteURL,u(D)),method:"LOCK",headers:X,data:k_(R.contactHref)},R,F);return Vh(ue(re),function(le){return Ve(R,le),Vh(le.text(),function(Fe){var Re=E_(Fe),pe=wi().get(Re,"prop.lockdiscovery.activelock.locktoken.href"),Te=wi().get(Re,"prop.lockdiscovery.activelock.timeout");if(!pe)throw Oe(le,"No lock token received: ");return{token:pe,serverTimeout:Te}})})}),O_="Infinite, Second-4100000000";function t1(R,D){(D==null||D>R.length)&&(D=R.length);for(var F=0,q=new Array(D);F<D;F++)q[F]=R[F];return q}function __(R){try{var D=(Q=R.multistatus.response,Z=1,function(X){if(Array.isArray(X))return X}(Q)||function(X,re){var le=X==null?null:typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(le!=null){var Fe,Re,pe=[],Te=!0,xe=!1;try{for(le=le.call(X);!(Te=(Fe=le.next()).done)&&(pe.push(Fe.value),!re||pe.length!==re);Te=!0);}catch(At){xe=!0,Re=At}finally{try{Te||le.return==null||le.return()}finally{if(xe)throw Re}}return pe}}(Q,Z)||function(X,re){if(X){if(typeof X=="string")return t1(X,re);var le=Object.prototype.toString.call(X).slice(8,-1);return le==="Object"&&X.constructor&&(le=X.constructor.name),le==="Map"||le==="Set"?Array.from(X):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?t1(X,re):void 0}}(Q,Z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0].propstat.prop,F=D["quota-used-bytes"],q=D["quota-available-bytes"];return F!==void 0&&q!==void 0?{used:parseInt(F,10),available:GO(q)}:null}catch{}var Q,Z;return null}function Uh(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var T_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=D.path||"/",q=ie({url:h(R.remoteURL,F),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},R,D);return Uh(ue(q),function(Q){return Ve(R,Q),Uh(Q.text(),function(Z){return Uh(qu(Z),function(X){var re=__(X);return Je(Q,re,D.details)})})})});function N_(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var M_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D,F){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=ie({url:h(R.remoteURL,u(D)),method:"MOVE",headers:{Destination:h(R.remoteURL,u(F))}},R,q);return N_(ue(Q),function(Z){Ve(R,Z)})}),P_=We(918);function R_(R){if(Me(R))return R.byteLength;if(Ie(R))return R.length;if(typeof R=="string")return(0,P_.k)(R);throw new n.Layerr({info:{code:k.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}function L_(R,D,F){return F?D?D(R):R:(R&&R.then||(R=Promise.resolve(R)),D?R.then(D):R)}var D_=function(R){return function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];try{return Promise.resolve(R.apply(this,D))}catch(q){return Promise.reject(q)}}}(function(R,D,F){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=q.contentLength,Z=Q===void 0||Q,X=q.overwrite,re=X===void 0||X,le={"Content-Type":"application/octet-stream"};Z===!1||(le["Content-Length"]="".concat(typeof Z=="number"?Z:R_(F))),re||(le["If-None-Match"]="*");var Fe=ie({url:h(R.remoteURL,u(D)),method:"PUT",headers:le,data:F},R,q);return L_(ue(Fe),function(Re){try{Ve(R,Re)}catch(Te){var pe=Te;if(pe.status!==412||re)throw pe;return!1}return!0})});function I_(R,D){var F="".concat(h(R.remoteURL,u(D)),"?Content-Type=application/octet-stream"),q=/^https:/i.test(F)?"https":"http";switch(R.authType){case E.None:break;case E.Password:var Q=S(R.headers.Authorization.replace(/^Basic /i,"").trim());F=F.replace(/^https?:\/\//,"".concat(q,"://").concat(Q,"@"));break;default:throw new n.Layerr({info:{code:k.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(R.authType))}return F}var B_="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function F_(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=D.authType,q=F===void 0?null:F,Q=D.contactHref,Z=Q===void 0?B_:Q,X=D.ha1,re=D.headers,le=re===void 0?{}:re,Fe=D.httpAgent,Re=D.httpsAgent,pe=D.password,Te=D.token,xe=D.username,At=D.withCredentials,dt=q;dt||(dt=xe||pe?E.Password:E.None);var Xe={authType:dt,contactHref:Z,ha1:X,headers:Object.assign({},le),httpAgent:Fe,httpsAgent:Re,remotePath:f(R),remoteURL:R,password:pe,token:Te,username:xe,withCredentials:At};return M(Xe,xe,pe,Te,X),{copyFile:function(Ee,qe,On){return Cr(Xe,Ee,qe,On)},createDirectory:function(Ee,qe){return jh(Xe,Ee,qe)},createReadStream:function(Ee,qe){return s_(Xe,Ee,qe)},createWriteStream:function(Ee,qe,On){return a_(Xe,Ee,qe,On)},customRequest:function(Ee,qe){return l_(Xe,Ee,qe)},deleteFile:function(Ee,qe){return c_(Xe,Ee,qe)},exists:function(Ee,qe){return h_(Xe,Ee,qe)},getDirectoryContents:function(Ee,qe){return p_(Xe,Ee,qe)},getFileContents:function(Ee,qe){return b_(Xe,Ee,qe)},getFileDownloadLink:function(Ee){return x_(Xe,Ee)},getFileUploadLink:function(Ee){return I_(Xe,Ee)},getHeaders:function(){return Object.assign({},Xe.headers)},getQuota:function(Ee){return T_(Xe,Ee)},lock:function(Ee,qe){return C_(Xe,Ee,qe)},moveFile:function(Ee,qe,On){return M_(Xe,Ee,qe,On)},putFileContents:function(Ee,qe,On){return D_(Xe,Ee,qe,On)},setHeaders:function(Ee){Xe.headers=Object.assign({},Ee)},stat:function(Ee,qe){return Fh(Xe,Ee,qe)},unlock:function(Ee,qe,On){return A_(Xe,Ee,qe,On)}}}})();var Mj=vi.Gr;vi.jK;vi.cf;vi.HM;var Pj=vi.eI;vi.lD;vi.yY;vi.sw;const fy=Pj("https://crossorigin.me/https://dav.jianguoyun.com/dav/",{authType:Mj.Digest,username:"yzknight@126.com",password:"auagnk3nef6s7zm9"});window.client=fy;class Rj{async sync(){const e=await fy.exists("memo");if(!e){const n=await fy.createDirectory("memo");console.log("created",n)}console.log("exists",e)}}function GC(t){return t.replace(/<[^>]+>/g,"")}const Lj=new Rj;Lj.sync();function Dj(t){const[e,n]=U.useState(-1),r=ao.useLiveQuery(()=>$t.categories.toArray()),i=ao.useLiveQuery(()=>e===-1?$t.notes.orderBy("updatedAt").reverse().filter(o=>!o.deletedAt).toArray():$t.notes.where("categoryId").equals(e).reverse().filter(o=>!o.deletedAt).sortBy("updatedAt"),[e]);return pt("div",{className:kc.root,children:[oe(WF,{placeholder:""}),r&&oe(Nw,{defaultActiveKey:e+"",onChange:o=>{n(Number(o))},children:[{id:-1,title:""}].concat(r).map(o=>oe(Nw.Tab,{title:o.title},o.id+""))}),oe("div",{className:kc.notes,children:i==null?void 0:i.map(o=>{const s=o.content.match(/<img\s+src="(.*?)"(?:[^>]*?)>/);return oe(Bs,{to:`/memo/note/${o.id}`,className:kc.note,children:pt(L9,{children:[s&&oe("img",{src:s[1],className:kc.img}),o.title&&oe("h2",{children:o.title}),GC(o.content).slice(0,80)]})})})}),oe(Bs,{to:"/memo/note/new",children:oe(NF,{style:{"--initial-position-bottom":"24px","--initial-position-right":"24px"},children:oe(i9,{fontSize:32})})})]})}var Zf={},Ij={get exports(){return Zf},set exports(t){Zf=t}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:it,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),d=i(47),c=i(48),f=i(49),h=i(12),m=i(32),y=i(33),g=i(31),b=i(1),p={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:f.default,Attributor:{Attribute:h.default,Class:m.default,Style:y.default,Store:g.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,p){b.__proto__=p}||function(b,p){for(var v in p)p.hasOwnProperty(v)&&(b[v]=p[v])};return function(b,p){g(b,p);function v(){this.constructor=b}b.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(g){o(b,g);function b(p){var v=this;return p="[Parchment] "+p,v=g.call(this,p)||this,v.message=p,v.name=v.constructor.name,v}return b}(Error);r.ParchmentError=s;var a={},l={},u={},d={};r.DATA_KEY="__blot";var c;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function f(g,b){var p=m(g);if(p==null)throw new s("Unable to create "+g+" blot");var v=p,w=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:v.create(b);return new v(w,b)}r.create=f;function h(g,b){return b===void 0&&(b=!1),g==null?null:g[r.DATA_KEY]!=null?g[r.DATA_KEY].blot:b?h(g.parentNode,b):null}r.find=h;function m(g,b){b===void 0&&(b=c.ANY);var p;if(typeof g=="string")p=d[g]||a[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)p=d.text;else if(typeof g=="number")g&c.LEVEL&c.BLOCK?p=d.block:g&c.LEVEL&c.INLINE&&(p=d.inline);else if(g instanceof HTMLElement){var v=(g.getAttribute("class")||"").split(/\s+/);for(var w in v)if(p=l[v[w]],p)break;p=p||u[g.tagName]}return p==null?null:b&c.LEVEL&p.scope&&b&c.TYPE&p.scope?p:null}r.query=m;function y(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];if(g.length>1)return g.map(function(w){return y(w)});var p=g[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(d[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(w){return w.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var v=Array.isArray(p.tagName)?p.tagName:[p.tagName];v.forEach(function(w){(u[w]==null||p.className==null)&&(u[w]=p)})}return p}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),d=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};d.prototype.insert=function(c,f){var h={};return c.length===0?this:(h.insert=c,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},d.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},d.prototype.retain=function(c,f){if(c<=0)return this;var h={retain:c};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},d.prototype.push=function(c){var f=this.ops.length,h=this.ops[f-1];if(c=a(!0,{},c),typeof h=="object"){if(typeof c.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+c.delete},this;if(typeof h.delete=="number"&&c.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(c),this;if(s(c.attributes,h.attributes)){if(typeof c.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+c.insert},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+c.retain},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this}}return f===this.ops.length?this.ops.push(c):this.ops.splice(f,0,c),this},d.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},d.prototype.filter=function(c){return this.ops.filter(c)},d.prototype.forEach=function(c){this.ops.forEach(c)},d.prototype.map=function(c){return this.ops.map(c)},d.prototype.partition=function(c){var f=[],h=[];return this.forEach(function(m){var y=c(m)?f:h;y.push(m)}),[f,h]},d.prototype.reduce=function(c,f){return this.ops.reduce(c,f)},d.prototype.changeLength=function(){return this.reduce(function(c,f){return f.insert?c+l.length(f):f.delete?c-f.delete:c},0)},d.prototype.length=function(){return this.reduce(function(c,f){return c+l.length(f)},0)},d.prototype.slice=function(c,f){c=c||0,typeof f!="number"&&(f=1/0);for(var h=[],m=l.iterator(this.ops),y=0;y<f&&m.hasNext();){var g;y<c?g=m.next(c-y):(g=m.next(f-y),h.push(g)),y+=l.length(g)}return new d(h)},d.prototype.compose=function(c){var f=l.iterator(this.ops),h=l.iterator(c.ops),m=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var g=y.retain;f.peekType()==="insert"&&f.peekLength()<=g;)g-=f.peekLength(),m.push(f.next());y.retain-g>0&&h.next(y.retain-g)}for(var b=new d(m);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")b.push(h.next());else if(f.peekType()==="delete")b.push(f.next());else{var p=Math.min(f.peekLength(),h.peekLength()),v=f.next(p),w=h.next(p);if(typeof w.retain=="number"){var x={};typeof v.retain=="number"?x.retain=p:x.insert=v.insert;var S=l.attributes.compose(v.attributes,w.attributes,typeof v.retain=="number");if(S&&(x.attributes=S),b.push(x),!h.hasNext()&&s(b.ops[b.ops.length-1],x)){var E=new d(f.rest());return b.concat(E).chop()}}else typeof w.delete=="number"&&typeof v.retain=="number"&&b.push(w)}return b.chop()},d.prototype.concat=function(c){var f=new d(this.ops.slice());return c.ops.length>0&&(f.push(c.ops[0]),f.ops=f.ops.concat(c.ops.slice(1))),f},d.prototype.diff=function(c,f){if(this.ops===c.ops)return new d;var h=[this,c].map(function(p){return p.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var w=p===c?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),m=new d,y=o(h[0],h[1],f),g=l.iterator(this.ops),b=l.iterator(c.ops);return y.forEach(function(p){for(var v=p[1].length;v>0;){var w=0;switch(p[0]){case o.INSERT:w=Math.min(b.peekLength(),v),m.push(b.next(w));break;case o.DELETE:w=Math.min(v,g.peekLength()),g.next(w),m.delete(w);break;case o.EQUAL:w=Math.min(g.peekLength(),b.peekLength(),v);var x=g.next(w),S=b.next(w);s(x.insert,S.insert)?m.retain(w,l.attributes.diff(x.attributes,S.attributes)):m.push(S).delete(w);break}v-=w}}),m.chop()},d.prototype.eachLine=function(c,f){f=f||`
`;for(var h=l.iterator(this.ops),m=new d,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var g=h.peek(),b=l.length(g)-h.peekLength(),p=typeof g.insert=="string"?g.insert.indexOf(f,b)-b:-1;if(p<0)m.push(h.next());else if(p>0)m.push(h.next(p));else{if(c(m,h.next(1).attributes||{},y)===!1)return;y+=1,m=new d}}m.length()>0&&c(m,{},y)},d.prototype.transform=function(c,f){if(f=!!f,typeof c=="number")return this.transformPosition(c,f);for(var h=l.iterator(this.ops),m=l.iterator(c.ops),y=new d;h.hasNext()||m.hasNext();)if(h.peekType()==="insert"&&(f||m.peekType()!=="insert"))y.retain(l.length(h.next()));else if(m.peekType()==="insert")y.push(m.next());else{var g=Math.min(h.peekLength(),m.peekLength()),b=h.next(g),p=m.next(g);if(b.delete)continue;p.delete?y.push(p):y.retain(g,l.attributes.transform(b.attributes,p.attributes,f))}return y.chop()},d.prototype.transformPosition=function(c,f){f=!!f;for(var h=l.iterator(this.ops),m=0;h.hasNext()&&m<=c;){var y=h.peekLength(),g=h.peekType();if(h.next(),g==="delete"){c-=Math.min(y,c-m);continue}else g==="insert"&&(m<c||!f)&&(c+=y);m+=y}return c},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var m=i.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!y)return!1;var g;for(g in h);return typeof g>"u"||i.call(h,g)},d=function(h,m){s&&m.name==="__proto__"?s(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(i.call(h,m)){if(a)return a(h,m).value}else return;return h[m]};n.exports=function f(){var h,m,y,g,b,p,v=arguments[0],w=1,x=arguments.length,S=!1;for(typeof v=="boolean"&&(S=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<x;++w)if(h=arguments[w],h!=null)for(m in h)y=c(v,m),g=c(h,m),v!==g&&(S&&g&&(u(g)||(b=l(g)))?(b?(b=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},d(v,{name:m,newValue:f(S,p,g)})):typeof g<"u"&&d(v,{name:m,newValue:g}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function _(O,M){for(var T=0;T<M.length;T++){var N=M[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,M,T){return M&&_(O.prototype,M),T&&_(O,T),O}}(),s=function _(O,M,T){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,M);if(N===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:_(P,M,T)}else{if("value"in N)return N.value;var L=N.get;return L===void 0?void 0:L.call(T)}},a=i(3),l=v(a),u=i(2),d=v(u),c=i(0),f=v(c),h=i(16),m=v(h),y=i(6),g=v(y),b=i(7),p=v(b);function v(_){return _&&_.__esModule?_:{default:_}}function w(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function x(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function S(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var E=1,k=function(_){S(O,_);function O(){return w(this,O),x(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"attach",value:function(){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,N){var P=f.default.query(T,f.default.Scope.BLOCK_ATTRIBUTE);P!=null&&this.attributes.attribute(P,N)}},{key:"formatAt",value:function(T,N,P,L){this.format(P,L)}},{key:"insertAt",value:function(T,N,P){if(typeof N=="string"&&N.endsWith(`
`)){var L=f.default.create(A.blotName);this.parent.insertBefore(L,T===0?this:this.next),L.insertAt(0,N.slice(0,-1))}else s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,N,P)}}]),O}(f.default.Embed);k.scope=f.default.Scope.BLOCK_BLOT;var A=function(_){S(O,_);function O(M){w(this,O);var T=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M));return T.cache={},T}return o(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(T,N){return N.length()===0?T:T.insert(N.value(),C(N))},new d.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(T,N){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,T,N),this.cache={}}},{key:"formatAt",value:function(T,N,P,L){N<=0||(f.default.query(P,f.default.Scope.BLOCK)?T+N===this.length()&&this.format(P,L):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,T,Math.min(N,this.length()-T-1),P,L),this.cache={})}},{key:"insertAt",value:function(T,N,P){if(P!=null)return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,N,P);if(N.length!==0){var L=N.split(`
`),z=L.shift();z.length>0&&(T<this.length()-1||this.children.tail==null?s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var j=this;L.reduce(function(B,I){return j=j.split(B,!0),j.insertAt(0,I),I.length},T+z.length)}}},{key:"insertBefore",value:function(T,N){var P=this.children.head;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,T,N),P instanceof m.default&&P.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(T,N){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,T,N),this.cache={}}},{key:"optimize",value:function(T){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N&&(T===0||T>=this.length()-E)){var P=this.clone();return T===0?(this.parent.insertBefore(P,this),this):(this.parent.insertBefore(P,this.next),P)}else{var L=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,T,N);return this.cache={},L}}}]),O}(f.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[g.default,f.default.Embed,p.default];function C(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(O=(0,l.default)(O,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?O:C(_.parent,O)}r.bubbleFormats=C,r.BlockEmbed=k,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(B,I){var $=[],V=!0,G=!1,K=void 0;try{for(var H=B[Symbol.iterator](),W;!(V=(W=H.next()).done)&&($.push(W.value),!(I&&$.length===I));V=!0);}catch(Y){G=!0,K=Y}finally{try{!V&&H.return&&H.return()}finally{if(G)throw K}}return $}return function(B,I){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return j(B,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(B,I){for(var $=0;$<I.length;$++){var V=I[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,I,$){return I&&j(B.prototype,I),$&&j(B,$),B}}();i(50);var l=i(2),u=C(l),d=i(14),c=C(d),f=i(8),h=C(f),m=i(9),y=C(m),g=i(0),b=C(g),p=i(15),v=C(p),w=i(3),x=C(w),S=i(10),E=C(S),k=i(34),A=C(k);function C(j){return j&&j.__esModule?j:{default:j}}function _(j,B,I){return B in j?Object.defineProperty(j,B,{value:I,enumerable:!0,configurable:!0,writable:!0}):j[B]=I,j}function O(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}var M=(0,E.default)("quill"),T=function(){a(j,null,[{key:"debug",value:function(I){I===!0&&(I="log"),E.default.level(I)}},{key:"find",value:function(I){return I.__quill||b.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&M.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,$){var V=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var K=I.attrName||I.blotName;typeof K=="string"?this.register("formats/"+K,I,$):Object.keys(I).forEach(function(H){V.register(H,I[H],$)})}else this.imports[I]!=null&&!G&&M.warn("Overwriting "+I+" with",$),this.imports[I]=$,(I.startsWith("blots/")||I.startsWith("formats/"))&&$.blotName!=="abstract"?b.default.register($):I.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function j(B){var I=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,j),this.options=N(B,$),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",B);this.options.debug&&j.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(K){K===h.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(K,H){var W=I.selection.lastRange,Y=W&&W.length===0?W.index:void 0;P.call(I,function(){return I.editor.update(null,H,Y)},K)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(j,[{key:"addContainer",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var V=I;I=document.createElement("div"),I.classList.add(V)}return this.container.insertBefore(I,$),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,$,V){var G=this,K=L(I,$,V),H=s(K,4);return I=H[0],$=H[1],V=H[3],P.call(this,function(){return G.editor.deleteText(I,$)},V,I,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,$){var V=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return P.call(this,function(){var K=V.getSelection(!0),H=new u.default;if(K==null)return H;if(b.default.query(I,b.default.Scope.BLOCK))H=V.editor.formatLine(K.index,K.length,_({},I,$));else{if(K.length===0)return V.selection.format(I,$),H;H=V.editor.formatText(K.index,K.length,_({},I,$))}return V.setSelection(K,h.default.sources.SILENT),H},G)}},{key:"formatLine",value:function(I,$,V,G,K){var H=this,W=void 0,Y=L(I,$,V,G,K),J=s(Y,4);return I=J[0],$=J[1],W=J[2],K=J[3],P.call(this,function(){return H.editor.formatLine(I,$,W)},K,I,0)}},{key:"formatText",value:function(I,$,V,G,K){var H=this,W=void 0,Y=L(I,$,V,G,K),J=s(Y,4);return I=J[0],$=J[1],W=J[2],K=J[3],P.call(this,function(){return H.editor.formatText(I,$,W)},K,I,0)}},{key:"getBounds",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof I=="number"?V=this.selection.getBounds(I,$):V=this.selection.getBounds(I.index,I.length);var G=this.container.getBoundingClientRect();return{bottom:V.bottom-G.top,height:V.height,left:V.left-G.left,right:V.right-G.left,top:V.top-G.top,width:V.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,V=L(I,$),G=s(V,2);return I=G[0],$=G[1],this.editor.getContents(I,$)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,$):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,$)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,V=L(I,$),G=s(V,2);return I=G[0],$=G[1],this.editor.getText(I,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,$,V){var G=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.sources.API;return P.call(this,function(){return G.editor.insertEmbed(I,$,V)},K,I)}},{key:"insertText",value:function(I,$,V,G,K){var H=this,W=void 0,Y=L(I,0,V,G,K),J=s(Y,4);return I=J[0],W=J[2],K=J[3],P.call(this,function(){return H.editor.insertText(I,$,W)},K,I,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,$,V){this.clipboard.dangerouslyPasteHTML(I,$,V)}},{key:"removeFormat",value:function(I,$,V){var G=this,K=L(I,$,V),H=s(K,4);return I=H[0],$=H[1],V=H[3],P.call(this,function(){return G.editor.removeFormat(I,$)},V,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var $=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return P.call(this,function(){I=new u.default(I);var G=$.getLength(),K=$.editor.deleteText(0,G),H=$.editor.applyDelta(I),W=H.ops[H.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),H.delete(1));var Y=K.compose(H);return Y},V)}},{key:"setSelection",value:function(I,$,V){if(I==null)this.selection.setRange(null,$||j.sources.API);else{var G=L(I,$,V),K=s(G,4);I=K[0],$=K[1],V=K[3],this.selection.setRange(new p.Range(I,$),V),V!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,V=new u.default().insert(I);return this.setContents(V,$)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,$=this.scroll.update(I);return this.selection.update(I),$}},{key:"updateContents",value:function(I){var $=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return P.call(this,function(){return I=new u.default(I),$.editor.applyDelta(I,V)},V,!0)}}]),j}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=h.default.events,T.sources=h.default.sources,T.version="1.3.7",T.imports={delta:u.default,parchment:b.default,"core/module":y.default,"core/theme":A.default};function N(j,B){if(B=(0,x.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===T.DEFAULTS.theme)B.theme=A.default;else if(B.theme=T.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var I=(0,x.default)(!0,{},B.theme.DEFAULTS);[I,B].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(K){G.modules[K]===!0&&(G.modules[K]={})})});var $=Object.keys(I.modules).concat(Object.keys(B.modules)),V=$.reduce(function(G,K){var H=T.import("modules/"+K);return H==null?M.error("Cannot load "+K+" module. Are you sure you registered it?"):G[K]=H.DEFAULTS||{},G},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,x.default)(!0,{},T.DEFAULTS,{modules:V},I,B),["bounds","container","scrollingContainer"].forEach(function(G){typeof B[G]=="string"&&(B[G]=document.querySelector(B[G]))}),B.modules=Object.keys(B.modules).reduce(function(G,K){return B.modules[K]&&(G[K]=B.modules[K]),G},{}),B}function P(j,B,I,$){if(this.options.strict&&!this.isEnabled()&&B===h.default.sources.USER)return new u.default;var V=I==null?null:this.getSelection(),G=this.editor.delta,K=j();if(V!=null&&(I===!0&&(I=V.index),$==null?V=z(V,K,B):$!==0&&(V=z(V,I,$,B)),this.setSelection(V,h.default.sources.SILENT)),K.length()>0){var H,W=[h.default.events.TEXT_CHANGE,K,G,B];if((H=this.emitter).emit.apply(H,[h.default.events.EDITOR_CHANGE].concat(W)),B!==h.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,W)}}return K}function L(j,B,I,$,V){var G={};return typeof j.index=="number"&&typeof j.length=="number"?typeof B!="number"?(V=$,$=I,I=B,B=j.length,j=j.index):(B=j.length,j=j.index):typeof B!="number"&&(V=$,$=I,I=B,B=0),(typeof I>"u"?"undefined":o(I))==="object"?(G=I,V=$):typeof I=="string"&&($!=null?G[I]=$:V=I),V=V||h.default.sources.API,[j,B,G,V]}function z(j,B,I,$){if(j==null)return null;var V=void 0,G=void 0;if(B instanceof u.default){var K=[j.index,j.index+j.length].map(function(J){return B.transformPosition(J,$!==h.default.sources.USER)}),H=s(K,2);V=H[0],G=H[1]}else{var W=[j.index,j.index+j.length].map(function(J){return J<B||J===B&&$===h.default.sources.USER?J:I>=0?J+I:Math.max(B,J+I)}),Y=s(W,2);V=Y[0],G=Y[1]}return new p.Range(V,G-V)}r.expandConfig=N,r.overload=L,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(b,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,v){return p&&g(b.prototype,p),v&&g(b,v),b}}(),s=function g(b,p,v){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:g(x,p,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},a=i(7),l=c(a),u=i(0),d=c(u);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function h(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function m(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=function(g){m(b,g);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"formatAt",value:function(v,w,x,S){if(b.compare(this.statics.blotName,x)<0&&d.default.query(x,d.default.Scope.BLOT)){var E=this.isolate(v,w);S&&E.wrap(x,S)}else s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,v,w,x,S)}},{key:"optimize",value:function(v){if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,v),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(v,w){var x=b.order.indexOf(v),S=b.order.indexOf(w);return x>=0||S>=0?x-S:v===w?0:v<w?-1:1}}]),b}(d.default.Inline);y.allowedChildren=[y,d.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function d(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){d(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,w){for(var x=0;x<w.length;x++){var S=w[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,w,x){return w&&p(v.prototype,w),x&&p(v,x),v}}(),s=function p(v,w,x){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,w);if(S===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:p(E,w,x)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(x)}},a=i(54),l=c(a),u=i(10),d=c(u);function c(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function m(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var y=(0,d.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(p){document.addEventListener(p,function(){for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var E;(E=S.__quill.emitter).handleDOM.apply(E,w)}})})});var b=function(p){m(v,p);function v(){f(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return w.listeners={},w.on("error",y.error),w}return o(v,[{key:"emit",value:function(){y.log.apply(y,arguments),s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var S=arguments.length,E=Array(S>1?S-1:0),k=1;k<S;k++)E[k-1]=arguments[k];(this.listeners[x.type]||[]).forEach(function(A){var C=A.node,_=A.handler;(x.target===C||C.contains(x.target))&&_.apply(void 0,[x].concat(E))})}},{key:"listenDOM",value:function(x,S,E){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:S,handler:E})}}]),v}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var d,c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];(d=console)[u].apply(d,f)}}function l(u){return o.reduce(function(d,c){return d[c]=a.bind(console,c,u),d},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,h,m){return m||(m={}),f===h?!0:f instanceof Date&&h instanceof Date?f.getTime()===h.getTime():!f||!h||typeof f!="object"&&typeof h!="object"?m.strict?f===h:f==h:c(f,h,m)};function u(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function c(f,h,m){var y,g;if(u(f)||u(h)||f.prototype!==h.prototype)return!1;if(a(f))return a(h)?(f=o.call(f),h=o.call(h),l(f,h,m)):!1;if(d(f)){if(!d(h)||f.length!==h.length)return!1;for(y=0;y<f.length;y++)if(f[y]!==h[y])return!1;return!0}try{var b=s(f),p=s(h)}catch{return!1}if(b.length!=p.length)return!1;for(b.sort(),p.sort(),y=b.length-1;y>=0;y--)if(b[y]!=p[y])return!1;for(y=b.length-1;y>=0;y--)if(g=b[y],!l(f[g],h[g],m))return!1;return typeof f==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function k(A,C){var _=[],O=!0,M=!1,T=void 0;try{for(var N=A[Symbol.iterator](),P;!(O=(P=N.next()).done)&&(_.push(P.value),!(C&&_.length===C));O=!0);}catch(L){M=!0,T=L}finally{try{!O&&N.return&&N.return()}finally{if(M)throw T}}return _}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(A,C){for(var _=0;_<C.length;_++){var O=C[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,C,_){return C&&k(A.prototype,C),_&&k(A,_),A}}(),a=function k(A,C,_){A===null&&(A=Function.prototype);var O=Object.getOwnPropertyDescriptor(A,C);if(O===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:k(M,C,_)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(_)}},l=i(2),u=p(l),d=i(0),c=p(d),f=i(4),h=p(f),m=i(6),y=p(m),g=i(7),b=p(g);function p(k){return k&&k.__esModule?k:{default:k}}function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function w(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var S=function(k){x(A,k);function A(){return v(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(y.default);S.blotName="code",S.tagName="CODE";var E=function(k){x(A,k);function A(){return v(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"delta",value:function(){var _=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(M,T){return M.insert(T).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,O){if(!(_===this.statics.blotName&&O)){var M=this.descendant(b.default,this.length()-1),T=o(M,1),N=T[0];N!=null&&N.deleteAt(N.length()-1,1),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,_,O)}}},{key:"formatAt",value:function(_,O,M,T){if(O!==0&&!(c.default.query(M,c.default.Scope.BLOCK)==null||M===this.statics.blotName&&T===this.statics.formats(this.domNode))){var N=this.newlineIndex(_);if(!(N<0||N>=_+O)){var P=this.newlineIndex(_,!0)+1,L=N-P+1,z=this.isolate(P,L),j=z.next;z.format(M,T),j instanceof A&&j.formatAt(0,_-P+O-L,M,T)}}}},{key:"insertAt",value:function(_,O,M){if(M==null){var T=this.descendant(b.default,_),N=o(T,2),P=N[0],L=N[1];P.insertAt(L,O)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var M=this.domNode.textContent.slice(_).indexOf(`
`);return M>-1?_+M:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,_);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(_),O.moveChildren(this),O.remove())}},{key:"replace",value:function(_){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var M=c.default.find(O);M==null?O.parentNode.removeChild(O):M instanceof c.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(_){var O=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,_);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),A}(h.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",r.Code=S,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(B,I){var $=[],V=!0,G=!1,K=void 0;try{for(var H=B[Symbol.iterator](),W;!(V=(W=H.next()).done)&&($.push(W.value),!(I&&$.length===I));V=!0);}catch(Y){G=!0,K=Y}finally{try{!V&&H.return&&H.return()}finally{if(G)throw K}}return $}return function(B,I){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return j(B,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(B,I){for(var $=0;$<I.length;$++){var V=I[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,I,$){return I&&j(B.prototype,I),$&&j(B,$),B}}(),l=i(2),u=O(l),d=i(20),c=O(d),f=i(0),h=O(f),m=i(13),y=O(m),g=i(24),b=O(g),p=i(4),v=O(p),w=i(16),x=O(w),S=i(21),E=O(S),k=i(11),A=O(k),C=i(3),_=O(C);function O(j){return j&&j.__esModule?j:{default:j}}function M(j,B,I){return B in j?Object.defineProperty(j,B,{value:I,enumerable:!0,configurable:!0,writable:!0}):j[B]=I,j}function T(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}var N=/^[ -~]*$/,P=function(){function j(B){T(this,j),this.scroll=B,this.delta=this.getDelta()}return a(j,[{key:"applyDelta",value:function(I){var $=this,V=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),I=z(I),I.reduce(function(K,H){var W=H.retain||H.delete||H.insert.length||1,Y=H.attributes||{};if(H.insert!=null){if(typeof H.insert=="string"){var J=H.insert;J.endsWith(`
`)&&V&&(V=!1,J=J.slice(0,-1)),K>=G&&!J.endsWith(`
`)&&(V=!0),$.scroll.insertAt(K,J);var te=$.scroll.line(K),de=s(te,2),be=de[0],Ae=de[1],Me=(0,_.default)({},(0,p.bubbleFormats)(be));if(be instanceof v.default){var Ie=be.descendant(h.default.Leaf,Ae),vt=s(Ie,1),at=vt[0];Me=(0,_.default)(Me,(0,p.bubbleFormats)(at))}Y=c.default.attributes.diff(Me,Y)||{}}else if(o(H.insert)==="object"){var ee=Object.keys(H.insert)[0];if(ee==null)return K;$.scroll.insertAt(K,ee,H.insert[ee])}G+=W}return Object.keys(Y).forEach(function(ne){$.scroll.formatAt(K,W,ne,Y[ne])}),K+W},0),I.reduce(function(K,H){return typeof H.delete=="number"?($.scroll.deleteAt(K,H.delete),K):K+(H.retain||H.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,$){return this.scroll.deleteAt(I,$),this.update(new u.default().retain(I).delete($))}},{key:"formatLine",value:function(I,$){var V=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(K){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[K])){var H=V.scroll.lines(I,Math.max($,1)),W=$;H.forEach(function(Y){var J=Y.length();if(!(Y instanceof y.default))Y.format(K,G[K]);else{var te=I-Y.offset(V.scroll),de=Y.newlineIndex(te+W)-te+1;Y.formatAt(te,de,K,G[K])}W-=J})}}),this.scroll.optimize(),this.update(new u.default().retain(I).retain($,(0,E.default)(G)))}},{key:"formatText",value:function(I,$){var V=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(K){V.scroll.formatAt(I,$,K,G[K])}),this.update(new u.default().retain(I).retain($,(0,E.default)(G)))}},{key:"getContents",value:function(I,$){return this.delta.slice(I,I+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,$){return I.concat($.delta())},new u.default)}},{key:"getFormat",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],G=[];$===0?this.scroll.path(I).forEach(function(H){var W=s(H,1),Y=W[0];Y instanceof v.default?V.push(Y):Y instanceof h.default.Leaf&&G.push(Y)}):(V=this.scroll.lines(I,$),G=this.scroll.descendants(h.default.Leaf,I,$));var K=[V,G].map(function(H){if(H.length===0)return{};for(var W=(0,p.bubbleFormats)(H.shift());Object.keys(W).length>0;){var Y=H.shift();if(Y==null)return W;W=L((0,p.bubbleFormats)(Y),W)}return W});return _.default.apply(_.default,K)}},{key:"getText",value:function(I,$){return this.getContents(I,$).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(I,$,V){return this.scroll.insertAt(I,$,V),this.update(new u.default().retain(I).insert(M({},$,V)))}},{key:"insertText",value:function(I,$){var V=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,$),Object.keys(G).forEach(function(K){V.scroll.formatAt(I,$.length,K,G[K])}),this.update(new u.default().retain(I).insert($,(0,E.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==v.default.blotName||I.children.length>1?!1:I.children.head instanceof x.default}},{key:"removeFormat",value:function(I,$){var V=this.getText(I,$),G=this.scroll.line(I+$),K=s(G,2),H=K[0],W=K[1],Y=0,J=new u.default;H!=null&&(H instanceof y.default?Y=H.newlineIndex(W)-W+1:Y=H.length()-W,J=H.delta().slice(W,W+Y-1).insert(`
`));var te=this.getContents(I,$+Y),de=te.diff(new u.default().insert(V).concat(J)),be=new u.default().retain(I).concat(de);return this.applyDelta(be)}},{key:"update",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(N)&&h.default.find($[0].target)){var K=h.default.find($[0].target),H=(0,p.bubbleFormats)(K),W=K.offset(this.scroll),Y=$[0].oldValue.replace(b.default.CONTENTS,""),J=new u.default().insert(Y),te=new u.default().insert(K.value()),de=new u.default().retain(W).concat(J.diff(te,V));I=de.reduce(function(be,Ae){return Ae.insert?be.insert(Ae.insert,H):be.push(Ae)},new u.default),this.delta=G.compose(I)}else this.delta=this.getDelta(),(!I||!(0,A.default)(G.compose(I),this.delta))&&(I=G.diff(this.delta,V));return I}}]),j}();function L(j,B){return Object.keys(B).reduce(function(I,$){return j[$]==null||(B[$]===j[$]?I[$]=B[$]:Array.isArray(B[$])?B[$].indexOf(j[$])<0&&(I[$]=B[$].concat([j[$]])):I[$]=[B[$],j[$]]),I},{})}function z(j){return j.reduce(function(B,I){if(I.insert===1){var $=(0,E.default)(I.attributes);return delete $.image,B.insert({image:I.attributes.image},$)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,E.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var V=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(V,I.attributes)}return B.push(I)},new u.default)}r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function k(A,C){var _=[],O=!0,M=!1,T=void 0;try{for(var N=A[Symbol.iterator](),P;!(O=(P=N.next()).done)&&(_.push(P.value),!(C&&_.length===C));O=!0);}catch(L){M=!0,T=L}finally{try{!O&&N.return&&N.return()}finally{if(M)throw T}}return _}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(A,C){for(var _=0;_<C.length;_++){var O=C[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,C,_){return C&&k(A.prototype,C),_&&k(A,_),A}}(),a=i(0),l=b(a),u=i(21),d=b(u),c=i(11),f=b(c),h=i(8),m=b(h),y=i(10),g=b(y);function b(k){return k&&k.__esModule?k:{default:k}}function p(k){if(Array.isArray(k)){for(var A=0,C=Array(k.length);A<k.length;A++)C[A]=k[A];return C}else return Array.from(k)}function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}var w=(0,g.default)("quill:selection"),x=function k(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,k),this.index=A,this.length=C},S=function(){function k(A,C){var _=this;v(this,k),this.emitter=C,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(O,M){O===m.default.events.TEXT_CHANGE&&M.length()>0&&_.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var O=_.getNativeRange();O!=null&&O.start.node!==_.cursor.textNode&&_.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(O,M){if(M.range){var T=M.range,N=T.startNode,P=T.startOffset,L=T.endNode,z=T.endOffset;_.setNativeRange(N,P,L,z)}}),this.update(m.default.sources.SILENT)}return s(k,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var _=C.cursor.restore();if(!_)return;setTimeout(function(){C.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var M=l.default.find(O.start.node,!1);if(M==null)return;if(M instanceof l.default.Leaf){var T=M.split(O.start.offset);M.parent.insertBefore(this.cursor,T)}else M.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(C,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();C=Math.min(C,O-1),_=Math.min(C+_,O-1)-C;var M=void 0,T=this.scroll.leaf(C),N=o(T,2),P=N[0],L=N[1];if(P==null)return null;var z=P.position(L,!0),j=o(z,2);M=j[0],L=j[1];var B=document.createRange();if(_>0){B.setStart(M,L);var I=this.scroll.leaf(C+_),$=o(I,2);if(P=$[0],L=$[1],P==null)return null;var V=P.position(L,!0),G=o(V,2);return M=G[0],L=G[1],B.setEnd(M,L),B.getBoundingClientRect()}else{var K="left",H=void 0;return M instanceof Text?(L<M.data.length?(B.setStart(M,L),B.setEnd(M,L+1)):(B.setStart(M,L-1),B.setEnd(M,L),K="right"),H=B.getBoundingClientRect()):(H=P.domNode.getBoundingClientRect(),L>0&&(K="right")),{bottom:H.top+H.height,height:H.height,left:H[K],right:H[K],top:H.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var _=C.getRangeAt(0);if(_==null)return null;var O=this.normalizeNative(_);return w.info("getNativeRange",O),O}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var _=this.normalizedToRange(C);return[_,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var _=this,O=[[C.start.node,C.start.offset]];C.native.collapsed||O.push([C.end.node,C.end.offset]);var M=O.map(function(P){var L=o(P,2),z=L[0],j=L[1],B=l.default.find(z,!0),I=B.offset(_.scroll);return j===0?I:B instanceof l.default.Container?I+B.length():I+B.index(z,j)}),T=Math.min(Math.max.apply(Math,p(M)),this.scroll.length()-1),N=Math.min.apply(Math,[T].concat(p(M)));return new x(N,T-N)}},{key:"normalizeNative",value:function(C){if(!E(this.root,C.startContainer)||!C.collapsed&&!E(this.root,C.endContainer))return null;var _={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[_.start,_.end].forEach(function(O){for(var M=O.node,T=O.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>T)M=M.childNodes[T],T=0;else if(M.childNodes.length===T)M=M.lastChild,T=M instanceof Text?M.data.length:M.childNodes.length+1;else break;O.node=M,O.offset=T}),_}},{key:"rangeToNative",value:function(C){var _=this,O=C.collapsed?[C.index]:[C.index,C.index+C.length],M=[],T=this.scroll.length();return O.forEach(function(N,P){N=Math.min(T-1,N);var L=void 0,z=_.scroll.leaf(N),j=o(z,2),B=j[0],I=j[1],$=B.position(I,P!==0),V=o($,2);L=V[0],I=V[1],M.push(L,I)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(C){var _=this.lastRange;if(_!=null){var O=this.getBounds(_.index,_.length);if(O!=null){var M=this.scroll.length()-1,T=this.scroll.line(Math.min(_.index,M)),N=o(T,1),P=N[0],L=P;if(_.length>0){var z=this.scroll.line(Math.min(_.index+_.length,M)),j=o(z,1);L=j[0]}if(!(P==null||L==null)){var B=C.getBoundingClientRect();O.top<B.top?C.scrollTop-=B.top-O.top:O.bottom>B.bottom&&(C.scrollTop+=O.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(C,_){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",C,_,O,M),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||O.parentNode==null))){var N=document.getSelection();if(N!=null)if(C!=null){this.hasFocus()||this.root.focus();var P=(this.getNativeRange()||{}).native;if(P==null||T||C!==P.startContainer||_!==P.startOffset||O!==P.endContainer||M!==P.endOffset){C.tagName=="BR"&&(_=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),O.tagName=="BR"&&(M=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var L=document.createRange();L.setStart(C,_),L.setEnd(O,M),N.removeAllRanges(),N.addRange(L)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof _=="string"&&(O=_,_=!1),w.info("setRange",C),C!=null){var M=this.rangeToNative(C);this.setNativeRange.apply(this,p(M).concat([_]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,_=this.lastRange,O=this.getRange(),M=o(O,2),T=M[0],N=M[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(_,this.lastRange)){var P;!this.composing&&N!=null&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var L=[m.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(_),C];if((P=this.emitter).emit.apply(P,[m.default.events.EDITOR_CHANGE].concat(L)),C!==m.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,L)}}}}]),k}();function E(k,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),k.contains(A)}r.Range=x,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,g){for(var b=0;b<g.length;b++){var p=g[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,g,b){return g&&m(y.prototype,g),b&&m(y,b),y}}(),s=function m(y,g,b){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,g);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:m(v,g,b)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(b)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(){return d(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(b,p){b.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){c(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(c){o(f,c);function f(h){var m=c.call(this,h)||this;return m.build(),m}return f.prototype.appendChild=function(h){this.insertBefore(h)},f.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},f.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var y=d(m);h.insertBefore(y,h.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},f.prototype.deleteAt=function(h,m){if(h===0&&m===this.length())return this.remove();this.children.forEachAt(h,m,function(y,g,b){y.deleteAt(g,b)})},f.prototype.descendant=function(h,m){var y=this.children.find(m),g=y[0],b=y[1];return h.blotName==null&&h(g)||h.blotName!=null&&g instanceof h?[g,b]:g instanceof f?g.descendant(h,b):[null,-1]},f.prototype.descendants=function(h,m,y){m===void 0&&(m=0),y===void 0&&(y=Number.MAX_VALUE);var g=[],b=y;return this.children.forEachAt(m,y,function(p,v,w){(h.blotName==null&&h(p)||h.blotName!=null&&p instanceof h)&&g.push(p),p instanceof f&&(g=g.concat(p.descendants(h,v,b))),b-=w}),g},f.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),c.prototype.detach.call(this)},f.prototype.formatAt=function(h,m,y,g){this.children.forEachAt(h,m,function(b,p,v){b.formatAt(p,v,y,g)})},f.prototype.insertAt=function(h,m,y){var g=this.children.find(h),b=g[0],p=g[1];if(b)b.insertAt(p,m,y);else{var v=y==null?l.create("text",m):l.create(m,y);this.appendChild(v)}},f.prototype.insertBefore=function(h,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,m)},f.prototype.length=function(){return this.children.reduce(function(h,m){return h+m.length()},0)},f.prototype.moveChildren=function(h,m){this.children.forEach(function(y){h.insertBefore(y,m)})},f.prototype.optimize=function(h){if(c.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var m=l.create(this.statics.defaultChild);this.appendChild(m),m.optimize(h)}else this.remove()},f.prototype.path=function(h,m){m===void 0&&(m=!1);var y=this.children.find(h,m),g=y[0],b=y[1],p=[[this,h]];return g instanceof f?p.concat(g.path(b,m)):(g!=null&&p.push([g,b]),p)},f.prototype.removeChild=function(h){this.children.remove(h)},f.prototype.replace=function(h){h instanceof f&&h.moveChildren(this),c.prototype.replace.call(this,h)},f.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(g,b,p){g=g.split(b,m),y.appendChild(g)}),y},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(h,m){var y=this,g=[],b=[];h.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(g.push.apply(g,p.addedNodes),b.push.apply(b,p.removedNodes))}),b.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(p);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===y.domNode)&&v.detach()}}),g.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,v){return p===v?0:p.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var v=null;p.nextSibling!=null&&(v=l.find(p.nextSibling));var w=d(p);(w.next!=v||w.next==null)&&(w.parent!=null&&w.parent.removeChild(y),y.insertBefore(w,v||void 0))})},f}(a.default);function d(c){var f=l.find(c);if(f==null)try{f=l.create(c)}catch{f=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(m){f.domNode.appendChild(m)}),c.parentNode&&c.parentNode.replaceChild(f.domNode,c),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){c(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),d=function(c){o(f,c);function f(h){var m=c.call(this,h)||this;return m.attributes=new a.default(m.domNode),m}return f.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},f.prototype.format=function(h,m){var y=u.query(h);y instanceof s.default?this.attributes.attribute(y,m):m&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==m)&&this.replaceWith(h,m)},f.prototype.formats=function(){var h=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(h[this.statics.blotName]=m),h},f.prototype.replaceWith=function(h,m){var y=c.prototype.replaceWith.call(this,h,m);return this.attributes.copy(y),y},f.prototype.update=function(h,m){var y=this;c.prototype.update.call(this,h,m),h.some(function(g){return g.target===y.domNode&&g.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(h,m){var y=c.prototype.wrap.call(this,h,m);return y instanceof f&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},f}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){u(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(c){return!0},d.prototype.index=function(c,f){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(c,f){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(h+=1),[this.parent.domNode,h]},d.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,d,c){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=s(!0,{},d);c||(f=Object.keys(f).reduce(function(m,y){return f[y]!=null&&(m[y]=f[y]),m},{}));for(var h in u)u[h]!==void 0&&d[h]===void 0&&(f[h]=u[h]);return Object.keys(f).length>0?f:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var c=Object.keys(u).concat(Object.keys(d)).reduce(function(f,h){return o(u[h],d[h])||(f[h]=d[h]===void 0?null:d[h]),f},{});return Object.keys(c).length>0?c:void 0},transform:function(u,d,c){if(typeof u!="object")return d;if(typeof d=="object"){if(!c)return d;var f=Object.keys(d).reduce(function(h,m){return u[m]===void 0&&(h[m]=d[m]),h},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var c=this.offset,f=a.length(d);if(u>=f-c?(u=f-c,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var h={};return d.attributes&&(h.attributes=d.attributes),typeof d.retain=="number"?h.retain=u:typeof d.insert=="string"?h.insert=d.insert.substr(c,u):h.insert=d.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,c=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=d,[c].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,g){return g!=null&&y instanceof g}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,g,b,p,v){typeof g=="object"&&(b=g.depth,p=g.prototype,v=g.includeNonEnumerable,g=g.circular);var w=[],x=[],S=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof b>"u"&&(b=1/0);function E(k,A){if(k===null)return null;if(A===0)return k;var C,_;if(typeof k!="object")return k;if(o(k,s))C=new s;else if(o(k,a))C=new a;else if(o(k,l))C=new l(function(B,I){k.then(function($){B(E($,A-1))},function($){I(E($,A-1))})});else if(u.__isArray(k))C=[];else if(u.__isRegExp(k))C=new RegExp(k.source,m(k)),k.lastIndex&&(C.lastIndex=k.lastIndex);else if(u.__isDate(k))C=new Date(k.getTime());else{if(S&&Buffer.isBuffer(k))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(k.length):C=new Buffer(k.length),k.copy(C),C;o(k,Error)?C=Object.create(k):typeof p>"u"?(_=Object.getPrototypeOf(k),C=Object.create(_)):(C=Object.create(p),_=p)}if(g){var O=w.indexOf(k);if(O!=-1)return x[O];w.push(k),x.push(C)}o(k,s)&&k.forEach(function(B,I){var $=E(I,A-1),V=E(B,A-1);C.set($,V)}),o(k,a)&&k.forEach(function(B){var I=E(B,A-1);C.add(I)});for(var M in k){var T;_&&(T=Object.getOwnPropertyDescriptor(_,M)),!(T&&T.set==null)&&(C[M]=E(k[M],A-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(k),M=0;M<N.length;M++){var P=N[M],L=Object.getOwnPropertyDescriptor(k,P);L&&!L.enumerable&&!v||(C[P]=E(k[P],A-1),L.enumerable||Object.defineProperty(C,P,{enumerable:!1}))}if(v)for(var z=Object.getOwnPropertyNames(k),M=0;M<z.length;M++){var j=z[M],L=Object.getOwnPropertyDescriptor(k,j);L&&L.enumerable||(C[j]=E(k[j],A-1),Object.defineProperty(C,j,{enumerable:!1}))}return C}return E(y,b)}u.clonePrototype=function(g){if(g===null)return null;var b=function(){};return b.prototype=g,new b};function d(y){return Object.prototype.toString.call(y)}u.__objToStr=d;function c(y){return typeof y=="object"&&d(y)==="[object Date]"}u.__isDate=c;function f(y){return typeof y=="object"&&d(y)==="[object Array]"}u.__isArray=f;function h(y){return typeof y=="object"&&d(y)==="[object RegExp]"}u.__isRegExp=h;function m(y){var g="";return y.global&&(g+="g"),y.ignoreCase&&(g+="i"),y.multiline&&(g+="m"),g}return u.__getRegExpFlags=m,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(_,O){var M=[],T=!0,N=!1,P=void 0;try{for(var L=_[Symbol.iterator](),z;!(T=(z=L.next()).done)&&(M.push(z.value),!(O&&M.length===O));T=!0);}catch(j){N=!0,P=j}finally{try{!T&&L.return&&L.return()}finally{if(N)throw P}}return M}return function(_,O){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return C(_,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(_,O){for(var M=0;M<O.length;M++){var T=O[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,O,M){return O&&C(_.prototype,O),M&&C(_,M),_}}(),a=function C(_,O,M){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,O);if(T===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:C(N,O,M)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(M)}},l=i(0),u=w(l),d=i(8),c=w(d),f=i(4),h=w(f),m=i(16),y=w(m),g=i(13),b=w(g),p=i(25),v=w(p);function w(C){return C&&C.__esModule?C:{default:C}}function x(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function S(C,_){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:C}function E(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(C,_):C.__proto__=_)}function k(C){return C instanceof h.default||C instanceof f.BlockEmbed}var A=function(C){E(_,C);function _(O,M){x(this,_);var T=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O));return T.emitter=M.emitter,Array.isArray(M.whitelist)&&(T.whitelist=M.whitelist.reduce(function(N,P){return N[P]=!0,N},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return s(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,T){var N=this.line(M),P=o(N,2),L=P[0],z=P[1],j=this.line(M+T),B=o(j,1),I=B[0];if(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,M,T),I!=null&&L!==I&&z>0){if(L instanceof f.BlockEmbed||I instanceof f.BlockEmbed){this.optimize();return}if(L instanceof b.default){var $=L.newlineIndex(L.length(),!0);if($>-1&&(L=L.split($+1),L===I)){this.optimize();return}}else if(I instanceof b.default){var V=I.newlineIndex(0);V>-1&&I.split(V+1)}var G=I.children.head instanceof y.default?null:I.children.head;L.moveChildren(I,G),L.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,T,N,P){this.whitelist!=null&&!this.whitelist[N]||(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,M,T,N,P),this.optimize())}},{key:"insertAt",value:function(M,T,N){if(!(N!=null&&this.whitelist!=null&&!this.whitelist[T])){if(M>=this.length())if(N==null||u.default.query(T,u.default.Scope.BLOCK)==null){var P=u.default.create(this.statics.defaultChild);this.appendChild(P),N==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),P.insertAt(0,T,N)}else{var L=u.default.create(T,N);this.appendChild(L)}else a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,M,T,N);this.optimize()}}},{key:"insertBefore",value:function(M,T){if(M.statics.scope===u.default.Scope.INLINE_BLOT){var N=u.default.create(this.statics.defaultChild);N.appendChild(M),M=N}a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,M,T)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(k,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,N=function P(L,z,j){var B=[],I=j;return L.children.forEachAt(z,j,function($,V,G){k($)?B.push($):$ instanceof u.default.Container&&(B=B.concat(P($,V,I))),I-=G}),B};return N(this,M,T)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,M,T),M.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,M,T))}},{key:"path",value:function(M){return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var T=c.default.sources.USER;typeof M=="string"&&(T=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,T,M),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,T,M)}}}]),_}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[h.default,f.BlockEmbed,v.default],r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(W,Y){var J=[],te=!0,de=!1,be=void 0;try{for(var Ae=W[Symbol.iterator](),Me;!(te=(Me=Ae.next()).done)&&(J.push(Me.value),!(Y&&J.length===Y));te=!0);}catch(Ie){de=!0,be=Ie}finally{try{!te&&Ae.return&&Ae.return()}finally{if(de)throw be}}return J}return function(W,Y){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return H(W,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(W,Y){for(var J=0;J<Y.length;J++){var te=Y[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(W,te.key,te)}}return function(W,Y,J){return Y&&H(W.prototype,Y),J&&H(W,J),W}}(),l=i(21),u=C(l),d=i(11),c=C(d),f=i(3),h=C(f),m=i(2),y=C(m),g=i(20),b=C(g),p=i(0),v=C(p),w=i(5),x=C(w),S=i(10),E=C(S),k=i(9),A=C(k);function C(H){return H&&H.__esModule?H:{default:H}}function _(H,W,Y){return W in H?Object.defineProperty(H,W,{value:Y,enumerable:!0,configurable:!0,writable:!0}):H[W]=Y,H}function O(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}function M(H,W){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:H}function T(H,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);H.prototype=Object.create(W&&W.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(H,W):H.__proto__=W)}var N=(0,E.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",L=function(H){T(W,H),a(W,null,[{key:"match",value:function(J,te){return te=K(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(de){return!!te[de]!==J[de]&&te[de]!==null})?!1:te.key===(J.which||J.keyCode)}}]);function W(Y,J){O(this,W);var te=M(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Y,J));return te.bindings={},Object.keys(te.options.bindings).forEach(function(de){de==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||te.options.bindings[de]&&te.addBinding(te.options.bindings[de])}),te.addBinding({key:W.keys.ENTER,shiftKey:null},$),te.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},j),te.addBinding({key:W.keys.DELETE},{collapsed:!0},B)):(te.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),te.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),te.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},I),te.addBinding({key:W.keys.DELETE},{collapsed:!1},I),te.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),te.listen(),te}return a(W,[{key:"addBinding",value:function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be=K(J);if(be==null||be.key==null)return N.warn("Attempted to add invalid keyboard binding",be);typeof te=="function"&&(te={handler:te}),typeof de=="function"&&(de={handler:de}),be=(0,h.default)(be,te,de),this.bindings[be.key]=this.bindings[be.key]||[],this.bindings[be.key].push(be)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var de=te.which||te.keyCode,be=(J.bindings[de]||[]).filter(function(Ze){return W.match(te,Ze)});if(be.length!==0){var Ae=J.quill.getSelection();if(!(Ae==null||!J.quill.hasFocus())){var Me=J.quill.getLine(Ae.index),Ie=s(Me,2),vt=Ie[0],at=Ie[1],ee=J.quill.getLeaf(Ae.index),ne=s(ee,2),he=ne[0],ue=ne[1],ie=Ae.length===0?[he,ue]:J.quill.getLeaf(Ae.index+Ae.length),Pe=s(ie,2),_e=Pe[0],Oe=Pe[1],Ve=he instanceof v.default.Text?he.value().slice(0,ue):"",or=_e instanceof v.default.Text?_e.value().slice(Oe):"",Je={collapsed:Ae.length===0,empty:Ae.length===0&&vt.length()<=1,format:J.quill.getFormat(Ae),offset:at,prefix:Ve,suffix:or},Rh=be.some(function(Ze){if(Ze.collapsed!=null&&Ze.collapsed!==Je.collapsed||Ze.empty!=null&&Ze.empty!==Je.empty||Ze.offset!=null&&Ze.offset!==Je.offset)return!1;if(Array.isArray(Ze.format)){if(Ze.format.every(function(Cr){return Je.format[Cr]==null}))return!1}else if(o(Ze.format)==="object"&&!Object.keys(Ze.format).every(function(Cr){return Ze.format[Cr]===!0?Je.format[Cr]!=null:Ze.format[Cr]===!1?Je.format[Cr]==null:(0,c.default)(Ze.format[Cr],Je.format[Cr])}))return!1;return Ze.prefix!=null&&!Ze.prefix.test(Je.prefix)||Ze.suffix!=null&&!Ze.suffix.test(Je.suffix)?!1:Ze.handler.call(J,Ae,Je)!==!0});Rh&&te.preventDefault()}}}})}}]),W}(A.default);L.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},L.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:L.keys.TAB,format:["blockquote","indent","list"],handler:function(W,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:L.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:L.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,Y){Y.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:L.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,x.default.sources.USER)}},tab:{key:L.keys.TAB,handler:function(W){this.quill.history.cutoff();var Y=new y.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(Y,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,x.default.sources.SILENT)}},"list empty enter":{key:L.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,Y){this.quill.format("list",!1,x.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:L.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var Y=this.quill.getLine(W.index),J=s(Y,2),te=J[0],de=J[1],be=(0,h.default)({},te.formats(),{list:"checked"}),Ae=new y.default().retain(W.index).insert(`
`,be).retain(te.length()-de-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ae,x.default.sources.USER),this.quill.setSelection(W.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:L.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,Y){var J=this.quill.getLine(W.index),te=s(J,2),de=te[0],be=te[1],Ae=new y.default().retain(W.index).insert(`
`,Y.format).retain(de.length()-be-1).retain(1,{header:null});this.quill.updateContents(Ae,x.default.sources.USER),this.quill.setSelection(W.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,Y){var J=Y.prefix.length,te=this.quill.getLine(W.index),de=s(te,2),be=de[0],Ae=de[1];if(Ae>J)return!0;var Me=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Me="unchecked";break;case"[x]":Me="checked";break;case"-":case"*":Me="bullet";break;default:Me="ordered"}this.quill.insertText(W.index," ",x.default.sources.USER),this.quill.history.cutoff();var Ie=new y.default().retain(W.index-Ae).delete(J+1).retain(be.length()-2-Ae).retain(1,{list:Me});this.quill.updateContents(Ie,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-J,x.default.sources.SILENT)}},"code exit":{key:L.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var Y=this.quill.getLine(W.index),J=s(Y,2),te=J[0],de=J[1],be=new y.default().retain(W.index+te.length()-de-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(be,x.default.sources.USER)}},"embed left":z(L.keys.LEFT,!1),"embed left shift":z(L.keys.LEFT,!0),"embed right":z(L.keys.RIGHT,!1),"embed right shift":z(L.keys.RIGHT,!0)}};function z(H,W){var Y,J=H===L.keys.LEFT?"prefix":"suffix";return Y={key:H,shiftKey:W,altKey:null},_(Y,J,/^$/),_(Y,"handler",function(de){var be=de.index;H===L.keys.RIGHT&&(be+=de.length+1);var Ae=this.quill.getLeaf(be),Me=s(Ae,1),Ie=Me[0];return Ie instanceof v.default.Embed?(H===L.keys.LEFT?W?this.quill.setSelection(de.index-1,de.length+1,x.default.sources.USER):this.quill.setSelection(de.index-1,x.default.sources.USER):W?this.quill.setSelection(de.index,de.length+1,x.default.sources.USER):this.quill.setSelection(de.index+de.length+1,x.default.sources.USER),!1):!0}),Y}function j(H,W){if(!(H.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(H.index),J=s(Y,1),te=J[0],de={};if(W.offset===0){var be=this.quill.getLine(H.index-1),Ae=s(be,1),Me=Ae[0];if(Me!=null&&Me.length()>1){var Ie=te.formats(),vt=this.quill.getFormat(H.index-1,1);de=b.default.attributes.diff(Ie,vt)||{}}}var at=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(H.index-at,at,x.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(H.index-at,at,de,x.default.sources.USER),this.quill.focus()}}function B(H,W){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(H.index>=this.quill.getLength()-Y)){var J={},te=0,de=this.quill.getLine(H.index),be=s(de,1),Ae=be[0];if(W.offset>=Ae.length()-1){var Me=this.quill.getLine(H.index+1),Ie=s(Me,1),vt=Ie[0];if(vt){var at=Ae.formats(),ee=this.quill.getFormat(H.index,1);J=b.default.attributes.diff(at,ee)||{},te=vt.length()}}this.quill.deleteText(H.index,Y,x.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(H.index+te-1,Y,J,x.default.sources.USER)}}function I(H){var W=this.quill.getLines(H),Y={};if(W.length>1){var J=W[0].formats(),te=W[W.length-1].formats();Y=b.default.attributes.diff(te,J)||{}}this.quill.deleteText(H,x.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(H.index,1,Y,x.default.sources.USER),this.quill.setSelection(H.index,x.default.sources.SILENT),this.quill.focus()}function $(H,W){var Y=this;H.length>0&&this.quill.scroll.deleteAt(H.index,H.length);var J=Object.keys(W.format).reduce(function(te,de){return v.default.query(de,v.default.Scope.BLOCK)&&!Array.isArray(W.format[de])&&(te[de]=W.format[de]),te},{});this.quill.insertText(H.index,`
`,J,x.default.sources.USER),this.quill.setSelection(H.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(te){J[te]==null&&(Array.isArray(W.format[te])||te!=="link"&&Y.quill.format(te,W.format[te],x.default.sources.USER))})}function V(H){return{key:L.keys.TAB,shiftKey:!H,format:{"code-block":!0},handler:function(Y){var J=v.default.query("code-block"),te=Y.index,de=Y.length,be=this.quill.scroll.descendant(J,te),Ae=s(be,2),Me=Ae[0],Ie=Ae[1];if(Me!=null){var vt=this.quill.getIndex(Me),at=Me.newlineIndex(Ie,!0)+1,ee=Me.newlineIndex(vt+Ie+de),ne=Me.domNode.textContent.slice(at,ee).split(`
`);Ie=0,ne.forEach(function(he,ue){H?(Me.insertAt(at+Ie,J.TAB),Ie+=J.TAB.length,ue===0?te+=J.TAB.length:de+=J.TAB.length):he.startsWith(J.TAB)&&(Me.deleteAt(at+Ie,J.TAB.length),Ie-=J.TAB.length,ue===0?te-=J.TAB.length:de-=J.TAB.length),Ie+=he.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(te,de,x.default.sources.SILENT)}}}}function G(H){return{key:H[0].toUpperCase(),shortKey:!0,handler:function(Y,J){this.quill.format(H,!J.format[H],x.default.sources.USER)}}}function K(H){if(typeof H=="string"||typeof H=="number")return K({key:H});if((typeof H>"u"?"undefined":o(H))==="object"&&(H=(0,u.default)(H,!1)),typeof H.key=="string")if(L.keys[H.key.toUpperCase()]!=null)H.key=L.keys[H.key.toUpperCase()];else if(H.key.length===1)H.key=H.key.toUpperCase().charCodeAt(0);else return null;return H.shortKey&&(H[P]=H.shortKey,delete H.shortKey),H}r.default=L,r.SHORTKEY=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(p,v){var w=[],x=!0,S=!1,E=void 0;try{for(var k=p[Symbol.iterator](),A;!(x=(A=k.next()).done)&&(w.push(A.value),!(v&&w.length===v));x=!0);}catch(C){S=!0,E=C}finally{try{!x&&k.return&&k.return()}finally{if(S)throw E}}return w}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return b(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(p,v,w){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,v,w)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(w)}},a=function(){function b(p,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,w){return v&&b(p.prototype,v),w&&b(p,w),p}}(),l=i(0),u=f(l),d=i(7),c=f(d);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function m(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function y(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var g=function(b){y(p,b),a(p,null,[{key:"value",value:function(){}}]);function p(v,w){h(this,p);var x=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return x.selection=w,x.textNode=document.createTextNode(p.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,x){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,x);for(var S=this,E=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)E+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=p.CONTENTS.length,S.optimize(),S.formatAt(E,p.CONTENTS.length,w,x),this._length=0)}},{key:"index",value:function(w,x){return w===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,x=this.selection.getNativeRange(),S=void 0,E=void 0,k=void 0;if(x!=null&&x.start.node===w&&x.end.node===w){var A=[w,x.start.offset,x.end.offset];S=A[0],E=A[1],k=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var C=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof c.default?(S=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=p.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var _=[E,k].map(function(M){return Math.max(0,Math.min(S.data.length,M-1))}),O=o(_,2);return E=O[0],k=O[1],{startNode:S,startOffset:E,endNode:S,endOffset:k}}}}},{key:"update",value:function(w,x){var S=this;if(w.some(function(k){return k.type==="characterData"&&k.target===S.textNode})){var E=this.restore();E&&(x.range=E)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(){return d(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function g(b,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,v){return p&&g(b.prototype,p),v&&g(b,v),b}}(),s=function g(b,p,v){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:g(x,p,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function c(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function f(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){f(b,g);function b(){return d(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"value",value:function(v){var w=s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,v);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):w}}]),b}(l.default.Attributor.Style),m=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=m,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(g,b){for(var p=0;p<b.length;p++){var v=b[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,b,p){return b&&y(g.prototype,b),p&&y(g,p),g}}(),s=function y(g,b,p){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,b);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:y(w,b,p)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function c(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function f(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var h=function(y){f(g,y);function g(){return d(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(p,v){if(p!==this.statics.blotName||!v)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,p,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(p){var v=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,p);return p=this.sanitize(p),v.setAttribute("href",p),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return m(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),g}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(y,g){var b=document.createElement("a");b.href=y;var p=b.href.slice(0,b.href.indexOf(":"));return g.indexOf(p)>-1}r.default=h,r.sanitize=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s=function(){function g(b,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,v){return p&&g(b.prototype,p),v&&g(b,v),b}}(),a=i(23),l=c(a),u=i(107),d=c(u);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var h=0;function m(g,b){g.setAttribute(b,g.getAttribute(b)!=="true")}var y=function(){function g(b){var p=this;f(this,g),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var v=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),p.hasAttribute("value")&&w.setAttribute("data-value",p.getAttribute("value")),p.textContent&&w.setAttribute("data-label",p.textContent),w.addEventListener("click",function(){v.selectItem(w,!0)}),w.addEventListener("keydown",function(x){switch(x.keyCode){case l.default.keys.ENTER:v.selectItem(w,!0),x.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),x.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=d.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(w){var x=p.buildItem(w);v.appendChild(x),w.selected===!0&&p.selectItem(x)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(v){p.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(p!==w&&(w!=null&&w.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var w=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),g}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=N(o),a=i(5),l=N(a),u=i(4),d=N(u),c=i(16),f=N(c),h=i(25),m=N(h),y=i(24),g=N(y),b=i(35),p=N(b),v=i(6),w=N(v),x=i(22),S=N(x),E=i(7),k=N(E),A=i(55),C=N(A),_=i(42),O=N(_),M=i(23),T=N(M);function N(P){return P&&P.__esModule?P:{default:P}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":m.default,"blots/cursor":g.default,"blots/embed":p.default,"blots/inline":w.default,"blots/scroll":S.default,"blots/text":k.default,"modules/clipboard":C.default,"modules/history":O.default,"modules/keyboard":T.default}),s.default.register(d.default,f.default,g.default,w.default,S.default,k.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},a.prototype.formatAt=function(l,u,d,c){var f=this.isolate(l,u);if(o.query(d,o.Scope.BLOT)!=null&&c)f.wrap(d,c);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);f.wrap(h),h.format(d,c)}},a.prototype.insertAt=function(l,u,d){var c=d==null?o.create("text",u):o.create(u,d),f=this.split(l);this.parent.insertBefore(c,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return d.replace(this),d},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function d(c){this.attributes={},this.domNode=c,this.build()}return d.prototype.attribute=function(c,f){f?c.add(this.domNode,f)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},d.prototype.build=function(){var c=this;this.attributes={};var f=o.default.keys(this.domNode),h=s.default.keys(this.domNode),m=a.default.keys(this.domNode);f.concat(h).concat(m).forEach(function(y){var g=l.query(y,l.Scope.ATTRIBUTE);g instanceof o.default&&(c.attributes[g.attrName]=g)})},d.prototype.copy=function(c){var f=this;Object.keys(this.attributes).forEach(function(h){var m=f.attributes[h].value(f.domNode);c.format(h,m)})},d.prototype.move=function(c){var f=this;this.copy(c),Object.keys(this.attributes).forEach(function(h){f.attributes[h].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(f,h){return f[h]=c.attributes[h].value(c.domNode),f},{})},d}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){u(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,d){var c=u.getAttribute("class")||"";return c.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(c,f){return this.canAdd(c,f)?(this.remove(c),c.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(c){var f=a(c,this.keyName);f.forEach(function(h){c.classList.remove(h)}),c.classList.length===0&&c.removeAttribute("class")},d.prototype.value=function(c){var f=a(c,this.keyName)[0]||"",h=f.slice(this.keyName.length+1);return this.canAdd(c,h)?h:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){u(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var d=u.split("-"),c=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+c}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(f){var h=f.split(":");return h[0].trim()})},d.prototype.add=function(c,f){return this.canAdd(c,f)?(c.style[a(this.keyName)]=f,!0):!1},d.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},d.prototype.value=function(c){var f=c.style[a(this.keyName)];return this.canAdd(c,f)?f:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&l(u.prototype,d),c&&l(u,c),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){s(this,l),this.quill=u,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(c){d.modules[c]==null&&d.addModule(c)})}},{key:"addModule",value:function(d){var c=this.quill.constructor.import("modules/"+d);return this.modules[d]=new c(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(p,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,w){return v&&b(p.prototype,v),w&&b(p,w),p}}(),s=function b(p,v,w){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,v,w)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(w)}},a=i(0),l=c(a),u=i(7),d=c(u);function c(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function h(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function m(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var y="\uFEFF",g=function(b){m(p,b);function p(v){f(this,p);var w=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(x){w.contentNode.appendChild(x)}),w.leftGuard=document.createTextNode(y),w.rightGuard=document.createTextNode(y),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return o(p,[{key:"index",value:function(w,x){return w===this.leftGuard?0:w===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,x)}},{key:"restore",value:function(w){var x=void 0,S=void 0,E=w.data.split(y).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var k=this.prev.length();this.prev.insertAt(k,E),x={startNode:this.prev.domNode,startOffset:k+E.length}}else S=document.createTextNode(E),this.parent.insertBefore(l.default.create(S),this),x={startNode:S,startOffset:E.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,E),x={startNode:this.next.domNode,startOffset:E.length}):(S=document.createTextNode(E),this.parent.insertBefore(l.default.create(S),this.next),x={startNode:S,startOffset:E.length}));return w.data=y,x}},{key:"update",value:function(w,x){var S=this;w.forEach(function(E){if(E.type==="characterData"&&(E.target===S.leftGuard||E.target===S.rightGuard)){var k=S.restore(E.target);k&&(x.range=k)}})}}]),p}(l.default.Embed);r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),c=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),c=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function b(p,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,w){return v&&b(p.prototype,v),w&&b(p,w),p}}(),s=function b(p,v,w){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,v,w)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(w)}},a=i(0),l=u(a);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function c(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function f(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new l.default.Attributor.Class("font","ql-font",h),y=function(b){f(p,b);function p(){return d(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(w){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),g=new y("font","font-family",h);r.FontStyle=g,r.FontClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function v(w,x){for(var S=0;S<x.length;S++){var E=x[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,x,S){return x&&v(w.prototype,x),S&&v(w,S),w}}(),s=i(0),a=f(s),l=i(5),u=f(l),d=i(9),c=f(d);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function y(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var g=function(v){y(w,v);function w(x,S){h(this,w);var E=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,S));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(u.default.events.EDITOR_CHANGE,function(k,A,C,_){k!==u.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||_===u.default.sources.USER?E.record(A,C):E.transform(A))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return o(w,[{key:"change",value:function(S,E){if(this.stack[S].length!==0){var k=this.stack[S].pop();this.stack[E].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[S],u.default.sources.USER),this.ignoreChange=!1;var A=p(k[S]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,E){if(S.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(E),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var C=this.stack.undo.pop();k=k.compose(C.undo),S=C.redo.compose(S)}else this.lastRecorded=A;this.stack.undo.push({redo:S,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(c.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(v){var w=v.ops[v.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(x){return a.default.query(x,a.default.Scope.BLOCK)!=null}):!1}function p(v){var w=v.reduce(function(S,E){return S+=E.delete||0,S},0),x=v.length()-w;return b(v)&&(x-=1),x}r.default=g,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function $(V,G){for(var K=0;K<G.length;K++){var H=G[K];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,G,K){return G&&$(V.prototype,G),K&&$(V,K),V}}(),s=function $(V,G,K){V===null&&(V=Function.prototype);var H=Object.getOwnPropertyDescriptor(V,G);if(H===void 0){var W=Object.getPrototypeOf(V);return W===null?void 0:$(W,G,K)}else{if("value"in H)return H.value;var Y=H.get;return Y===void 0?void 0:Y.call(K)}},a=i(3),l=A(a),u=i(2),d=A(u),c=i(8),f=A(c),h=i(23),m=A(h),y=i(34),g=A(y),b=i(59),p=A(b),v=i(60),w=A(v),x=i(28),S=A(x),E=i(61),k=A(E);function A($){return $&&$.__esModule?$:{default:$}}function C($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")}function _($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:$}function O($,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);$.prototype=Object.create(V&&V.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf($,V):$.__proto__=V)}var M=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],P=["1","2","3",!1],L=["small",!1,"large","huge"],z=function($){O(V,$);function V(G,K){C(this,V);var H=_(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,G,K)),W=function Y(J){if(!document.body.contains(G.root))return document.body.removeEventListener("click",Y);H.tooltip!=null&&!H.tooltip.root.contains(J.target)&&document.activeElement!==H.tooltip.textbox&&!H.quill.hasFocus()&&H.tooltip.hide(),H.pickers!=null&&H.pickers.forEach(function(te){te.container.contains(J.target)||te.close()})};return G.emitter.listenDOM("click",document.body,W),H}return o(V,[{key:"addModule",value:function(K){var H=s(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(H),H}},{key:"buildButtons",value:function(K,H){K.forEach(function(W){var Y=W.getAttribute("class")||"";Y.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),H[J]!=null))if(J==="direction")W.innerHTML=H[J][""]+H[J].rtl;else if(typeof H[J]=="string")W.innerHTML=H[J];else{var te=W.value||"";te!=null&&H[J][te]&&(W.innerHTML=H[J][te])}})})}},{key:"buildPickers",value:function(K,H){var W=this;this.pickers=K.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&I(J,M),new w.default(J,H.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var te=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&I(J,T,te==="background"?"#ffffff":"#000000"),new p.default(J,H[te])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?I(J,N):J.classList.contains("ql-header")?I(J,P):J.classList.contains("ql-size")&&I(J,L)),new S.default(J)});var Y=function(){W.pickers.forEach(function(te){te.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Y)}}]),V}(g.default);z.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var K=new FileReader;K.onload=function(H){var W=V.quill.getSelection(!0);V.quill.updateContents(new d.default().retain(W.index).delete(W.length).insert({image:H.target.result}),f.default.sources.USER),V.quill.setSelection(W.index+1,f.default.sources.SILENT),G.value=""},K.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function($){O(V,$);function V(G,K){C(this,V);var H=_(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,G,K));return H.textbox=H.root.querySelector('input[type="text"]'),H.listen(),H}return o(V,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(H){m.default.match(H,"enter")?(K.save(),H.preventDefault()):m.default.match(H,"escape")&&(K.cancel(),H.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),H!=null?this.textbox.value=H:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var H=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,f.default.sources.USER)),this.quill.root.scrollTop=H;break}case"video":K=B(K);case"formula":{if(!K)break;var W=this.quill.getSelection(!0);if(W!=null){var Y=W.index+W.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),K,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",f.default.sources.USER),this.quill.setSelection(Y+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(k.default);function B($){var V=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":$}function I($,V){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(K){var H=document.createElement("option");K===G?H.setAttribute("selected","selected"):H.setAttribute("value",K),$.appendChild(H)})}r.BaseTooltip=j,r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var c=u.length();if(a<c||l&&a===c&&(u.next==null||u.next.length()!==0))return[u,a];a-=c}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var d=this.find(a),c=d[0],f=d[1],h,m=a-f,y=this.iterator(c);(h=y())&&m<a+l;){var g=h.length();a>m?u(h,a-m,Math.min(l,m+g-a)):u(h,0,Math.min(g,a+l-m)),m+=g}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,d=this.iterator();u=d();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){c(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(c){o(f,c);function f(h){var m=c.call(this,h)||this;return m.scroll=m,m.observer=new MutationObserver(function(y){m.update(y)}),m.observer.observe(m.domNode,l),m.attach(),m}return f.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(h,m){this.update(),h===0&&m===this.length()?this.children.forEach(function(y){y.remove()}):c.prototype.deleteAt.call(this,h,m)},f.prototype.formatAt=function(h,m,y,g){this.update(),c.prototype.formatAt.call(this,h,m,y,g)},f.prototype.insertAt=function(h,m,y){this.update(),c.prototype.insertAt.call(this,h,m,y)},f.prototype.optimize=function(h,m){var y=this;h===void 0&&(h=[]),m===void 0&&(m={}),c.prototype.optimize.call(this,m);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)h.push(g.pop());for(var b=function(x,S){S===void 0&&(S=!0),!(x==null||x===y)&&x.domNode.parentNode!=null&&(x.domNode[a.DATA_KEY].mutations==null&&(x.domNode[a.DATA_KEY].mutations=[]),S&&b(x.parent))},p=function(x){x.domNode[a.DATA_KEY]==null||x.domNode[a.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(p),x.optimize(m))},v=h,w=0;v.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(x){var S=a.find(x.target,!0);S!=null&&(S.domNode===x.target&&(x.type==="childList"?(b(a.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(E){var k=a.find(E,!1);b(k,!1),k instanceof s.default&&k.children.forEach(function(A){b(A,!1)})})):x.type==="attributes"&&b(S.prev)),b(S))}),this.children.forEach(p),v=[].slice.call(this.observer.takeRecords()),g=v.slice();g.length>0;)h.push(g.pop())}},f.prototype.update=function(h,m){var y=this;m===void 0&&(m={}),h=h||this.observer.takeRecords(),h.map(function(g){var b=a.find(g.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[g],b):(b.domNode[a.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===y||g.domNode[a.DATA_KEY]==null||g.update(g.domNode[a.DATA_KEY].mutations||[],m)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,m),this.optimize(h,m)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){d(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,c){if(Object.keys(d).length!==Object.keys(c).length)return!1;for(var f in d)if(d[f]!==c[f])return!1;return!0}var u=function(d){o(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.formats=function(f){if(f.tagName!==c.tagName)return d.formats.call(this,f)},c.prototype.format=function(f,h){var m=this;f===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(c.blotName,!0)),m.attributes.copy(y)}),this.unwrap()):d.prototype.format.call(this,f,h)},c.prototype.formatAt=function(f,h,m,y){if(this.formats()[m]!=null||a.query(m,a.Scope.ATTRIBUTE)){var g=this.isolate(f,h);g.format(m,y)}else d.prototype.formatAt.call(this,f,h,m,y)},c.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var m=this.next;m instanceof c&&m.prev===this&&l(h,m.formats())&&(m.moveChildren(this),m.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){u(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(c){var f=a.query(d.blotName).tagName;if(c.tagName!==f)return u.formats.call(this,c)},d.prototype.format=function(c,f){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!f?this.replaceWith(d.blotName):u.prototype.format.call(this,c,f))},d.prototype.formatAt=function(c,f,h,m){a.query(h,a.Scope.BLOCK)!=null?this.format(h,m):u.prototype.formatAt.call(this,c,f,h,m)},d.prototype.insertAt=function(c,f,h){if(h==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,c,f,h);else{var m=this.split(c),y=a.create(f,h);m.parent.insertBefore(y,m)}},d.prototype.update=function(c,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,c,f)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){l(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,c){l.prototype.formatAt.call(this,0,this.length(),d,c)},u.prototype.formatAt=function(d,c,f,h){d===0&&c===this.length()?this.format(f,h):l.prototype.formatAt.call(this,d,c,f,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){u(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(d,u);function d(c){var f=u.call(this,c)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(c){return document.createTextNode(c)},d.value=function(c){var f=c.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(c,f){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+f)},d.prototype.index=function(c,f){return this.domNode===c?f:-1},d.prototype.insertAt=function(c,f,h){h==null?(this.text=this.text.slice(0,c)+f+this.text.slice(c),this.domNode.data=this.text):u.prototype.insertAt.call(this,c,f,h)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(c){u.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(c,f){return[this.domNode,c]},d.prototype.split=function(c,f){if(f===void 0&&(f=!1),!f){if(c===0)return this;if(c===this.length())return this.next}var h=a.create(this.domNode.splitText(c));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},d.prototype.update=function(c,f){var h=this;c.some(function(m){return m.type==="characterData"&&m.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var d=u.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,c=arguments[1],f,h=0;h<d;h++)if(f=u[h],l.call(c,f,h,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(w,x,S){if(w==x)return w?[[s,w]]:[];(S<0||w.length<S)&&(S=null);var E=c(w,x),k=w.substring(0,E);w=w.substring(E),x=x.substring(E),E=f(w,x);var A=w.substring(w.length-E);w=w.substring(0,w.length-E),x=x.substring(0,x.length-E);var C=l(w,x);return k&&C.unshift([s,k]),A&&C.push([s,A]),m(C),S!=null&&(C=b(C,S)),C=p(C),C}function l(w,x){var S;if(!w)return[[o,x]];if(!x)return[[i,w]];var E=w.length>x.length?w:x,k=w.length>x.length?x:w,A=E.indexOf(k);if(A!=-1)return S=[[o,E.substring(0,A)],[s,k],[o,E.substring(A+k.length)]],w.length>x.length&&(S[0][0]=S[2][0]=i),S;if(k.length==1)return[[i,w],[o,x]];var C=h(w,x);if(C){var _=C[0],O=C[1],M=C[2],T=C[3],N=C[4],P=a(_,M),L=a(O,T);return P.concat([[s,N]],L)}return u(w,x)}function u(w,x){for(var S=w.length,E=x.length,k=Math.ceil((S+E)/2),A=k,C=2*k,_=new Array(C),O=new Array(C),M=0;M<C;M++)_[M]=-1,O[M]=-1;_[A+1]=0,O[A+1]=0;for(var T=S-E,N=T%2!=0,P=0,L=0,z=0,j=0,B=0;B<k;B++){for(var I=-B+P;I<=B-L;I+=2){var $=A+I,V;I==-B||I!=B&&_[$-1]<_[$+1]?V=_[$+1]:V=_[$-1]+1;for(var G=V-I;V<S&&G<E&&w.charAt(V)==x.charAt(G);)V++,G++;if(_[$]=V,V>S)L+=2;else if(G>E)P+=2;else if(N){var K=A+T-I;if(K>=0&&K<C&&O[K]!=-1){var H=S-O[K];if(V>=H)return d(w,x,V,G)}}}for(var W=-B+z;W<=B-j;W+=2){var K=A+W,H;W==-B||W!=B&&O[K-1]<O[K+1]?H=O[K+1]:H=O[K-1]+1;for(var Y=H-W;H<S&&Y<E&&w.charAt(S-H-1)==x.charAt(E-Y-1);)H++,Y++;if(O[K]=H,H>S)j+=2;else if(Y>E)z+=2;else if(!N){var $=A+T-W;if($>=0&&$<C&&_[$]!=-1){var V=_[$],G=A+V-$;if(H=S-H,V>=H)return d(w,x,V,G)}}}}return[[i,w],[o,x]]}function d(w,x,S,E){var k=w.substring(0,S),A=x.substring(0,E),C=w.substring(S),_=x.substring(E),O=a(k,A),M=a(C,_);return O.concat(M)}function c(w,x){if(!w||!x||w.charAt(0)!=x.charAt(0))return 0;for(var S=0,E=Math.min(w.length,x.length),k=E,A=0;S<k;)w.substring(A,k)==x.substring(A,k)?(S=k,A=S):E=k,k=Math.floor((E-S)/2+S);return k}function f(w,x){if(!w||!x||w.charAt(w.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,E=Math.min(w.length,x.length),k=E,A=0;S<k;)w.substring(w.length-k,w.length-A)==x.substring(x.length-k,x.length-A)?(S=k,A=S):E=k,k=Math.floor((E-S)/2+S);return k}function h(w,x){var S=w.length>x.length?w:x,E=w.length>x.length?x:w;if(S.length<4||E.length*2<S.length)return null;function k(L,z,j){for(var B=L.substring(j,j+Math.floor(L.length/4)),I=-1,$="",V,G,K,H;(I=z.indexOf(B,I+1))!=-1;){var W=c(L.substring(j),z.substring(I)),Y=f(L.substring(0,j),z.substring(0,I));$.length<Y+W&&($=z.substring(I-Y,I)+z.substring(I,I+W),V=L.substring(0,j-Y),G=L.substring(j+W),K=z.substring(0,I-Y),H=z.substring(I+W))}return $.length*2>=L.length?[V,G,K,H,$]:null}var A=k(S,E,Math.ceil(S.length/4)),C=k(S,E,Math.ceil(S.length/2)),_;if(!A&&!C)return null;C?A?_=A[4].length>C[4].length?A:C:_=C:_=A;var O,M,T,N;w.length>x.length?(O=_[0],M=_[1],T=_[2],N=_[3]):(T=_[0],N=_[1],O=_[2],M=_[3]);var P=_[4];return[O,M,T,N,P]}function m(w){w.push([s,""]);for(var x=0,S=0,E=0,k="",A="",C;x<w.length;)switch(w[x][0]){case o:E++,A+=w[x][1],x++;break;case i:S++,k+=w[x][1],x++;break;case s:S+E>1?(S!==0&&E!==0&&(C=c(A,k),C!==0&&(x-S-E>0&&w[x-S-E-1][0]==s?w[x-S-E-1][1]+=A.substring(0,C):(w.splice(0,0,[s,A.substring(0,C)]),x++),A=A.substring(C),k=k.substring(C)),C=f(A,k),C!==0&&(w[x][1]=A.substring(A.length-C)+w[x][1],A=A.substring(0,A.length-C),k=k.substring(0,k.length-C))),S===0?w.splice(x-E,S+E,[o,A]):E===0?w.splice(x-S,S+E,[i,k]):w.splice(x-S-E,S+E,[i,k],[o,A]),x=x-S-E+(S?1:0)+(E?1:0)+1):x!==0&&w[x-1][0]==s?(w[x-1][1]+=w[x][1],w.splice(x,1)):x++,E=0,S=0,k="",A="";break}w[w.length-1][1]===""&&w.pop();var _=!1;for(x=1;x<w.length-1;)w[x-1][0]==s&&w[x+1][0]==s&&(w[x][1].substring(w[x][1].length-w[x-1][1].length)==w[x-1][1]?(w[x][1]=w[x-1][1]+w[x][1].substring(0,w[x][1].length-w[x-1][1].length),w[x+1][1]=w[x-1][1]+w[x+1][1],w.splice(x-1,1),_=!0):w[x][1].substring(0,w[x+1][1].length)==w[x+1][1]&&(w[x-1][1]+=w[x+1][1],w[x][1]=w[x][1].substring(w[x+1][1].length)+w[x+1][1],w.splice(x+1,1),_=!0)),x++;_&&m(w)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function g(w,x){if(x===0)return[s,w];for(var S=0,E=0;E<w.length;E++){var k=w[E];if(k[0]===i||k[0]===s){var A=S+k[1].length;if(x===A)return[E+1,w];if(x<A){w=w.slice();var C=x-S,_=[k[0],k[1].slice(0,C)],O=[k[0],k[1].slice(C)];return w.splice(E,1,_,O),[E+1,w]}else S=A}}throw new Error("cursor_pos is out of bounds!")}function b(w,x){var S=g(w,x),E=S[1],k=S[0],A=E[k],C=E[k+1];if(A==null)return w;if(A[0]!==s)return w;if(C!=null&&A[1]+C[1]===C[1]+A[1])return E.splice(k,2,C,A),v(E,k,2);if(C!=null&&C[1].indexOf(A[1])===0){E.splice(k,2,[C[0],A[1]],[0,A[1]]);var _=C[1].slice(A[1].length);return _.length>0&&E.splice(k+2,0,[C[0],_]),v(E,k,3)}else return w}function p(w){for(var x=!1,S=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},E=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},k=2;k<w.length;k+=1)w[k-2][0]===s&&E(w[k-2][1])&&w[k-1][0]===i&&S(w[k-1][1])&&w[k][0]===o&&S(w[k][1])&&(x=!0,w[k-1][1]=w[k-2][1].slice(-1)+w[k-1][1],w[k][1]=w[k-2][1].slice(-1)+w[k][1],w[k-2][1]=w[k-2][1].slice(0,-1));if(!x)return w;for(var A=[],k=0;k<w.length;k+=1)w[k][1].length>0&&A.push(w[k]);return A}function v(w,x,S){for(var E=x+S-1;E>=0&&E>=x-1;E--)if(E+1<w.length){var k=w[E],A=w[E+1];k[0]===A[1]&&w.splice(E,2,[k[0],k[1]+A[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,d,c){this.fn=u,this.context=d,this.once=c||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],c,f;if(this._eventsCount===0)return d;for(f in c=this._events)i.call(c,f)&&d.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(c)):d},l.prototype.listeners=function(d,c){var f=o?o+d:d,h=this._events[f];if(c)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var m=0,y=h.length,g=new Array(y);m<y;m++)g[m]=h[m].fn;return g},l.prototype.emit=function(d,c,f,h,m,y){var g=o?o+d:d;if(!this._events[g])return!1;var b=this._events[g],p=arguments.length,v,w;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),p){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,m),!0;case 6:return b.fn.call(b.context,c,f,h,m,y),!0}for(w=1,v=new Array(p-1);w<p;w++)v[w-1]=arguments[w];b.fn.apply(b.context,v)}else{var x=b.length,S;for(w=0;w<x;w++)switch(b[w].once&&this.removeListener(d,b[w].fn,void 0,!0),p){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,c);break;case 3:b[w].fn.call(b[w].context,c,f);break;case 4:b[w].fn.call(b[w].context,c,f,h);break;default:if(!v)for(S=1,v=new Array(p-1);S<p;S++)v[S-1]=arguments[S];b[w].fn.apply(b[w].context,v)}}return!0},l.prototype.on=function(d,c,f){var h=new a(c,f||this),m=o?o+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.once=function(d,c,f){var h=new a(c,f||this,!0),m=o?o+d:d;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.removeListener=function(d,c,f,h){var m=o?o+d:d;if(!this._events[m])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var y=this._events[m];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var g=0,b=[],p=y.length;g<p;g++)(y[g].fn!==c||h&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[m]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},l.prototype.removeAllListeners=function(d){var c;return d?(c=o?o+d:d,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s=function(){function ee(ne,he){var ue=[],ie=!0,Pe=!1,_e=void 0;try{for(var Oe=ne[Symbol.iterator](),Ve;!(ie=(Ve=Oe.next()).done)&&(ue.push(Ve.value),!(he&&ue.length===he));ie=!0);}catch(or){Pe=!0,_e=or}finally{try{!ie&&Oe.return&&Oe.return()}finally{if(Pe)throw _e}}return ue}return function(ne,he){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return ee(ne,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(ne,he){for(var ue=0;ue<he.length;ue++){var ie=he[ue];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(ne,ie.key,ie)}}return function(ne,he,ue){return he&&ee(ne.prototype,he),ue&&ee(ne,ue),ne}}(),l=i(3),u=O(l),d=i(2),c=O(d),f=i(0),h=O(f),m=i(5),y=O(m),g=i(10),b=O(g),p=i(9),v=O(p),w=i(36),x=i(37),S=i(13),E=O(S),k=i(26),A=i(38),C=i(39),_=i(40);function O(ee){return ee&&ee.__esModule?ee:{default:ee}}function M(ee,ne,he){return ne in ee?Object.defineProperty(ee,ne,{value:he,enumerable:!0,configurable:!0,writable:!0}):ee[ne]=he,ee}function T(ee,ne){if(!(ee instanceof ne))throw new TypeError("Cannot call a class as a function")}function N(ee,ne){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:ee}function P(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);ee.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ne):ee.__proto__=ne)}var L=(0,b.default)("quill:clipboard"),z="__ql-matcher",j=[[Node.TEXT_NODE,at],[Node.TEXT_NODE,Me],["br",de],[Node.ELEMENT_NODE,Me],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,vt],["li",Ae],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",be]],B=[w.AlignAttribute,A.DirectionAttribute].reduce(function(ee,ne){return ee[ne.keyName]=ne,ee},{}),I=[w.AlignStyle,x.BackgroundStyle,k.ColorStyle,A.DirectionStyle,C.FontStyle,_.SizeStyle].reduce(function(ee,ne){return ee[ne.keyName]=ne,ee},{}),$=function(ee){P(ne,ee);function ne(he,ue){T(this,ne);var ie=N(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,he,ue));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],j.concat(ie.options.matchers).forEach(function(Pe){var _e=s(Pe,2),Oe=_e[0],Ve=_e[1];!ue.matchVisual&&Ve===Ie||ie.addMatcher(Oe,Ve)}),ie}return a(ne,[{key:"addMatcher",value:function(ue,ie){this.matchers.push([ue,ie])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[E.default.blotName]){var Pe=this.container.innerText;return this.container.innerHTML="",new c.default().insert(Pe,M({},E.default.blotName,ie[E.default.blotName]))}var _e=this.prepareMatching(),Oe=s(_e,2),Ve=Oe[0],or=Oe[1],Je=W(this.container,Ve,or);return K(Je,`
`)&&Je.ops[Je.ops.length-1].attributes==null&&(Je=Je.compose(new c.default().retain(Je.length()-1).delete(1))),L.log("convert",this.container.innerHTML,Je),this.container.innerHTML="",Je}},{key:"dangerouslyPasteHTML",value:function(ue,ie){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),ie),this.quill.setSelection(0,y.default.sources.SILENT);else{var _e=this.convert(ie);this.quill.updateContents(new c.default().retain(ue).concat(_e),Pe),this.quill.setSelection(ue+_e.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var ie=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var Pe=this.quill.getSelection(),_e=new c.default().retain(Pe.index),Oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){_e=_e.concat(ie.convert()).delete(Pe.length),ie.quill.updateContents(_e,y.default.sources.USER),ie.quill.setSelection(_e.length()-Pe.length,y.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=Oe,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,ie=[],Pe=[];return this.matchers.forEach(function(_e){var Oe=s(_e,2),Ve=Oe[0],or=Oe[1];switch(Ve){case Node.TEXT_NODE:Pe.push(or);break;case Node.ELEMENT_NODE:ie.push(or);break;default:[].forEach.call(ue.container.querySelectorAll(Ve),function(Je){Je[z]=Je[z]||[],Je[z].push(or)});break}}),[ie,Pe]}}]),ne}(v.default);$.DEFAULTS={matchers:[],matchVisual:!0};function V(ee,ne,he){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(ue,ie){return V(ue,ie,ne[ie])},ee):ee.reduce(function(ue,ie){return ie.attributes&&ie.attributes[ne]?ue.push(ie):ue.insert(ie.insert,(0,u.default)({},M({},ne,he),ie.attributes))},new c.default)}function G(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return ee[ne]||(ee[ne]=window.getComputedStyle(ee))}function K(ee,ne){for(var he="",ue=ee.ops.length-1;ue>=0&&he.length<ne.length;--ue){var ie=ee.ops[ue];if(typeof ie.insert!="string")break;he=ie.insert+he}return he.slice(-1*ne.length)===ne}function H(ee){if(ee.childNodes.length===0)return!1;var ne=G(ee);return["block","list-item"].indexOf(ne.display)>-1}function W(ee,ne,he){return ee.nodeType===ee.TEXT_NODE?he.reduce(function(ue,ie){return ie(ee,ue)},new c.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(ue,ie){var Pe=W(ie,ne,he);return ie.nodeType===ee.ELEMENT_NODE&&(Pe=ne.reduce(function(_e,Oe){return Oe(ie,_e)},Pe),Pe=(ie[z]||[]).reduce(function(_e,Oe){return Oe(ie,_e)},Pe)),ue.concat(Pe)},new c.default):new c.default}function Y(ee,ne,he){return V(he,ee,!0)}function J(ee,ne){var he=h.default.Attributor.Attribute.keys(ee),ue=h.default.Attributor.Class.keys(ee),ie=h.default.Attributor.Style.keys(ee),Pe={};return he.concat(ue).concat(ie).forEach(function(_e){var Oe=h.default.query(_e,h.default.Scope.ATTRIBUTE);Oe!=null&&(Pe[Oe.attrName]=Oe.value(ee),Pe[Oe.attrName])||(Oe=B[_e],Oe!=null&&(Oe.attrName===_e||Oe.keyName===_e)&&(Pe[Oe.attrName]=Oe.value(ee)||void 0),Oe=I[_e],Oe!=null&&(Oe.attrName===_e||Oe.keyName===_e)&&(Oe=I[_e],Pe[Oe.attrName]=Oe.value(ee)||void 0))}),Object.keys(Pe).length>0&&(ne=V(ne,Pe)),ne}function te(ee,ne){var he=h.default.query(ee);if(he==null)return ne;if(he.prototype instanceof h.default.Embed){var ue={},ie=he.value(ee);ie!=null&&(ue[he.blotName]=ie,ne=new c.default().insert(ue,he.formats(ee)))}else typeof he.formats=="function"&&(ne=V(ne,he.blotName,he.formats(ee)));return ne}function de(ee,ne){return K(ne,`
`)||ne.insert(`
`),ne}function be(){return new c.default}function Ae(ee,ne){var he=h.default.query(ee);if(he==null||he.blotName!=="list-item"||!K(ne,`
`))return ne;for(var ue=-1,ie=ee.parentNode;!ie.classList.contains("ql-clipboard");)(h.default.query(ie)||{}).blotName==="list"&&(ue+=1),ie=ie.parentNode;return ue<=0?ne:ne.compose(new c.default().retain(ne.length()-1).retain(1,{indent:ue}))}function Me(ee,ne){return K(ne,`
`)||(H(ee)||ne.length()>0&&ee.nextSibling&&H(ee.nextSibling))&&ne.insert(`
`),ne}function Ie(ee,ne){if(H(ee)&&ee.nextElementSibling!=null&&!K(ne,`

`)){var he=ee.offsetHeight+parseFloat(G(ee).marginTop)+parseFloat(G(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+he*1.5&&ne.insert(`
`)}return ne}function vt(ee,ne){var he={},ue=ee.style||{};return ue.fontStyle&&G(ee).fontStyle==="italic"&&(he.italic=!0),ue.fontWeight&&(G(ee).fontWeight.startsWith("bold")||parseInt(G(ee).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(ne=V(ne,he)),parseFloat(ue.textIndent||0)>0&&(ne=new c.default().insert("	").concat(ne)),ne}function at(ee,ne){var he=ee.data;if(ee.parentNode.tagName==="O:P")return ne.insert(he.trim());if(he.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return ne;if(!G(ee.parentNode).whiteSpace.startsWith("pre")){var ue=function(Pe,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&Pe?" ":_e};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,ue.bind(ue,!0)),(ee.previousSibling==null&&H(ee.parentNode)||ee.previousSibling!=null&&H(ee.previousSibling))&&(he=he.replace(/^\s+/,ue.bind(ue,!1))),(ee.nextSibling==null&&H(ee.parentNode)||ee.nextSibling!=null&&H(ee.nextSibling))&&(he=he.replace(/\s+$/,ue.bind(ue,!1)))}return ne.insert(he)}r.default=$,r.matchAttributor=J,r.matchBlot=te,r.matchNewline=Me,r.matchSpacing=Ie,r.matchText=at},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,g){for(var b=0;b<g.length;b++){var p=g[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,g,b){return g&&m(y.prototype,g),b&&m(y,b),y}}(),s=function m(y,g,b){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,g);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:m(v,g,b)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(b)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(){return d(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(b){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function _(O,M){var T=[],N=!0,P=!1,L=void 0;try{for(var z=O[Symbol.iterator](),j;!(N=(j=z.next()).done)&&(T.push(j.value),!(M&&T.length===M));N=!0);}catch(B){P=!0,L=B}finally{try{!N&&z.return&&z.return()}finally{if(P)throw L}}return T}return function(O,M){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return _(O,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function _(O,M){for(var T=0;T<M.length;T++){var N=M[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,M,T){return M&&_(O.prototype,M),T&&_(O,T),O}}(),a=i(2),l=b(a),u=i(0),d=b(u),c=i(5),f=b(c),h=i(10),m=b(h),y=i(9),g=b(y);function b(_){return _&&_.__esModule?_:{default:_}}function p(_,O,M){return O in _?Object.defineProperty(_,O,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[O]=M,_}function v(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function w(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function x(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var S=(0,m.default)("quill:toolbar"),E=function(_){x(O,_);function O(M,T){v(this,O);var N=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,T));if(Array.isArray(N.options.container)){var P=document.createElement("div");A(P,N.options.container),M.container.parentNode.insertBefore(P,M.container),N.container=P}else typeof N.options.container=="string"?N.container=document.querySelector(N.options.container):N.container=N.options.container;if(!(N.container instanceof HTMLElement)){var L;return L=S.error("Container required for toolbar",N.options),w(N,L)}return N.container.classList.add("ql-toolbar"),N.controls=[],N.handlers={},Object.keys(N.options.handlers).forEach(function(z){N.addHandler(z,N.options.handlers[z])}),[].forEach.call(N.container.querySelectorAll("button, select"),function(z){N.attach(z)}),N.quill.on(f.default.events.EDITOR_CHANGE,function(z,j){z===f.default.events.SELECTION_CHANGE&&N.update(j)}),N.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var z=N.quill.selection.getRange(),j=o(z,1),B=j[0];N.update(B)}),N}return s(O,[{key:"addHandler",value:function(T,N){this.handlers[T]=N}},{key:"attach",value:function(T){var N=this,P=[].find.call(T.classList,function(z){return z.indexOf("ql-")===0});if(P){if(P=P.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[P]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[P]==null){S.warn("ignoring attaching to disabled format",P,T);return}if(d.default.query(P)==null){S.warn("ignoring attaching to nonexistent format",P,T);return}}var L=T.tagName==="SELECT"?"change":"click";T.addEventListener(L,function(z){var j=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var B=T.options[T.selectedIndex];B.hasAttribute("selected")?j=!1:j=B.value||!1}else T.classList.contains("ql-active")?j=!1:j=T.value||!T.hasAttribute("value"),z.preventDefault();N.quill.focus();var I=N.quill.selection.getRange(),$=o(I,1),V=$[0];if(N.handlers[P]!=null)N.handlers[P].call(N,j);else if(d.default.query(P).prototype instanceof d.default.Embed){if(j=prompt("Enter "+P),!j)return;N.quill.updateContents(new l.default().retain(V.index).delete(V.length).insert(p({},P,j)),f.default.sources.USER)}else N.quill.format(P,j,f.default.sources.USER);N.update(V)}),this.controls.push([P,T])}}},{key:"update",value:function(T){var N=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(P){var L=o(P,2),z=L[0],j=L[1];if(j.tagName==="SELECT"){var B=void 0;if(T==null)B=null;else if(N[z]==null)B=j.querySelector("option[selected]");else if(!Array.isArray(N[z])){var I=N[z];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),B=j.querySelector('option[value="'+I+'"]')}B==null?(j.value="",j.selectedIndex=-1):B.selected=!0}else if(T==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var $=N[z]===j.getAttribute("value")||N[z]!=null&&N[z].toString()===j.getAttribute("value")||N[z]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",$)}else j.classList.toggle("ql-active",N[z]!=null)})}}]),O}(g.default);E.DEFAULTS={};function k(_,O,M){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+O),M!=null&&(T.value=M),_.appendChild(T)}function A(_,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(M){var T=document.createElement("span");T.classList.add("ql-formats"),M.forEach(function(N){if(typeof N=="string")k(T,N);else{var P=Object.keys(N)[0],L=N[P];Array.isArray(L)?C(T,P,L):k(T,P,L)}}),_.appendChild(T)})}function C(_,O,M){var T=document.createElement("select");T.classList.add("ql-"+O),M.forEach(function(N){var P=document.createElement("option");N!==!1?P.setAttribute("value",N):P.setAttribute("selected","selected"),T.appendChild(P)}),_.appendChild(T)}E.DEFAULTS={container:null,handlers:{clean:function(){var O=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(N){d.default.query(N,d.default.Scope.INLINE)!=null&&O.quill.format(N,!1)})}else this.quill.removeFormat(M,f.default.sources.USER)},direction:function(O){var M=this.quill.getFormat().align;O==="rtl"&&M==null?this.quill.format("align","right",f.default.sources.USER):!O&&M==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",O,f.default.sources.USER)},indent:function(O){var M=this.quill.getSelection(),T=this.quill.getFormat(M),N=parseInt(T.indent||0);if(O==="+1"||O==="-1"){var P=O==="+1"?1:-1;T.direction==="rtl"&&(P*=-1),this.quill.format("indent",N+P,f.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,f.default.sources.USER)},list:function(O){var M=this.quill.getSelection(),T=this.quill.getFormat(M);O==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",O,f.default.sources.USER)}}},r.default=E,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,g){for(var b=0;b<g.length;b++){var p=g[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,g,b){return g&&m(y.prototype,g),b&&m(y,b),y}}(),s=function m(y,g,b){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,g);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:m(v,g,b)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(b)}},a=i(28),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(g,b){d(this,y);var p=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,g));return p.label.innerHTML=b,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),p}return o(y,[{key:"buildItem",value:function(b){var p=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return p.style.backgroundColor=b.getAttribute("value")||"",p}},{key:"selectItem",value:function(b,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,p);var v=this.label.querySelector(".ql-color-label"),w=b&&b.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=w:v.style.fill=w)}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,g){for(var b=0;b<g.length;b++){var p=g[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,g,b){return g&&m(y.prototype,g),b&&m(y,b),y}}(),s=function m(y,g,b){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,g);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:m(v,g,b)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(b)}},a=i(28),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(g,b){d(this,y);var p=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,g));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=b[v.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(y,[{key:"selectItem",value:function(b,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,p),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&l(u.prototype,d),c&&l(u,c),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){var c=this;s(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var c=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),y=0;if(m.right>h.right&&(y=h.right-m.right,this.root.style.left=c+y+"px"),m.left<h.left&&(y=h.left-m.left,this.root.style.left=c+y+"px"),m.bottom>h.bottom){var g=m.bottom-m.top,b=d.bottom-d.top+g;this.root.style.top=f-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(_,O){var M=[],T=!0,N=!1,P=void 0;try{for(var L=_[Symbol.iterator](),z;!(T=(z=L.next()).done)&&(M.push(z.value),!(O&&M.length===O));T=!0);}catch(j){N=!0,P=j}finally{try{!T&&L.return&&L.return()}finally{if(N)throw P}}return M}return function(_,O){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return C(_,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function C(_,O,M){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,O);if(T===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:C(N,O,M)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(M)}},a=function(){function C(_,O){for(var M=0;M<O.length;M++){var T=O[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,O,M){return O&&C(_.prototype,O),M&&C(_,M),_}}(),l=i(3),u=v(l),d=i(8),c=v(d),f=i(43),h=v(f),m=i(27),y=v(m),g=i(15),b=i(41),p=v(b);function v(C){return C&&C.__esModule?C:{default:C}}function w(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function x(C,_){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:C}function S(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(C,_):C.__proto__=_)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(C){S(_,C);function _(O,M){w(this,_),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=E);var T=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,M));return T.quill.container.classList.add("ql-snow"),T}return a(_,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),p.default),this.tooltip=new A(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,N){M.handlers.link.call(M,!N.format.link)})}}]),_}(h.default);k.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var O=this.quill.getSelection();if(O==null||O.length==0)return;var M=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var T=this.quill.theme.tooltip;T.edit("link",M)}else this.quill.format("link",!1)}}}}});var A=function(C){S(_,C);function _(O,M){w(this,_);var T=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,M));return T.preview=T.root.querySelector("a.ql-preview"),T}return a(_,[{key:"listen",value:function(){var M=this;s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(M.linkRange!=null){var N=M.linkRange;M.restoreFocus(),M.quill.formatText(N,"link",!1,c.default.sources.USER),delete M.linkRange}T.preventDefault(),M.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(T,N,P){if(T!=null){if(T.length===0&&P===c.default.sources.USER){var L=M.quill.scroll.descendant(y.default,T.index),z=o(L,2),j=z[0],B=z[1];if(j!=null){M.linkRange=new g.Range(T.index-B,j.length());var I=y.default.formats(j.domNode);M.preview.textContent=I,M.preview.setAttribute("href",I),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(f.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ie(o),a=i(36),l=i(38),u=i(64),d=i(65),c=ie(d),f=i(66),h=ie(f),m=i(67),y=ie(m),g=i(37),b=i(26),p=i(39),v=i(40),w=i(56),x=ie(w),S=i(68),E=ie(S),k=i(27),A=ie(k),C=i(69),_=ie(C),O=i(70),M=ie(O),T=i(71),N=ie(T),P=i(72),L=ie(P),z=i(73),j=ie(z),B=i(13),I=ie(B),$=i(74),V=ie($),G=i(75),K=ie(G),H=i(57),W=ie(H),Y=i(41),J=ie(Y),te=i(28),de=ie(te),be=i(59),Ae=ie(be),Me=i(60),Ie=ie(Me),vt=i(61),at=ie(vt),ee=i(108),ne=ie(ee),he=i(62),ue=ie(he);function ie(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":v.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":p.FontClass,"formats/size":v.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":x.default,"formats/code":B.Code,"formats/italic":E.default,"formats/link":A.default,"formats/script":_.default,"formats/strike":M.default,"formats/underline":N.default,"formats/image":L.default,"formats/video":j.default,"formats/list/item":m.ListItem,"modules/formula":V.default,"modules/syntax":K.default,"modules/toolbar":W.default,"themes/bubble":ne.default,"themes/snow":ue.default,"ui/icons":J.default,"ui/picker":de.default,"ui/icon-picker":Ie.default,"ui/color-picker":Ae.default,"ui/tooltip":at.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(g,b){for(var p=0;p<b.length;p++){var v=b[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,b,p){return b&&y(g.prototype,b),p&&y(g,p),g}}(),s=function y(g,b,p){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,b);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:y(w,b,p)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function c(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function f(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var h=function(y){f(g,y);function g(){return d(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"add",value:function(p,v){if(v==="+1"||v==="-1"){var w=this.value(p)||0;v=v==="+1"?w+1:w-1}return v===0?(this.remove(p),!0):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,p,v)}},{key:"canAdd",value:function(p,v){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,p,v)||s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,p,parseInt(v))}},{key:"value",value:function(p){return parseInt(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,p))||void 0}}]),g}(l.default.Attributor.Class),m=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function d(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){d(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(m,y){for(var g=0;g<y.length;g++){var b=y[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,y,g){return y&&h(m.prototype,y),g&&h(m,g),m}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){c(m,h);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),m}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function w(x,S){for(var E=0;E<S.length;E++){var k=S[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,S,E){return S&&w(x.prototype,S),E&&w(x,E),x}}(),s=function w(x,S,E){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,S);if(k===void 0){var A=Object.getPrototypeOf(x);return A===null?void 0:w(A,S,E)}else{if("value"in k)return k.value;var C=k.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=h(a),u=i(4),d=h(u),c=i(25),f=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,x,S){return x in w?Object.defineProperty(w,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[x]=S,w}function y(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function g(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function b(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var p=function(w){b(x,w);function x(){return y(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(E,k){E===v.blotName&&!k?this.replaceWith(l.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,E,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,k){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,k),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,E,k))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,E)}}]),x}(d.default);p.blotName="list-item",p.tagName="LI";var v=function(w){b(x,w),o(x,null,[{key:"create",value:function(E){var k=E==="ordered"?"OL":"UL",A=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,k);return(E==="checked"||E==="unchecked")&&A.setAttribute("data-checked",E==="checked"),A}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(S){y(this,x);var E=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S)),k=function(C){if(C.target.parentNode===S){var _=E.statics.formats(S),O=l.default.find(C.target);_==="checked"?O.format("list","unchecked"):_==="unchecked"&&O.format("list","checked")}};return S.addEventListener("touchstart",k),S.addEventListener("mousedown",k),E}return o(x,[{key:"format",value:function(E,k){this.children.length>0&&this.children.tail.format(E,k)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,k){if(E instanceof p)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,E,k);else{var A=k==null?this.length():k.offset(this),C=this.split(A);C.parent.insertBefore(E,C)}}},{key:"optimize",value:function(E){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,E);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var k=l.default.create(this.statics.defaultChild);E.moveChildren(k),this.appendChild(k)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,E)}}]),x}(f.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[p],r.ListItem=p,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function d(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){d(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,g){for(var b=0;b<g.length;b++){var p=g[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,g,b){return g&&m(y.prototype,g),b&&m(y,b),y}}(),s=function m(y,g,b){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,g);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:m(v,g,b)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(b)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(){return d(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function d(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){d(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function d(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){d(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(b,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,v){return p&&g(b.prototype,p),v&&g(b,v),b}}(),s=function g(b,p,v){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:g(x,p,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},a=i(0),l=d(a),u=i(27);function d(g){return g&&g.__esModule?g:{default:g}}function c(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function f(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function h(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=["alt","height","width"],y=function(g){h(b,g);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(v,w){m.indexOf(v)>-1?w?this.domNode.setAttribute(v,w):this.domNode.removeAttribute(v):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,w)}}],[{key:"create",value:function(v){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return typeof v=="string"&&w.setAttribute("src",this.sanitize(v)),w}},{key:"formats",value:function(v){return m.reduce(function(w,x){return v.hasAttribute(x)&&(w[x]=v.getAttribute(x)),w},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(b,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,v){return p&&g(b.prototype,p),v&&g(b,v),b}}(),s=function g(b,p,v){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:g(x,p,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},a=i(4),l=i(27),u=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function c(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function f(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function h(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=["height","width"],y=function(g){h(b,g);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(v,w){m.indexOf(v)>-1?w?this.domNode.setAttribute(v,w):this.domNode.removeAttribute(v):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,w)}}],[{key:"create",value:function(v){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(v)),w}},{key:"formats",value:function(v){return m.reduce(function(w,x){return v.hasAttribute(x)&&(w[x]=v.getAttribute(x)),w},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function v(w,x){for(var S=0;S<x.length;S++){var E=x[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,x,S){return x&&v(w.prototype,x),S&&v(w,S),w}}(),s=function v(w,x,S){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,x);if(E===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:v(k,x,S)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(S)}},a=i(35),l=h(a),u=i(5),d=h(u),c=i(9),f=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function m(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function y(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function g(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var b=function(v){g(w,v);function w(){return m(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"create",value:function(S){var E=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",S)),E}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),w}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var p=function(v){g(w,v),o(w,null,[{key:"register",value:function(){d.default.register(b,!0)}}]);function w(){m(this,w);var x=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return w}(f.default);r.FormulaBlot=b,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function S(E,k){for(var A=0;A<k.length;A++){var C=k[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,k,A){return k&&S(E.prototype,k),A&&S(E,A),E}}(),s=function S(E,k,A){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,k);if(C===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:S(_,k,A)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(A)}},a=i(0),l=y(a),u=i(5),d=y(u),c=i(9),f=y(c),h=i(13),m=y(h);function y(S){return S&&S.__esModule?S:{default:S}}function g(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function b(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function p(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var v=function(S){p(E,S);function E(){return g(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),E}(m.default);v.className="ql-syntax";var w=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),x=function(S){p(E,S),o(E,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(v,!0)}}]);function E(k,A){g(this,E);var C=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,A));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return C.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){C.highlight(),_=null},C.options.interval)}),C.highlight(),C}return o(E,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(_){_.highlight(A.options.highlight)}),this.quill.update(d.default.sources.SILENT),C!=null&&this.quill.setSelection(C,d.default.sources.SILENT)}}}]),E}(f.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var E=window.hljs.highlightAuto(S);return E.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=w,r.default=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function E(k,A,C){k===null&&(k=Function.prototype);var _=Object.getOwnPropertyDescriptor(k,A);if(_===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:E(O,A,C)}else{if("value"in _)return _.value;var M=_.get;return M===void 0?void 0:M.call(C)}},s=function(){function E(k,A){for(var C=0;C<A.length;C++){var _=A[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,A,C){return A&&E(k.prototype,A),C&&E(k,C),k}}(),a=i(3),l=g(a),u=i(8),d=g(u),c=i(43),f=g(c),h=i(15),m=i(41),y=g(m);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function p(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function v(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(E){v(k,E);function k(A,C){b(this,k),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=w);var _=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,C));return _.quill.container.classList.add("ql-bubble"),_}return s(k,[{key:"extendToolbar",value:function(C){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),k}(f.default);x.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(E){v(k,E);function k(A,C){b(this,k);var _=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,C));return _.quill.on(d.default.events.EDITOR_CHANGE,function(O,M,T,N){if(O===d.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&N===d.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var P=_.quill.getLines(M.index,M.length);if(P.length===1)_.position(_.quill.getBounds(M));else{var L=P[P.length-1],z=_.quill.getIndex(L),j=Math.min(L.length()-1,M.index+M.length-z),B=_.quill.getBounds(new h.Range(z,j));_.position(B)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return s(k,[{key:"listen",value:function(){var C=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var _=C.quill.getSelection();_!=null&&C.position(C.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var _=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,C),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",_===0)return _;O.style.marginLeft=-1*_-O.offsetWidth/2+"px"}}]),k}(c.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=S,r.default=x},function(n,r,i){n.exports=i(63)}]).default})})(Ij);const Bj=Dy(Zf);var Fj=it&&it.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ed=it&&it.__assign||function(){return ed=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ed.apply(this,arguments)},jj=it&&it.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},dh=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_r=dh(U),$j=dh(Ho),Qa=dh(O8),sx=dh(Zf),zj=function(t){Fj(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,d,c,f;o==="text-change"?(d=(u=r).onEditorChangeText)===null||d===void 0||d.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(c=r).onEditorChangeSelection)===null||f===void 0||f.call(c,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(_r.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(_r.default.Children.count(n.children)){var i=_r.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),jj(this.cleanProps,this.dirtyProps).some(function(l){return!Qa.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Qa.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),ax(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new sx.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Qa.default(n.ops,r.ops):Qa.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),ax(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=$j.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return _r.default.Children.count(i)?_r.default.cloneElement(_r.default.Children.only(i),a):o?_r.default.createElement("pre",ed({},a)):_r.default.createElement("div",ed({},a))},e.prototype.render=function(){var n;return _r.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,d;if(this.editor){var c=this.getEditorSelection(),f=!c&&n,h=c&&!n;Qa.default(n,c)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):h&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,c,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=sx.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(_r.default.Component);function ax(t){Promise.resolve().then(t)}var qj=zj;const Hj="_root_w2z14_1",Vj="_navbar_w2z14_7",Uj="_cat_w2z14_17",Wj="_title_w2z14_20",Kj="_info_w2z14_35",Gj="_content_w2z14_40",Jj="_toolbar_w2z14_43",Ai={root:Hj,navbar:Vj,cat:Uj,title:Wj,info:Kj,content:Gj,toolbar:Jj},Qj="_root_doaez_1",Yj="_menu_doaez_4",lx={root:Qj,menu:Yj};function JC(t){const[e,n]=U.useState(!1),r=Id();return pt(oi,{fill:"none",onClick:i=>{n(!e)},className:lx.root,children:[oe(a9,{}),e&&pt(Mp,{className:lx.menu,children:[oe(Mp.Item,{onClick:t.onSave,children:""}),oe(Mp.Item,{onClick:i=>{t.noteId&&$t.notes.update(t.noteId,{deletedAt:new Date}),r(-1)},children:""})]})]})}var Xj=(t,e,n)=>Promise.resolve().then(()=>{const r=[];return t.replace(e,(i,...o)=>(r.push(n(i,...o)),i)),Promise.all(r).then(i=>t.replace(e,()=>i.shift()))});function Zj(t){const e=U.useRef(null);return U.useLayoutEffect(()=>{var r;if(!e.current)return;e.current.innerHTML=t.defaultValue;let n=new Bj(e.current,{modules:t.modules,theme:"snow",placeholder:t.placeholder});n.on("text-change",i=>{t.onChange(n.root.innerHTML)}),(r=t.getEditor)==null||r.call(t,n)},[e.current]),oe("div",{ref:e,className:t.className})}const ux={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","code"],["clean"]],history:{delay:2e3,maxStack:500,userOnly:!0}};function e$(t){var w,x;const[e,n]=U.useState(""),[r,i]=U.useState(""),[o,s]=U.useState(!1),a=eA(),l=U.useRef(),[u,d]=U.useState(0),c=Id(),f=U.useRef(null),h=S=>{var A,C;let E=f.current;if(!E)return;let k=document.createElement("div");k.className=E.className,k.style.overflow="visible",k.innerHTML=S||"",(A=E.parentElement)==null||A.appendChild(k),d(k.offsetHeight),(C=E.parentElement)==null||C.removeChild(k)},[m,y,g]=ao.useLiveQuery(async()=>{if(a.id==="new")return[{title:"",content:"",createdAt:new Date,updatedAt:new Date,categoryId:0},null,[]];console.time("setContent");let S=await $t.notes.get(Number(a.id))||null,E,k=[];return S&&(n(S.title),k=await $t.images.where("noteId").equals(S.id).toArray(),console.time("quill"),i(S.content.replace(/<custom-image\s+id="(\d+)"\s*\/>/g,(A,C)=>{let _=k.find(O=>O.id===Number(C));return`<img src="${_==null?void 0:_.url}" id="${_==null?void 0:_.id}" />`})),k.forEach(A=>A.url=""),console.timeEnd("setContent"),E=await $t.categories.get(S.categoryId)),[S,E,k]},[a.id])||[];let b=U.useCallback(S=>{i(S),s(!0)},[i,s]);async function p(){if((e||r)&&m&&o){m.title=e;let S=[];if(m.content=await Xj(r,/<img\s+src="([^>]+)"(?:\s+id="(\d+)")?\s*\/?>/g,async(E,k,A)=>(A||(A=await $t.images.add({url:k,noteId:m.id})),S.push(Number(A)),`<custom-image id="${A}" />`)),g)for(const E of g)S.includes(E.id)||$t.images.update(E.id,{removedAt:new Date});m!=null&&m.id?$t.notes.update(m.id,{title:m.title.trim(),content:m.content.trim(),updatedAt:new Date}):$t.notes.add(m)}s(!1)}if(U.useEffect(()=>()=>{p()},[]),U.useEffect(()=>{h((m==null?void 0:m.title)||"")},[m]),U.useEffect(()=>(window.addEventListener("beforeunload",p),window.addEventListener("popstate",p),()=>{window.removeEventListener("beforeunload",p),window.removeEventListener("popstate",p)}),[e,r,m]),m===null)return c("/memo"),null;if(m===void 0)return null;const v=()=>{let S=l.current;return S==null?void 0:S.history};return pt("div",{className:Ai.root,children:[pt("div",{className:Ai.navbar,children:[oe(oi,{fill:"none",onClick:S=>{c(-1),p()},children:oe(s9,{})}),oe("div",{className:Ai.cat,children:oe(pC,{color:"#aaa",children:(y==null?void 0:y.title)||""})}),oe(oi,{fill:"none",disabled:!((w=v())!=null&&w.stack.undo.length),onClick:S=>{v().undo()},children:oe(l9,{})}),oe(oi,{fill:"none",disabled:!((x=v())!=null&&x.stack.redo.length),onClick:S=>{v().redo()},children:oe(f9,{})}),oe(JC,{noteId:m.id,onSave:p})]}),pt("div",{className:Ai.main,children:[oe("textarea",{ref:f,value:e,onChange:S=>{let E=S.target.value.replace(/\n+/g,"");n(E),s(!0),h(E)},className:Ai.title,placeholder:"",rows:1,style:{height:u||void 0}}),pt("div",{className:Ai.info,children:[Mv(m.updatedAt).format("MM-DD hh:mm")," "]}),location.search.includes("custom")?oe(Zj,{getEditor:S=>{console.timeEnd("quill"),l.current=S},modules:ux,defaultValue:r,onChange:b,className:Ai.content,placeholder:""}):oe(qj,{ref:S=>{S&&(l.current=S==null?void 0:S.getEditor(),console.timeEnd("quill"))},modules:ux,theme:"snow",defaultValue:r,onChange:b,className:Ai.content,placeholder:""})]})]})}var cx={},t$={get exports(){return cx},set exports(t){cx=t}};(function(t){(function(){}).call(it),function(){window.Set==null&&(window.Set=function(){function e(){this.clear()}return e.prototype.clear=function(){return this.values=[]},e.prototype.has=function(n){return this.values.indexOf(n)!==-1},e.prototype.add=function(n){return this.has(n)||this.values.push(n),this},e.prototype.delete=function(n){var r;return(r=this.values.indexOf(n))===-1?!1:(this.values.splice(r,1),!0)},e.prototype.forEach=function(){var n;return(n=this.values).forEach.apply(n,arguments)},e}())}.call(it),function(e){function n(){}function r(m,y){return function(){m.apply(y,arguments)}}function i(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(m,this)}function o(m,y){for(;m._state===3;)m=m._value;return m._state===0?void m._deferreds.push(y):(m._handled=!0,void f(function(){var g=m._state===1?y.onFulfilled:y.onRejected;if(g===null)return void(m._state===1?s:a)(y.promise,m._value);var b;try{b=g(m._value)}catch(p){return void a(y.promise,p)}s(y.promise,b)}))}function s(m,y){try{if(y===m)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var g=y.then;if(y instanceof i)return m._state=3,m._value=y,void l(m);if(typeof g=="function")return void d(r(g,y),m)}m._state=1,m._value=y,l(m)}catch(b){a(m,b)}}function a(m,y){m._state=2,m._value=y,l(m)}function l(m){m._state===2&&m._deferreds.length===0&&setTimeout(function(){m._handled||h(m._value)},1);for(var y=0,g=m._deferreds.length;g>y;y++)o(m,m._deferreds[y]);m._deferreds=null}function u(m,y,g){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof y=="function"?y:null,this.promise=g}function d(m,y){var g=!1;try{m(function(b){g||(g=!0,s(y,b))},function(b){g||(g=!0,a(y,b))})}catch(b){if(g)return;g=!0,a(y,b)}}var c=setTimeout,f=typeof setImmediate=="function"&&setImmediate||function(m){c(m,1)},h=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)};i.prototype.catch=function(m){return this.then(null,m)},i.prototype.then=function(m,y){var g=new i(n);return o(this,new u(m,y,g)),g},i.all=function(m){var y=Array.prototype.slice.call(m);return new i(function(g,b){function p(x,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var E=S.then;if(typeof E=="function")return void E.call(S,function(k){p(x,k)},b)}y[x]=S,--v===0&&g(y)}catch(k){b(k)}}if(y.length===0)return g([]);for(var v=y.length,w=0;w<y.length;w++)p(w,y[w])})},i.resolve=function(m){return m&&typeof m=="object"&&m.constructor===i?m:new i(function(y){y(m)})},i.reject=function(m){return new i(function(y,g){g(m)})},i.race=function(m){return new i(function(y,g){for(var b=0,p=m.length;p>b;b++)m[b].then(y,g)})},i._setImmediateFn=function(m){f=m},i._setUnhandledRejectionFn=function(m){h=m},t.exports?t.exports=i:e.Promise||(e.Promise=i)}(it),function(){var e=typeof window.customElements=="object",n=typeof document.registerElement=="function",r=e||n;r||(typeof WeakMap>"u"&&function(){var i=Object.defineProperty,o=Date.now()%1e9,s=function(){this.name="__st"+(1e9*Math.random()>>>0)+(o+++"__")};s.prototype={set:function(a,l){var u=a[this.name];return u&&u[0]===a?u[1]=l:i(a,this.name,{value:[a,l],writable:!0}),this},get:function(a){var l;return(l=a[this.name])&&l[0]===a?l[1]:void 0},delete:function(a){var l=a[this.name];return l&&l[0]===a?(l[0]=l[1]=void 0,!0):!1},has:function(a){var l=a[this.name];return l?l[0]===a:!1}},window.WeakMap=s}(),function(i){function o(O){k.push(O),E||(E=!0,v(a))}function s(O){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(O)||O}function a(){E=!1;var O=k;k=[],O.sort(function(T,N){return T.uid_-N.uid_});var M=!1;O.forEach(function(T){var N=T.takeRecords();l(T),N.length&&(T.callback_(N,T),M=!0)}),M&&a()}function l(O){O.nodes_.forEach(function(M){var T=w.get(M);T&&T.forEach(function(N){N.observer===O&&N.removeTransientObservers()})})}function u(O,M){for(var T=O;T;T=T.parentNode){var N=w.get(T);if(N)for(var P=0;P<N.length;P++){var L=N[P],z=L.options;if(T===O||z.subtree){var j=M(z);j&&L.enqueue(j)}}}}function d(O){this.callback_=O,this.nodes_=[],this.records_=[],this.uid_=++A}function c(O,M){this.type=O,this.target=M,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(O){var M=new c(O.type,O.target);return M.addedNodes=O.addedNodes.slice(),M.removedNodes=O.removedNodes.slice(),M.previousSibling=O.previousSibling,M.nextSibling=O.nextSibling,M.attributeName=O.attributeName,M.attributeNamespace=O.attributeNamespace,M.oldValue=O.oldValue,M}function h(O,M){return C=new c(O,M)}function m(O){return _||(_=f(C),_.oldValue=O,_)}function y(){C=_=void 0}function g(O){return O===_||O===C}function b(O,M){return O===M?O:_&&g(O)?_:null}function p(O,M,T){this.observer=O,this.target=M,this.options=T,this.transientObservedNodes=[]}if(!i.JsMutationObserver){var v,w=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))v=setTimeout;else if(window.setImmediate)v=window.setImmediate;else{var x=[],S=String(Math.random());window.addEventListener("message",function(O){if(O.data===S){var M=x;x=[],M.forEach(function(T){T()})}}),v=function(O){x.push(O),window.postMessage(S,"*")}}var E=!1,k=[],A=0;d.prototype={observe:function(O,M){if(O=s(O),!M.childList&&!M.attributes&&!M.characterData||M.attributeOldValue&&!M.attributes||M.attributeFilter&&M.attributeFilter.length&&!M.attributes||M.characterDataOldValue&&!M.characterData)throw new SyntaxError;var T=w.get(O);T||w.set(O,T=[]);for(var N,P=0;P<T.length;P++)if(T[P].observer===this){N=T[P],N.removeListeners(),N.options=M;break}N||(N=new p(this,O,M),T.push(N),this.nodes_.push(O)),N.addListeners()},disconnect:function(){this.nodes_.forEach(function(O){for(var M=w.get(O),T=0;T<M.length;T++){var N=M[T];if(N.observer===this){N.removeListeners(),M.splice(T,1);break}}},this),this.records_=[]},takeRecords:function(){var O=this.records_;return this.records_=[],O}};var C,_;p.prototype={enqueue:function(O){var M=this.observer.records_,T=M.length;if(M.length>0){var N=M[T-1],P=b(N,O);if(P)return void(M[T-1]=P)}else o(this.observer);M[T]=O},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(O){var M=this.options;M.attributes&&O.addEventListener("DOMAttrModified",this,!0),M.characterData&&O.addEventListener("DOMCharacterDataModified",this,!0),M.childList&&O.addEventListener("DOMNodeInserted",this,!0),(M.childList||M.subtree)&&O.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(O){var M=this.options;M.attributes&&O.removeEventListener("DOMAttrModified",this,!0),M.characterData&&O.removeEventListener("DOMCharacterDataModified",this,!0),M.childList&&O.removeEventListener("DOMNodeInserted",this,!0),(M.childList||M.subtree)&&O.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(O){if(O!==this.target){this.addListeners_(O),this.transientObservedNodes.push(O);var M=w.get(O);M||w.set(O,M=[]),M.push(this)}},removeTransientObservers:function(){var O=this.transientObservedNodes;this.transientObservedNodes=[],O.forEach(function(M){this.removeListeners_(M);for(var T=w.get(M),N=0;N<T.length;N++)if(T[N]===this){T.splice(N,1);break}},this)},handleEvent:function(O){switch(O.stopImmediatePropagation(),O.type){case"DOMAttrModified":var M=O.attrName,T=O.relatedNode.namespaceURI,N=O.target,$=new h("attributes",N);$.attributeName=M,$.attributeNamespace=T;var P=O.attrChange===MutationEvent.ADDITION?null:O.prevValue;u(N,function(V){return!V.attributes||V.attributeFilter&&V.attributeFilter.length&&V.attributeFilter.indexOf(M)===-1&&V.attributeFilter.indexOf(T)===-1?void 0:V.attributeOldValue?m(P):$});break;case"DOMCharacterDataModified":var N=O.target,$=h("characterData",N),P=O.prevValue;u(N,function(V){return V.characterData?V.characterDataOldValue?m(P):$:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(O.target);case"DOMNodeInserted":var L,z,j=O.target;O.type==="DOMNodeInserted"?(L=[j],z=[]):(L=[],z=[j]);var B=j.previousSibling,I=j.nextSibling,$=h("childList",O.target.parentNode);$.addedNodes=L,$.removedNodes=z,$.previousSibling=B,$.nextSibling=I,u(O.relatedNode,function(V){return V.childList?$:void 0})}y()}},i.JsMutationObserver=d,i.MutationObserver||(i.MutationObserver=d,d._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var i=Date.now();window.performance={now:function(){return Date.now()-i}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var u=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return u?function(d){return u(function(){d(performance.now())})}:function(d){return window.setTimeout(d,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(u){clearTimeout(u)}}());var o=function(){var u=document.createEvent("Event");return u.initEvent("foo",!0,!0),u.preventDefault(),u.defaultPrevented}();if(!o){var s=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(s.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var a=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||a&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(u,d){d=d||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(u,Boolean(d.bubbles),Boolean(d.cancelable),d.detail),c},window.CustomEvent.prototype=window.Event.prototype),!window.Event||a&&typeof window.Event!="function"){var l=window.Event;window.Event=function(u,d){d=d||{};var c=document.createEvent("Event");return c.initEvent(u,Boolean(d.bubbles),Boolean(d.cancelable)),c},window.Event.prototype=l.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(i){var o=i.flags,s=[],a=function(u){s.push(u)},l=function(){s.forEach(function(u){u(i)})};i.addModule=a,i.initializeModules=l,i.hasNative=Boolean(document.registerElement),i.isIE=/Trident/.test(navigator.userAgent),i.useNative=!o.register&&i.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(i){function o(c,f){s(c,function(h){return f(h)?!0:void a(h,f)}),a(c,f)}function s(c,f,h){var m=c.firstElementChild;if(!m)for(m=c.firstChild;m&&m.nodeType!==Node.ELEMENT_NODE;)m=m.nextSibling;for(;m;)f(m,h)!==!0&&s(m,f,h),m=m.nextElementSibling;return null}function a(c,f){for(var h=c.shadowRoot;h;)o(h,f),h=h.olderShadowRoot}function l(c,f){u(c,f,[])}function u(c,f,h){if(c=window.wrap(c),!(h.indexOf(c)>=0)){h.push(c);for(var m,y=c.querySelectorAll("link[rel="+d+"]"),g=0,b=y.length;b>g&&(m=y[g]);g++)m.import&&u(m.import,f,h);f(c)}}var d=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";i.forDocumentTree=l,i.forSubtree=o}),window.CustomElements.addModule(function(i){function o(T,N){return s(T,N)||a(T,N)}function s(T,N){return i.upgrade(T,N)?!0:void(N&&d(T))}function a(T,N){E(T,function(P){return s(P,N)?!0:void 0})}function l(T){_.push(T),C||(C=!0,setTimeout(u))}function u(){C=!1;for(var T,N=_,P=0,L=N.length;L>P&&(T=N[P]);P++)T();_=[]}function d(T){A?l(function(){c(T)}):c(T)}function c(T){T.__upgraded__&&!T.__attached&&(T.__attached=!0,T.attachedCallback&&T.attachedCallback())}function f(T){h(T),E(T,function(N){h(N)})}function h(T){A?l(function(){m(T)}):m(T)}function m(T){T.__upgraded__&&T.__attached&&(T.__attached=!1,T.detachedCallback&&T.detachedCallback())}function y(T){for(var N=T,P=window.wrap(document);N;){if(N==P)return!0;N=N.parentNode||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&N.host}}function g(T){if(T.shadowRoot&&!T.shadowRoot.__watched){S.dom&&console.log("watching shadow-root for: ",T.localName);for(var N=T.shadowRoot;N;)v(N),N=N.olderShadowRoot}}function b(T,N){if(S.dom){var P=N[0];if(P&&P.type==="childList"&&P.addedNodes&&P.addedNodes){for(var L=P.addedNodes[0];L&&L!==document&&!L.host;)L=L.parentNode;var z=L&&(L.URL||L._URL||L.host&&L.host.localName)||"";z=z.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",N.length,z||"")}var j=y(T);N.forEach(function(B){B.type==="childList"&&(O(B.addedNodes,function(I){I.localName&&o(I,j)}),O(B.removedNodes,function(I){I.localName&&f(I)}))}),S.dom&&console.groupEnd()}function p(T){for(T=window.wrap(T),T||(T=window.wrap(document));T.parentNode;)T=T.parentNode;var N=T.__observer;N&&(b(T,N.takeRecords()),u())}function v(T){if(!T.__observer){var N=new MutationObserver(b.bind(this,T));N.observe(T,{childList:!0,subtree:!0}),T.__observer=N}}function w(T){T=window.wrap(T),S.dom&&console.group("upgradeDocument: ",T.baseURI.split("/").pop());var N=T===window.wrap(document);o(T,N),v(T),S.dom&&console.groupEnd()}function x(T){k(T,w)}var S=i.flags,E=i.forSubtree,k=i.forDocumentTree,A=window.MutationObserver._isPolyfilled&&S["throttle-attached"];i.hasPolyfillMutations=A,i.hasThrottledAttached=A;var C=!1,_=[],O=Array.prototype.forEach.call.bind(Array.prototype.forEach),M=Element.prototype.createShadowRoot;M&&(Element.prototype.createShadowRoot=function(){var T=M.call(this);return window.CustomElements.watchShadow(this),T}),i.watchShadow=g,i.upgradeDocumentTree=x,i.upgradeDocument=w,i.upgradeSubtree=a,i.upgradeAll=o,i.attached=d,i.takeRecords=p}),window.CustomElements.addModule(function(i){function o(c,f){if(c.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(c),!c.__upgraded__&&c.nodeType===Node.ELEMENT_NODE){var h=c.getAttribute("is"),m=i.getRegisteredDefinition(c.localName)||i.getRegisteredDefinition(h);if(m&&(h&&m.tag==c.localName||!h&&!m.extends))return s(c,m,f)}}function s(c,f,h){return d.upgrade&&console.group("upgrade:",c.localName),f.is&&c.setAttribute("is",f.is),a(c,f),c.__upgraded__=!0,u(c),h&&i.attached(c),i.upgradeSubtree(c,h),d.upgrade&&console.groupEnd(),c}function a(c,f){Object.__proto__||l(c,f.prototype,f.native),c.__proto__=f.prototype}function l(c,f,h){for(var m={},y=f;y!==h&&y!==HTMLElement.prototype;){for(var g,b=Object.getOwnPropertyNames(y),p=0;g=b[p];p++)m[g]||(Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g)),m[g]=1);y=Object.getPrototypeOf(y)}}function u(c){c.createdCallback&&c.createdCallback()}var d=i.flags;i.upgrade=o,i.upgradeWithDefinition=s,i.implementPrototype=a}),window.CustomElements.addModule(function(i){function o(T,N){var P=N||{};if(!T)throw new Error("document.registerElement: first argument `name` must not be empty");if(T.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(T)+"'.");if(l(T))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(T)+"'. The type name is invalid.");if(h(T))throw new Error("DuplicateDefinitionError: a type with name '"+String(T)+"' is already registered");return P.prototype||(P.prototype=Object.create(HTMLElement.prototype)),P.__name=T.toLowerCase(),P.extends&&(P.extends=P.extends.toLowerCase()),P.lifecycle=P.lifecycle||{},P.ancestry=u(P.extends),d(P),c(P),s(P.prototype),m(P.__name,P),P.ctor=y(P),P.ctor.prototype=P.prototype,P.prototype.constructor=P.ctor,i.ready&&w(document),P.ctor}function s(T){if(!T.setAttribute._polyfilled){var N=T.setAttribute;T.setAttribute=function(L,z){a.call(this,L,z,N)};var P=T.removeAttribute;T.removeAttribute=function(L){a.call(this,L,null,P)},T.setAttribute._polyfilled=!0}}function a(T,N,P){T=T.toLowerCase();var L=this.getAttribute(T);P.apply(this,arguments);var z=this.getAttribute(T);this.attributeChangedCallback&&z!==L&&this.attributeChangedCallback(T,L,z)}function l(T){for(var N=0;N<A.length;N++)if(T===A[N])return!0}function u(T){var N=h(T);return N?u(N.extends).concat([N]):[]}function d(T){for(var N,P=T.extends,L=0;N=T.ancestry[L];L++)P=N.is&&N.tag;T.tag=P||T.__name,P&&(T.is=T.__name)}function c(T){if(!Object.__proto__){var N=HTMLElement.prototype;if(T.is){var P=document.createElement(T.tag);N=Object.getPrototypeOf(P)}for(var L,z=T.prototype,j=!1;z;)z==N&&(j=!0),L=Object.getPrototypeOf(z),L&&(z.__proto__=L),z=L;j||console.warn(T.tag+" prototype not found in prototype chain for "+T.is),T.native=N}}function f(T){return S(O(T.tag),T)}function h(T){return T?C[T.toLowerCase()]:void 0}function m(T,N){C[T]=N}function y(T){return function(){return f(T)}}function g(T,N,P){return T===_?b(N,P):M(T,N)}function b(T,N){T&&(T=T.toLowerCase()),N&&(N=N.toLowerCase());var P=h(N||T);if(P){if(T==P.tag&&N==P.is)return new P.ctor;if(!N&&!P.is)return new P.ctor}var L;return N?(L=b(T),L.setAttribute("is",N),L):(L=O(T),T.indexOf("-")>=0&&E(L,HTMLElement),L)}function p(T,N){var P=T[N];T[N]=function(){var L=P.apply(this,arguments);return x(L),L}}var v,w=(i.isIE,i.upgradeDocumentTree),x=i.upgradeAll,S=i.upgradeWithDefinition,E=i.implementPrototype,k=i.useNative,A=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],C={},_="http://www.w3.org/1999/xhtml",O=document.createElement.bind(document),M=document.createElementNS.bind(document);v=Object.__proto__||k?function(T,N){return T instanceof N}:function(T,N){if(T instanceof N)return!0;for(var P=T;P;){if(P===N.prototype)return!0;P=P.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=o,document.createElement=b,document.createElementNS=g,i.registry=C,i.instanceof=v,i.reservedTagList=A,i.getRegisteredDefinition=h,document.register=document.registerElement}),function(i){function o(){u(window.wrap(document)),window.CustomElements.ready=!0;var f=window.requestAnimationFrame||function(h){setTimeout(h,16)};f(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var s=i.useNative,a=i.initializeModules;if(i.isIE,s){var l=function(){};i.watchShadow=l,i.upgrade=l,i.upgradeAll=l,i.upgradeDocumentTree=l,i.upgradeSubtree=l,i.takeRecords=l,i.instanceof=function(f,h){return f instanceof h}}else a();var u=i.upgradeDocumentTree,d=i.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(f){return f}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(f){f.import&&d(wrap(f.import))}),document.readyState==="complete"||i.flags.eager)o();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var c=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(c,o)}else o()}(window.CustomElements))}.call(it),function(){}.call(it),function(){var e=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var r,i,o,s;if(typeof InputEvent>"u")return!1;for(s=["data","getTargetRanges","inputType"],r=0,i=s.length;i>r;r++)if(o=s[r],!(o in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(e);var n=e.Trix;(function(){(function(){n.BasicObject=function(){function r(){}var i,o,s;return r.proxyMethod=function(a){var l,u,d,c,f;return d=o(a),l=d.name,c=d.toMethod,f=d.toProperty,u=d.optional,this.prototype[l]=function(){var h,m;return h=c!=null?u?typeof this[c]=="function"?this[c]():void 0:this[c]():f!=null?this[f]:void 0,u?(m=h!=null?h[l]:void 0,m!=null?i.call(m,h,arguments):void 0):(m=h[l],i.call(m,h,arguments))}},o=function(a){var l,u;if(!(u=a.match(s)))throw new Error("can't parse @proxyMethod expression: "+a);return l={name:u[4]},u[2]!=null?l.toMethod=u[1]:l.toProperty=u[1],u[3]!=null&&(l.optional=!0),l},i=Function.prototype.apply,s=/^(.+?)(\(\))?(\?)?\.(.+?)$/,r}()}).call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Object=function(o){function s(){this.id=++a}var a;return r(s,o),a=0,s.fromJSONString=function(l){return this.fromJSON(JSON.parse(l))},s.prototype.hasSameConstructorAs=function(l){return this.constructor===(l!=null?l.constructor:void 0)},s.prototype.isEqualTo=function(l){return this===l},s.prototype.inspect=function(){var l,u,d;return l=function(){var c,f,h;f=(c=this.contentsForInspection())!=null?c:{},h=[];for(u in f)d=f[u],h.push(u+"="+d);return h}.call(this),"#<"+this.constructor.name+":"+this.id+(l.length?" "+l.join(", "):"")+">"},s.prototype.contentsForInspection=function(){},s.prototype.toJSONString=function(){return JSON.stringify(this)},s.prototype.toUTF16String=function(){return n.UTF16String.box(this)},s.prototype.getCacheKey=function(){return this.id.toString()},s}(n.BasicObject)}.call(this),function(){n.extend=function(r){var i,o;for(i in r)o=r[i],this[i]=o;return this}}.call(this),function(){n.extend({defer:function(r){return setTimeout(r,1)}})}.call(this),function(){var r,i;n.extend({normalizeSpaces:function(o){return o.replace(RegExp(""+n.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+n.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(o){return o.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+n.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(o){return o.replace(RegExp(""+n.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(o,s){var a,l,u,d;return o=n.UTF16String.box(o),s=n.UTF16String.box(s),s.length<o.length?(l=i(o,s),d=l[0],a=l[1]):(u=i(s,o),a=u[0],d=u[1]),{added:a,removed:d}}}),i=function(o,s){var a,l,u,d,c;return o.isEqualTo(s)?["",""]:(l=r(o,s),d=l.utf16String.length,u=d?(c=l.offset,a=o.codepoints.slice(0,c).concat(o.codepoints.slice(c+d)),r(s,n.UTF16String.fromCodepoints(a))):r(s,o),[l.utf16String.toString(),u.utf16String.toString()])},r=function(o,s){var a,l,u;for(a=0,l=o.length,u=s.length;l>a&&o.charAt(a).isEqualTo(s.charAt(a));)a++;for(;l>a+1&&o.charAt(l-1).isEqualTo(s.charAt(u-1));)l--,u--;return{utf16String:o.slice(a,l),offset:a}}}.call(this),function(){n.extend({copyObject:function(r){var i,o,s;r==null&&(r={}),o={};for(i in r)s=r[i],o[i]=s;return o},objectsAreEqual:function(r,i){var o,s;if(r==null&&(r={}),i==null&&(i={}),Object.keys(r).length!==Object.keys(i).length)return!1;for(o in r)if(s=r[o],s!==i[o])return!1;return!0}})}.call(this),function(){var r=[].slice;n.extend({arraysAreEqual:function(i,o){var s,a,l,u;if(i==null&&(i=[]),o==null&&(o=[]),i.length!==o.length)return!1;for(a=s=0,l=i.length;l>s;a=++s)if(u=i[a],u!==o[a])return!1;return!0},arrayStartsWith:function(i,o){return i==null&&(i=[]),o==null&&(o=[]),n.arraysAreEqual(i.slice(0,o.length),o)},spliceArray:function(){var i,o,s;return o=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],s=o.slice(0),s.splice.apply(s,i),s},summarizeArrayChange:function(i,o){var s,a,l,u,d,c,f,h,m,y,g;for(i==null&&(i=[]),o==null&&(o=[]),s=[],y=[],l=new Set,u=0,f=i.length;f>u;u++)g=i[u],l.add(g);for(a=new Set,d=0,h=o.length;h>d;d++)g=o[d],a.add(g),l.has(g)||s.push(g);for(c=0,m=i.length;m>c;c++)g=i[c],a.has(g)||y.push(g);return{added:s,removed:y}}})}.call(this),function(){var r,i,o,s;r=null,i=null,s=null,o=null,n.extend({getAllAttributeNames:function(){return r??(r=n.getTextAttributeNames().concat(n.getBlockAttributeNames()))},getBlockConfig:function(a){return n.config.blockAttributes[a]},getBlockAttributeNames:function(){return i??(i=Object.keys(n.config.blockAttributes))},getTextConfig:function(a){return n.config.textAttributes[a]},getTextAttributeNames:function(){return s??(s=Object.keys(n.config.textAttributes))},getListAttributeNames:function(){var a,l;return o??(o=function(){var u,d;u=n.config.blockAttributes,d=[];for(a in u)l=u[a].listAttribute,l!=null&&d.push(l);return d}())}})}.call(this),function(){var r,i,o,s,a,l=[].indexOf||function(u){for(var d=0,c=this.length;c>d;d++)if(d in this&&this[d]===u)return d;return-1};r=document.documentElement,i=(o=(s=(a=r.matchesSelector)!=null?a:r.webkitMatchesSelector)!=null?s:r.msMatchesSelector)!=null?o:r.mozMatchesSelector,n.extend({handleEvent:function(u,d){var c,f,h,m,y,g,b,p,v,w,x;return b=d??{},y=b.onElement,m=b.matchingSelector,x=b.withCallback,h=b.inPhase,g=b.preventDefault,v=b.times,c=y??r,p=m,w=h==="capturing",f=function(S){var E;return v!=null&&--v===0&&f.destroy(),E=n.findClosestElementFromNode(S.target,{matchingSelector:p}),E!=null&&(x!=null&&x.call(E,S,E),g)?S.preventDefault():void 0},f.destroy=function(){return c.removeEventListener(u,f,w)},c.addEventListener(u,f,w),f},handleEventOnce:function(u,d){return d==null&&(d={}),d.times=1,n.handleEvent(u,d)},triggerEvent:function(u,d){var c,f,h,m,y,g,b;return b=d??{},g=b.onElement,f=b.bubbles,h=b.cancelable,c=b.attributes,m=g??r,f=f!==!1,h=h!==!1,y=document.createEvent("Events"),y.initEvent(u,f,h),c!=null&&n.extend.call(y,c),m.dispatchEvent(y)},elementMatchesSelector:function(u,d){return(u!=null?u.nodeType:void 0)===1?i.call(u,d):void 0},findClosestElementFromNode:function(u,d){var c,f,h;for(f=d??{},c=f.matchingSelector,h=f.untilNode;u!=null&&u.nodeType!==Node.ELEMENT_NODE;)u=u.parentNode;if(u!=null){if(c==null)return u;if(u.closest&&h==null)return u.closest(c);for(;u&&u!==h;){if(n.elementMatchesSelector(u,c))return u;u=u.parentNode}}},findInnerElement:function(u){for(;u!=null&&u.firstElementChild;)u=u.firstElementChild;return u},innerElementIsActive:function(u){return document.activeElement!==u&&n.elementContainsNode(u,document.activeElement)},elementContainsNode:function(u,d){if(u&&d)for(;d;){if(d===u)return!0;d=d.parentNode}},findNodeFromContainerAndOffset:function(u,d){var c;if(u)return u.nodeType===Node.TEXT_NODE?u:d===0?(c=u.firstChild)!=null?c:u:u.childNodes.item(d-1)},findElementFromContainerAndOffset:function(u,d){var c;return c=n.findNodeFromContainerAndOffset(u,d),n.findClosestElementFromNode(c)},findChildIndexOfNode:function(u){var d;if(u!=null&&u.parentNode){for(d=0;u=u.previousSibling;)d++;return d}},removeNode:function(u){var d;return u!=null&&(d=u.parentNode)!=null?d.removeChild(u):void 0},walkTree:function(u,d){var c,f,h,m,y;return h=d??{},f=h.onlyNodesOfType,m=h.usingFilter,c=h.expandEntityReferences,y=function(){switch(f){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(u,y,m??null,c===!0)},tagName:function(u){var d;return u!=null&&(d=u.tagName)!=null?d.toLowerCase():void 0},makeElement:function(u,d){var c,f,h,m,y,g,b,p,v,w,x,S,E,k;if(d==null&&(d={}),typeof u=="object"?(d=u,u=d.tagName):d={attributes:d},h=document.createElement(u),d.editable!=null&&(d.attributes==null&&(d.attributes={}),d.attributes.contenteditable=d.editable),d.attributes){v=d.attributes;for(g in v)k=v[g],h.setAttribute(g,k)}if(d.style){w=d.style;for(g in w)k=w[g],h.style[g]=k}if(d.data){x=d.data;for(g in x)k=x[g],h.dataset[g]=k}if(d.className)for(S=d.className.split(" "),m=0,b=S.length;b>m;m++)f=S[m],h.classList.add(f);if(d.textContent&&(h.textContent=d.textContent),d.childNodes)for(E=[].concat(d.childNodes),y=0,p=E.length;p>y;y++)c=E[y],h.appendChild(c);return h},getBlockTagNames:function(){var u,d;return n.blockTagNames!=null?n.blockTagNames:n.blockTagNames=function(){var c,f;c=n.config.blockAttributes,f=[];for(u in c)d=c[u].tagName,d&&f.push(d);return f}()},nodeIsBlockContainer:function(u){return n.nodeIsBlockStartComment(u!=null?u.firstChild:void 0)},nodeProbablyIsBlockContainer:function(u){var d,c;return d=n.tagName(u),l.call(n.getBlockTagNames(),d)>=0&&(c=n.tagName(u.firstChild),l.call(n.getBlockTagNames(),c)<0)},nodeIsBlockStart:function(u,d){var c;return c=(d??{strict:!0}).strict,c?n.nodeIsBlockStartComment(u):n.nodeIsBlockStartComment(u)||!n.nodeIsBlockStartComment(u.firstChild)&&n.nodeProbablyIsBlockContainer(u)},nodeIsBlockStartComment:function(u){return n.nodeIsCommentNode(u)&&(u!=null?u.data:void 0)==="block"},nodeIsCommentNode:function(u){return(u!=null?u.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(u,d){var c;return c=(d??{}).name,u?n.nodeIsTextNode(u)?u.data===n.ZERO_WIDTH_SPACE?c?u.parentNode.dataset.trixCursorTarget===c:!0:void 0:n.nodeIsCursorTarget(u.firstChild):void 0},nodeIsAttachmentElement:function(u){return n.elementMatchesSelector(u,n.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(u){return n.nodeIsTextNode(u)&&(u!=null?u.data:void 0)===""},nodeIsTextNode:function(u){return(u!=null?u.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var r,i,o,s,a;r=n.copyObject,s=n.objectsAreEqual,n.extend({normalizeRange:o=function(l){var u;if(l!=null)return Array.isArray(l)||(l=[l,l]),[i(l[0]),i((u=l[1])!=null?u:l[0])]},rangeIsCollapsed:function(l){var u,d,c;if(l!=null)return d=o(l),c=d[0],u=d[1],a(c,u)},rangesAreEqual:function(l,u){var d,c,f,h,m,y;if(l!=null&&u!=null)return f=o(l),c=f[0],d=f[1],h=o(u),y=h[0],m=h[1],a(c,y)&&a(d,m)}}),i=function(l){return typeof l=="number"?l:r(l)},a=function(l,u){return typeof l=="number"?l===u:s(l,u)}}.call(this),function(){var r,i,o,s,a,l,u;n.registerElement=function(d,c){var f,h;return c==null&&(c={}),d=d.toLowerCase(),c=u(c),h=l(c),(f=h.defaultCSS)&&(delete h.defaultCSS,s(f,d)),a(d,h)},s=function(d,c){var f;return f=o(c),f.textContent=d.replace(/%t/g,c)},o=function(d){var c,f;return c=document.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("data-tag-name",d.toLowerCase()),(f=r())&&c.setAttribute("nonce",f),document.head.insertBefore(c,document.head.firstChild),c},r=function(){var d;return(d=i("trix-csp-nonce")||i("csp-nonce"))?d.getAttribute("content"):void 0},i=function(d){return document.head.querySelector("meta[name="+d+"]")},l=function(d){var c,f,h;f={};for(c in d)h=d[c],f[c]=typeof h=="function"?{value:h}:h;return f},u=function(){var d;return d=function(c){var f,h,m,y,g;for(f={},g=["initialize","connect","disconnect"],h=0,y=g.length;y>h;h++)m=g[h],f[m]=c[m],delete c[m];return f},window.customElements?function(c){var f,h,m,y,g;return g=d(c),m=g.initialize,f=g.connect,h=g.disconnect,m&&(y=f,f=function(){return this.initialized||(this.initialized=!0,m.call(this)),y!=null?y.call(this):void 0}),f&&(c.connectedCallback=f),h&&(c.disconnectedCallback=h),c}:function(c){var f,h,m,y;return y=d(c),m=y.initialize,f=y.connect,h=y.disconnect,m&&(c.createdCallback=m),f&&(c.attachedCallback=f),h&&(c.detachedCallback=h),c}}(),a=function(){return window.customElements?function(d,c){var f;return f=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],f):HTMLElement.apply(this)},Object.setPrototypeOf(f.prototype,HTMLElement.prototype),Object.setPrototypeOf(f,HTMLElement),Object.defineProperties(f.prototype,c),window.customElements.define(d,f),f}:function(d,c){var f,h;return h=Object.create(HTMLElement.prototype,c),f=document.registerElement(d,{prototype:h}),Object.defineProperty(h,"constructor",{value:f}),f}}()}.call(this),function(){var r,i;n.extend({getDOMSelection:function(){var o;return o=window.getSelection(),o.rangeCount>0?o:void 0},getDOMRange:function(){var o,s;return(o=(s=n.getDOMSelection())!=null?s.getRangeAt(0):void 0)&&!r(o)?o:void 0},setDOMRange:function(o){var s;return s=window.getSelection(),s.removeAllRanges(),s.addRange(o),n.selectionChangeObserver.update()}}),r=function(o){return i(o.startContainer)||i(o.endContainer)},i=function(o){return!Object.getPrototypeOf(o)}}.call(this),function(){var r;r={"application/x-trix-feature-detection":"test"},n.extend({dataTransferIsPlainText:function(i){var o,s,a;return a=i.getData("text/plain"),s=i.getData("text/html"),a&&s?(o=new DOMParser().parseFromString(s,"text/html").body,o.textContent===a?!o.querySelector("*"):void 0):a!=null?a.length:void 0},dataTransferIsWritable:function(i){var o,s;if((i!=null?i.setData:void 0)!=null){for(o in r)if(s=r[o],!function(){try{return i.setData(o,s),i.getData(o)===s}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(i){return i.metaKey}:function(i){return i.ctrlKey}}()})}.call(this),function(){n.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var r,i,o,s;return i=n.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),r=n.makeElement("form"),r.appendChild(i),o=function(){try{return new FormData(r).has(i.dirName)}catch{}}(),s=function(){try{return i.matches(":dir(ltr),:dir(rtl)")}catch{}}(),o?function(a){return i.value=a,new FormData(r).get(i.dirName)}:s?function(a){return i.value=a,i.matches(":dir(rtl)")?"rtl":"ltr"}:function(a){var l;return l=a.trim().charAt(0),n.RTL_PATTERN.test(l)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var r,i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r=n.arraysAreEqual,n.Hash=function(s){function a(h){h==null&&(h={}),this.values=u(h),a.__super__.constructor.apply(this,arguments)}var l,u,d,c,f;return i(a,s),a.fromCommonAttributesOfObjects=function(h){var m,y,g,b,p,v;if(h==null&&(h=[]),!h.length)return new this;for(m=l(h[0]),g=m.getKeys(),v=h.slice(1),y=0,b=v.length;b>y;y++)p=v[y],g=m.getKeysCommonToHash(l(p)),m=m.slice(g);return m},a.box=function(h){return l(h)},a.prototype.add=function(h,m){return this.merge(c(h,m))},a.prototype.remove=function(h){return new n.Hash(u(this.values,h))},a.prototype.get=function(h){return this.values[h]},a.prototype.has=function(h){return h in this.values},a.prototype.merge=function(h){return new n.Hash(d(this.values,f(h)))},a.prototype.slice=function(h){var m,y,g,b;for(b={},m=0,g=h.length;g>m;m++)y=h[m],this.has(y)&&(b[y]=this.values[y]);return new n.Hash(b)},a.prototype.getKeys=function(){return Object.keys(this.values)},a.prototype.getKeysCommonToHash=function(h){var m,y,g,b,p;for(h=l(h),b=this.getKeys(),p=[],m=0,g=b.length;g>m;m++)y=b[m],this.values[y]===h.values[y]&&p.push(y);return p},a.prototype.isEqualTo=function(h){return r(this.toArray(),l(h).toArray())},a.prototype.isEmpty=function(){return this.getKeys().length===0},a.prototype.toArray=function(){var h,m,y;return(this.array!=null?this.array:this.array=function(){var g;m=[],g=this.values;for(h in g)y=g[h],m.push(h,y);return m}.call(this)).slice(0)},a.prototype.toObject=function(){return u(this.values)},a.prototype.toJSON=function(){return this.toObject()},a.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},c=function(h,m){var y;return y={},y[h]=m,y},d=function(h,m){var y,g,b;g=u(h);for(y in m)b=m[y],g[y]=b;return g},u=function(h,m){var y,g,b,p,v;for(p={},v=Object.keys(h).sort(),y=0,b=v.length;b>y;y++)g=v[y],g!==m&&(p[g]=h[g]);return p},l=function(h){return h instanceof n.Hash?h:new n.Hash(h)},f=function(h){return h instanceof n.Hash?h.values:h},a}(n.Object)}.call(this),function(){n.ObjectGroup=function(){function r(i,o){var s,a;this.objects=i??[],a=o.depth,s=o.asTree,s&&(this.depth=a,this.objects=this.constructor.groupObjects(this.objects,{asTree:s,depth:this.depth+1}))}return r.groupObjects=function(i,o){var s,a,l,u,d,c,f,h,m;for(i==null&&(i=[]),m=o??{},l=m.depth,s=m.asTree,s&&l==null&&(l=0),h=[],d=0,c=i.length;c>d;d++){if(f=i[d],u){if(typeof f.canBeGrouped=="function"&&f.canBeGrouped(l)&&(typeof(a=u[u.length-1]).canBeGroupedWith=="function"&&a.canBeGroupedWith(f,l))){u.push(f);continue}h.push(new this(u,{depth:l,asTree:s})),u=null}typeof f.canBeGrouped=="function"&&f.canBeGrouped(l)?u=[f]:h.push(f)}return u&&h.push(new this(u,{depth:l,asTree:s})),h},r.prototype.getObjects=function(){return this.objects},r.prototype.getDepth=function(){return this.depth},r.prototype.getCacheKey=function(){var i,o,s,a,l;for(o=["objectGroup"],l=this.getObjects(),i=0,s=l.length;s>i;i++)a=l[i],o.push(a.getCacheKey());return o.join("/")},r}()}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.ObjectMap=function(o){function s(a){var l,u,d,c,f;for(a==null&&(a=[]),this.objects={},d=0,c=a.length;c>d;d++)f=a[d],u=JSON.stringify(f),(l=this.objects)[u]==null&&(l[u]=f)}return r(s,o),s.prototype.find=function(a){var l;return l=JSON.stringify(a),this.objects[l]},s}(n.BasicObject)}.call(this),function(){n.ElementStore=function(){function r(o){this.reset(o)}var i;return r.prototype.add=function(o){var s;return s=i(o),this.elements[s]=o},r.prototype.remove=function(o){var s,a;return s=i(o),(a=this.elements[s])?(delete this.elements[s],a):void 0},r.prototype.reset=function(o){var s,a,l;for(o==null&&(o=[]),this.elements={},a=0,l=o.length;l>a;a++)s=o[a],this.add(s);return o},i=function(o){return o.dataset.trixStoreKey},r}()}.call(this),function(){}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Operation=function(o){function s(){return s.__super__.constructor.apply(this,arguments)}return r(s,o),s.prototype.isPerforming=function(){return this.performing===!0},s.prototype.hasPerformed=function(){return this.performed===!0},s.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},s.prototype.hasFailed=function(){return this.performed&&!this.succeeded},s.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(a){return function(l,u){return a.performing=!0,a.perform(function(d,c){return a.succeeded=d,a.performing=!1,a.performed=!0,a.succeeded?l(c):u(c)})}}(this))},s.prototype.perform=function(a){return a(!1)},s.prototype.release=function(){var a;return(a=this.promise)!=null&&typeof a.cancel=="function"&&a.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},s.proxyMethod("getPromise().then"),s.proxyMethod("getPromise().catch"),s}(n.BasicObject)}.call(this),function(){var r,i,o,s,a,l=function(d,c){function f(){this.constructor=d}for(var h in c)u.call(c,h)&&(d[h]=c[h]);return f.prototype=c.prototype,d.prototype=new f,d.__super__=c.prototype,d},u={}.hasOwnProperty;n.UTF16String=function(d){function c(f,h){this.ucs2String=f,this.codepoints=h,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return l(c,d),c.box=function(f){return f==null&&(f=""),f instanceof this?f:this.fromUCS2String(f!=null?f.toString():void 0)},c.fromUCS2String=function(f){return new this(f,s(f))},c.fromCodepoints=function(f){return new this(a(f),f)},c.prototype.offsetToUCS2Offset=function(f){return a(this.codepoints.slice(0,Math.max(0,f))).length},c.prototype.offsetFromUCS2Offset=function(f){return s(this.ucs2String.slice(0,Math.max(0,f))).length},c.prototype.slice=function(){var f;return this.constructor.fromCodepoints((f=this.codepoints).slice.apply(f,arguments))},c.prototype.charAt=function(f){return this.slice(f,f+1)},c.prototype.isEqualTo=function(f){return this.constructor.box(f).ucs2String===this.ucs2String},c.prototype.toJSON=function(){return this.ucs2String},c.prototype.getCacheKey=function(){return this.ucs2String},c.prototype.toString=function(){return this.ucs2String},c}(n.BasicObject),r=(typeof Array.from=="function"?Array.from("").length:void 0)===1,i=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,o=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" ",s=r&&i?function(d){return Array.from(d).map(function(c){return c.codePointAt(0)})}:function(d){var c,f,h,m,y;for(m=[],c=0,h=d.length;h>c;)y=d.charCodeAt(c++),y>=55296&&56319>=y&&h>c&&(f=d.charCodeAt(c++),(64512&f)===56320?y=((1023&y)<<10)+(1023&f)+65536:c--),m.push(y);return m},a=o?function(d){return String.fromCodePoint.apply(String,d)}:function(d){var c,f,h;return c=function(){var m,y,g;for(g=[],m=0,y=d.length;y>m;m++)h=d[m],f="",h>65535&&(h-=65536,f+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),g.push(f+String.fromCharCode(h));return g}(),c.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){n.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){n.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var r;n.config.blockAttributes=r={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(i){return n.tagName(i.parentNode)===r[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(i){return n.tagName(i.parentNode)===r[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var r,i;r=n.config.lang,i=[r.bytes,r.KB,r.MB,r.GB,r.TB,r.PB],n.config.fileSize={prefix:"IEC",precision:2,formatter:function(o){var s,a,l,u,d;switch(o){case 0:return"0 "+r.bytes;case 1:return"1 "+r.byte;default:return s=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),a=Math.floor(Math.log(o)/Math.log(s)),l=o/Math.pow(s,a),u=l.toFixed(this.precision),d=u.replace(/0*$/,"").replace(/\.$/,""),d+" "+i[a]}}}}.call(this),function(){n.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(r){var i;return i=window.getComputedStyle(r),i.fontWeight==="bold"||i.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(r){var i;return i=window.getComputedStyle(r),i.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(r){var i,o,s;return i=n.AttachmentView.attachmentSelector,s="a:not("+i+")",(o=n.findClosestElementFromNode(r,{matchingSelector:s}))?o.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var r,i,o,s,a;a="[data-trix-serialize=false]",s=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],i="data-trix-serialized-attributes",o="["+i+"]",r=new RegExp("<!--block-->","g"),n.extend({serializers:{"application/json":function(l){var u;if(l instanceof n.Document)u=l;else{if(!(l instanceof HTMLElement))throw new Error("unserializable object");u=n.Document.fromHTML(l.innerHTML)}return u.toSerializableDocument().toJSONString()},"text/html":function(l){var u,d,c,f,h,m,y,g,b,p,v,w,x,S,E,k,A;if(l instanceof n.Document)f=n.DocumentView.render(l);else{if(!(l instanceof HTMLElement))throw new Error("unserializable object");f=l.cloneNode(!0)}for(S=f.querySelectorAll(a),h=0,b=S.length;b>h;h++)c=S[h],n.removeNode(c);for(m=0,p=s.length;p>m;m++)for(u=s[m],E=f.querySelectorAll("["+u+"]"),y=0,v=E.length;v>y;y++)c=E[y],c.removeAttribute(u);for(k=f.querySelectorAll(o),g=0,w=k.length;w>g;g++){c=k[g];try{d=JSON.parse(c.getAttribute(i)),c.removeAttribute(i);for(x in d)A=d[x],c.setAttribute(x,A)}catch{}}return f.innerHTML.replace(r,"")}},deserializers:{"application/json":function(l){return n.Document.fromJSONString(l)},"text/html":function(l){return n.Document.fromHTML(l)}},serializeToContentType:function(l,u){var d;if(d=n.serializers[u])return d(l);throw new Error("unknown content type: "+u)},deserializeFromContentType:function(l,u){var d;if(d=n.deserializers[u])return d(l);throw new Error("unknown content type: "+u)}})}.call(this),function(){var r;r=n.config.lang,n.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+r.bold+'" tabindex="-1">'+r.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+r.italic+'" tabindex="-1">'+r.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+r.strike+'" tabindex="-1">'+r.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+r.link+'" tabindex="-1">'+r.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+r.heading1+'" tabindex="-1">'+r.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+r.quote+'" tabindex="-1">'+r.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+r.code+'" tabindex="-1">'+r.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+r.bullets+'" tabindex="-1">'+r.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+r.numbers+'" tabindex="-1">'+r.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+r.outdent+'" tabindex="-1">'+r.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+r.indent+'" tabindex="-1">'+r.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+r.attachFiles+'" tabindex="-1">'+r.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+r.undo+'" tabindex="-1">'+r.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+r.redo+'" tabindex="-1">'+r.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+r.urlPlaceholder+'" aria-label="'+r.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+r.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+r.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){n.config.undoInterval=5e3}.call(this),function(){n.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){n.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){n.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&n.browser.supportsInputEvents?2:0},pickFiles:function(r){var i;return i=n.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),i.addEventListener("change",function(){return r(i.files),n.removeNode(i)}),n.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(i),i.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){n.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=n.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var r=function(s,a){function l(){this.constructor=s}for(var u in a)i.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},i={}.hasOwnProperty,o=[].indexOf||function(s){for(var a=0,l=this.length;l>a;a++)if(a in this&&this[a]===s)return a;return-1};n.ObjectView=function(s){function a(l,u){this.object=l,this.options=u??{},this.childViews=[],this.rootView=this}return r(a,s),a.prototype.getNodes=function(){var l,u,d,c,f;for(this.nodes==null&&(this.nodes=this.createNodes()),c=this.nodes,f=[],l=0,u=c.length;u>l;l++)d=c[l],f.push(d.cloneNode(!0));return f},a.prototype.invalidate=function(){var l;return this.nodes=null,this.childViews=[],(l=this.parentView)!=null?l.invalidate():void 0},a.prototype.invalidateViewForObject=function(l){var u;return(u=this.findViewForObject(l))!=null?u.invalidate():void 0},a.prototype.findOrCreateCachedChildView=function(l,u){var d;return(d=this.getCachedViewForObject(u))?this.recordChildView(d):(d=this.createChildView.apply(this,arguments),this.cacheViewForObject(d,u)),d},a.prototype.createChildView=function(l,u,d){var c;return d==null&&(d={}),u instanceof n.ObjectGroup&&(d.viewClass=l,l=n.ObjectGroupView),c=new l(u,d),this.recordChildView(c)},a.prototype.recordChildView=function(l){return l.parentView=this,l.rootView=this.rootView,this.childViews.push(l),l},a.prototype.getAllChildViews=function(){var l,u,d,c,f;for(f=[],c=this.childViews,u=0,d=c.length;d>u;u++)l=c[u],f.push(l),f=f.concat(l.getAllChildViews());return f},a.prototype.findElement=function(){return this.findElementForObject(this.object)},a.prototype.findElementForObject=function(l){var u;return(u=l!=null?l.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+u+"']"):void 0},a.prototype.findViewForObject=function(l){var u,d,c,f;for(c=this.getAllChildViews(),u=0,d=c.length;d>u;u++)if(f=c[u],f.object===l)return f},a.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},a.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},a.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},a.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},a.prototype.getCachedViewForObject=function(l){var u;return(u=this.getViewCache())!=null?u[l.getCacheKey()]:void 0},a.prototype.cacheViewForObject=function(l,u){var d;return(d=this.getViewCache())!=null?d[u.getCacheKey()]=l:void 0},a.prototype.garbageCollectCachedViews=function(){var l,u,d,c,f,h;if(l=this.getViewCache()){h=this.getAllChildViews().concat(this),d=function(){var m,y,g;for(g=[],m=0,y=h.length;y>m;m++)f=h[m],g.push(f.object.getCacheKey());return g}(),c=[];for(u in l)o.call(d,u)<0&&c.push(delete l[u]);return c}},a}(n.BasicObject)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.ObjectGroupView=function(o){function s(){s.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return r(s,o),s.prototype.getChildViews=function(){var a,l,u,d;if(!this.childViews.length)for(d=this.objectGroup.getObjects(),a=0,l=d.length;l>a;a++)u=d[a],this.findOrCreateCachedChildView(this.viewClass,u,this.options);return this.childViews},s.prototype.createNodes=function(){var a,l,u,d,c,f,h,m,y;for(a=this.createContainerElement(),h=this.getChildViews(),l=0,d=h.length;d>l;l++)for(y=h[l],m=y.getNodes(),u=0,c=m.length;c>u;u++)f=m[u],a.appendChild(f);return[a]},s.prototype.createContainerElement=function(a){return a==null&&(a=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(a)},s}(n.ObjectView)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Controller=function(o){function s(){return s.__super__.constructor.apply(this,arguments)}return r(s,o),s}(n.BasicObject)}.call(this),function(){var r,i,o,s,a,l,u=function(h,m){return function(){return h.apply(m,arguments)}},d=function(h,m){function y(){this.constructor=h}for(var g in m)c.call(m,g)&&(h[g]=m[g]);return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},c={}.hasOwnProperty,f=[].indexOf||function(h){for(var m=0,y=this.length;y>m;m++)if(m in this&&this[m]===h)return m;return-1};r=n.findClosestElementFromNode,o=n.nodeIsEmptyTextNode,i=n.nodeIsBlockStartComment,s=n.normalizeSpaces,a=n.summarizeStringChange,l=n.tagName,n.MutationObserver=function(h){function m(v){this.element=v,this.didMutate=u(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var y,g,b,p;return d(m,h),g="data-trix-mutable",b="["+g+"]",p={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},m.prototype.start=function(){return this.reset(),this.observer.observe(this.element,p)},m.prototype.stop=function(){return this.observer.disconnect()},m.prototype.didMutate=function(v){var w,x;return(w=this.mutations).push.apply(w,this.findSignificantMutations(v)),this.mutations.length?((x=this.delegate)!=null&&typeof x.elementDidMutate=="function"&&x.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},m.prototype.reset=function(){return this.mutations=[]},m.prototype.findSignificantMutations=function(v){var w,x,S,E;for(E=[],w=0,x=v.length;x>w;w++)S=v[w],this.mutationIsSignificant(S)&&E.push(S);return E},m.prototype.mutationIsSignificant=function(v){var w,x,S,E;if(this.nodeIsMutable(v.target))return!1;for(E=this.nodesModifiedByMutation(v),w=0,x=E.length;x>w;w++)if(S=E[w],this.nodeIsSignificant(S))return!0;return!1},m.prototype.nodeIsSignificant=function(v){return v!==this.element&&!this.nodeIsMutable(v)&&!o(v)},m.prototype.nodeIsMutable=function(v){return r(v,{matchingSelector:b})},m.prototype.nodesModifiedByMutation=function(v){var w;switch(w=[],v.type){case"attributes":v.attributeName!==g&&w.push(v.target);break;case"characterData":w.push(v.target.parentNode),w.push(v.target);break;case"childList":w.push.apply(w,v.addedNodes),w.push.apply(w,v.removedNodes)}return w},m.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},m.prototype.getTextMutationSummary=function(){var v,w,x,S,E,k,A,C,_,O,M;for(C=this.getTextChangesFromCharacterData(),x=C.additions,E=C.deletions,M=this.getTextChangesFromChildList(),_=M.additions,k=0,A=_.length;A>k;k++)w=_[k],f.call(x,w)<0&&x.push(w);return E.push.apply(E,M.deletions),O={},(v=x.join(""))&&(O.textAdded=v),(S=E.join(""))&&(O.textDeleted=S),O},m.prototype.getMutationsByType=function(v){var w,x,S,E,k;for(E=this.mutations,k=[],w=0,x=E.length;x>w;w++)S=E[w],S.type===v&&k.push(S);return k},m.prototype.getTextChangesFromChildList=function(){var v,w,x,S,E,k,A,C,_,O,M;for(v=[],A=[],k=this.getMutationsByType("childList"),w=0,S=k.length;S>w;w++)E=k[w],v.push.apply(v,E.addedNodes),A.push.apply(A,E.removedNodes);return C=v.length===0&&A.length===1&&i(A[0]),C?(O=[],M=[`
`]):(O=y(v),M=y(A)),{additions:function(){var T,N,P;for(P=[],x=T=0,N=O.length;N>T;x=++T)_=O[x],_!==M[x]&&P.push(s(_));return P}(),deletions:function(){var T,N,P;for(P=[],x=T=0,N=M.length;N>T;x=++T)_=M[x],_!==O[x]&&P.push(s(_));return P}()}},m.prototype.getTextChangesFromCharacterData=function(){var v,w,x,S,E,k,A,C;return w=this.getMutationsByType("characterData"),w.length&&(C=w[0],x=w[w.length-1],E=s(C.oldValue),S=s(x.target.data),k=a(E,S),v=k.added,A=k.removed),{additions:v?[v]:[],deletions:A?[A]:[]}},y=function(v){var w,x,S,E;for(v==null&&(v=[]),E=[],w=0,x=v.length;x>w;w++)switch(S=v[w],S.nodeType){case Node.TEXT_NODE:E.push(S.data);break;case Node.ELEMENT_NODE:l(S)==="br"?E.push(`
`):E.push.apply(E,y(S.childNodes))}return E},m}(n.BasicObject)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.FileVerificationOperation=function(o){function s(a){this.file=a}return r(s,o),s.prototype.perform=function(a){var l;return l=new FileReader,l.onerror=function(){return a(!1)},l.onload=function(u){return function(){l.onerror=null;try{l.abort()}catch{}return a(!0,u.file)}}(this),l.readAsArrayBuffer(this.file)},s}(n.Operation)}.call(this),function(){var r,i,o=function(a,l){function u(){this.constructor=a}for(var d in l)s.call(l,d)&&(a[d]=l[d]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;r=n.handleEvent,i=n.innerElementIsActive,n.InputController=function(a){function l(u){var d;this.element=u,this.mutationObserver=new n.MutationObserver(this.element),this.mutationObserver.delegate=this;for(d in this.events)r(d,{onElement:this.element,withCallback:this.handlerFor(d)})}return o(l,a),l.prototype.events={},l.prototype.elementDidMutate=function(){},l.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},l.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},l.prototype.requestRender=function(){var u;return(u=this.delegate)!=null&&typeof u.inputControllerDidRequestRender=="function"?u.inputControllerDidRequestRender():void 0},l.prototype.requestReparse=function(){var u;return(u=this.delegate)!=null&&typeof u.inputControllerDidRequestReparse=="function"&&u.inputControllerDidRequestReparse(),this.requestRender()},l.prototype.attachFiles=function(u){var d,c;return c=function(){var f,h,m;for(m=[],f=0,h=u.length;h>f;f++)d=u[f],m.push(new n.FileVerificationOperation(d));return m}(),Promise.all(c).then(function(f){return function(h){return f.handleInput(function(){var m,y;return(m=this.delegate)!=null&&m.inputControllerWillAttachFiles(),(y=this.responder)!=null&&y.insertFiles(h),this.requestRender()})}}(this))},l.prototype.handlerFor=function(u){return function(d){return function(c){return c.defaultPrevented?void 0:d.handleInput(function(){return i(this.element)?void 0:(this.eventName=u,this.events[u].call(this,c))})}}(this)},l.prototype.handleInput=function(u){var d,c;try{return(d=this.delegate)!=null&&d.inputControllerWillHandleInput(),u.call(this)}finally{(c=this.delegate)!=null&&c.inputControllerDidHandleInput()}},l.prototype.createLinkHTML=function(u,d){var c;return c=document.createElement("a"),c.href=u,c.textContent=d??u,c.outerHTML},l}(n.BasicObject)}.call(this),function(){var r,i,o,s,a,l,u,d,c,f,h,m,y=function(p,v){function w(){this.constructor=p}for(var x in v)g.call(v,x)&&(p[x]=v[x]);return w.prototype=v.prototype,p.prototype=new w,p.__super__=v.prototype,p},g={}.hasOwnProperty,b=[].indexOf||function(p){for(var v=0,w=this.length;w>v;v++)if(v in this&&this[v]===p)return v;return-1};c=n.makeElement,f=n.objectsAreEqual,n.tagName,i=n.browser,u=n.keyEventIsKeyboardCommand,s=n.dataTransferIsWritable,o=n.dataTransferIsPlainText,d=n.config.keyNames,n.Level0InputController=function(p){function v(){v.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var w;return y(v,p),w=0,v.prototype.setInputSummary=function(x){var S,E;x==null&&(x={}),this.inputSummary.eventName=this.eventName;for(S in x)E=x[S],this.inputSummary[S]=E;return this.inputSummary},v.prototype.resetInputSummary=function(){return this.inputSummary={}},v.prototype.reset=function(){return this.resetInputSummary(),n.selectionChangeObserver.reset()},v.prototype.elementDidMutate=function(x){var S;return this.isComposing()?(S=this.delegate)!=null&&typeof S.inputControllerDidAllowUnhandledInput=="function"?S.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(x)&&(this.mutationIsExpected(x)?this.requestRender():this.requestReparse()),this.reset()})},v.prototype.mutationIsExpected=function(x){var S,E,k,A,C,_,O,M,T,N;return O=x.textAdded,M=x.textDeleted,this.inputSummary.preferDocument?!0:(S=O!=null?O===this.inputSummary.textAdded:!this.inputSummary.textAdded,E=M!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,T=(O===`
`||O===` 
`)&&!S,N=M===`
`&&!E,_=T&&!N||N&&!T,_&&(A=this.getSelectedRange())&&(k=T?O.replace(/\n$/,"").length||-1:(O!=null?O.length:void 0)||1,(C=this.responder)!=null?C.positionIsBlockBreak(A[1]+k):void 0)?!0:S&&E)},v.prototype.mutationIsSignificant=function(x){var S,E,k;return k=Object.keys(x).length>0,S=((E=this.compositionInput)!=null?E.getEndData():void 0)==="",k||!S},v.prototype.events={keydown:function(x){var S,E,k,A,C,_,O,M,T;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,A=d[x.keyCode]){for(E=this.keys,M=["ctrl","alt","shift","meta"],k=0,_=M.length;_>k;k++)O=M[k],x[O+"Key"]&&(O==="ctrl"&&(O="control"),E=E!=null?E[O]:void 0);(E!=null?E[A]:void 0)!=null&&(this.setInputSummary({keyName:A}),n.selectionChangeObserver.reset(),E[A].call(this,x))}return u(x)&&(S=String.fromCharCode(x.keyCode).toLowerCase())&&(C=function(){var N,P,L,z;for(L=["alt","shift"],z=[],N=0,P=L.length;P>N;N++)O=L[N],x[O+"Key"]&&z.push(O);return z}(),C.push(S),(T=this.delegate)!=null?T.inputControllerDidReceiveKeyboardCommand(C):void 0)?x.preventDefault():void 0},keypress:function(x){var S,E,k;if(this.inputSummary.eventName==null&&!x.metaKey&&(!x.ctrlKey||x.altKey))return(k=m(x))?((S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(E=this.responder)!=null&&E.insertString(k),this.setInputSummary({textAdded:k,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(x){var S,E,k,A;return S=x.data,A=this.inputSummary.textAdded,A&&A!==S&&A.toUpperCase()===S?(E=this.getSelectedRange(),this.setSelectedRange([E[0],E[1]+A.length]),(k=this.responder)!=null&&k.insertString(S),this.setInputSummary({textAdded:S}),this.setSelectedRange(E)):void 0},dragenter:function(x){return x.preventDefault()},dragstart:function(x){var S;return x.target,this.serializeSelectionToDataTransfer(x.dataTransfer),this.draggedRange=this.getSelectedRange(),(S=this.delegate)!=null&&typeof S.inputControllerDidStartDrag=="function"?S.inputControllerDidStartDrag():void 0},dragover:function(x){var S,E;return!this.draggedRange&&!this.canAcceptDataTransfer(x.dataTransfer)||(x.preventDefault(),S={x:x.clientX,y:x.clientY},f(S,this.draggingPoint))?void 0:(this.draggingPoint=S,(E=this.delegate)!=null&&typeof E.inputControllerDidReceiveDragOverPoint=="function"?E.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var x;return(x=this.delegate)!=null&&typeof x.inputControllerDidCancelDrag=="function"&&x.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(x){var S,E,k,A,C,_,O,M,T;return x.preventDefault(),k=(C=x.dataTransfer)!=null?C.files:void 0,A={x:x.clientX,y:x.clientY},(_=this.responder)!=null&&_.setLocationRangeFromPointRange(A),k!=null&&k.length?this.attachFiles(k):this.draggedRange?((O=this.delegate)!=null&&O.inputControllerWillMoveText(),(M=this.responder)!=null&&M.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(E=x.dataTransfer.getData("application/x-trix-document"))&&(S=n.Document.fromJSONString(E),(T=this.responder)!=null&&T.insertDocument(S),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(x){var S,E;return(S=this.responder)!=null&&S.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(x.clipboardData)&&x.preventDefault(),(E=this.delegate)!=null&&E.inputControllerWillCutText(),this.deleteInDirection("backward"),x.defaultPrevented)?this.requestRender():void 0},copy:function(x){var S;return(S=this.responder)!=null&&S.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(x.clipboardData)?x.preventDefault():void 0},paste:function(x){var S,E,k,A,C,_,O,M,T,N,P,L,z,j,B,I,$,V,G,K,H,W,Y;return S=(M=x.clipboardData)!=null?M:x.testClipboardData,O={clipboard:S},S==null||h(x)?void this.getPastedHTMLUsingHiddenElement(function(J){return function(te){var de,be,Ae;return O.type="text/html",O.html=te,(de=J.delegate)!=null&&de.inputControllerWillPaste(O),(be=J.responder)!=null&&be.insertHTML(O.html),J.requestRender(),(Ae=J.delegate)!=null?Ae.inputControllerDidPaste(O):void 0}}(this)):((A=S.getData("URL"))?(O.type="text/html",Y=(_=S.getData("public.url-name"))?n.squishBreakableWhitespace(_).trim():A,O.html=this.createLinkHTML(A,Y),(T=this.delegate)!=null&&T.inputControllerWillPaste(O),this.setInputSummary({textAdded:Y,didDelete:this.selectionIsExpanded()}),(B=this.responder)!=null&&B.insertHTML(O.html),this.requestRender(),(I=this.delegate)!=null&&I.inputControllerDidPaste(O)):o(S)?(O.type="text/plain",O.string=S.getData("text/plain"),($=this.delegate)!=null&&$.inputControllerWillPaste(O),this.setInputSummary({textAdded:O.string,didDelete:this.selectionIsExpanded()}),(V=this.responder)!=null&&V.insertString(O.string),this.requestRender(),(G=this.delegate)!=null&&G.inputControllerDidPaste(O)):(C=S.getData("text/html"))?(O.type="text/html",O.html=C,(K=this.delegate)!=null&&K.inputControllerWillPaste(O),(H=this.responder)!=null&&H.insertHTML(O.html),this.requestRender(),(W=this.delegate)!=null&&W.inputControllerDidPaste(O)):b.call(S.types,"Files")>=0&&(k=(N=S.items)!=null&&(P=N[0])!=null&&typeof P.getAsFile=="function"?P.getAsFile():void 0)&&(!k.name&&(E=a(k))&&(k.name="pasted-file-"+ ++w+"."+E),O.type="File",O.file=k,(L=this.delegate)!=null&&L.inputControllerWillAttachFiles(),(z=this.responder)!=null&&z.insertFile(O.file),this.requestRender(),(j=this.delegate)!=null&&j.inputControllerDidPaste(O)),x.preventDefault())},compositionstart:function(x){return this.getCompositionInput().start(x.data)},compositionupdate:function(x){return this.getCompositionInput().update(x.data)},compositionend:function(x){return this.getCompositionInput().end(x.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(x){return this.inputSummary.didInput=!0,x.stopPropagation()}},v.prototype.keys={backspace:function(x){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("backward",x)},delete:function(x){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("forward",x)},return:function(){var x,S;return this.setInputSummary({preferDocument:!0}),(x=this.delegate)!=null&&x.inputControllerWillPerformTyping(),(S=this.responder)!=null?S.insertLineBreak():void 0},tab:function(x){var S,E;return(S=this.responder)!=null&&S.canIncreaseNestingLevel()?((E=this.responder)!=null&&E.increaseNestingLevel(),this.requestRender(),x.preventDefault()):void 0},left:function(x){var S;return this.selectionIsInCursorTarget()?(x.preventDefault(),(S=this.responder)!=null?S.moveCursorInDirection("backward"):void 0):void 0},right:function(x){var S;return this.selectionIsInCursorTarget()?(x.preventDefault(),(S=this.responder)!=null?S.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(x){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("forward",x)},h:function(x){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("backward",x)},o:function(x){var S,E;return x.preventDefault(),(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(E=this.responder)!=null&&E.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(x){var S,E;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(E=this.responder)!=null&&E.insertString(`
`),this.requestRender(),x.preventDefault()},tab:function(x){var S,E;return(S=this.responder)!=null&&S.canDecreaseNestingLevel()?((E=this.responder)!=null&&E.decreaseNestingLevel(),this.requestRender(),x.preventDefault()):void 0},left:function(x){return this.selectionIsInCursorTarget()?(x.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(x){return this.selectionIsInCursorTarget()?(x.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var x;return this.setInputSummary({preferDocument:!1}),(x=this.delegate)!=null?x.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var x;return this.setInputSummary({preferDocument:!1}),(x=this.delegate)!=null?x.inputControllerWillPerformTyping():void 0}}},v.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new r(this)},v.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},v.prototype.deleteInDirection=function(x,S){var E;return((E=this.responder)!=null?E.deleteInDirection(x):void 0)!==!1?this.setInputSummary({didDelete:!0}):S?(S.preventDefault(),this.requestRender()):void 0},v.prototype.serializeSelectionToDataTransfer=function(x){var S,E;if(s(x))return S=(E=this.responder)!=null?E.getSelectedDocument().toSerializableDocument():void 0,x.setData("application/x-trix-document",JSON.stringify(S)),x.setData("text/html",n.DocumentView.render(S).innerHTML),x.setData("text/plain",S.toString().replace(/\n$/,"")),!0},v.prototype.canAcceptDataTransfer=function(x){var S,E,k,A,C,_;for(_={},A=(k=x!=null?x.types:void 0)!=null?k:[],S=0,E=A.length;E>S;S++)C=A[S],_[C]=!0;return _.Files||_["application/x-trix-document"]||_["text/html"]||_["text/plain"]},v.prototype.getPastedHTMLUsingHiddenElement=function(x){var S,E,k;return E=this.getSelectedRange(),k={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},S=c({style:k,tagName:"div",editable:!0}),document.body.appendChild(S),S.focus(),requestAnimationFrame(function(A){return function(){var C;return C=S.innerHTML,n.removeNode(S),A.setSelectedRange(E),x(C)}}(this))},v.proxyMethod("responder?.getSelectedRange"),v.proxyMethod("responder?.setSelectedRange"),v.proxyMethod("responder?.expandSelectionInDirection"),v.proxyMethod("responder?.selectionIsInCursorTarget"),v.proxyMethod("responder?.selectionIsExpanded"),v}(n.InputController),a=function(p){var v,w;return(v=p.type)!=null&&(w=v.match(/\/(\w+)$/))!=null?w[1]:void 0},l=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,m=function(p){var v;return p.key&&l&&p.key.codePointAt(0)===p.keyCode?p.key:(p.which===null?v=p.keyCode:p.which!==0&&p.charCode!==0&&(v=p.charCode),v!=null&&d[v]!=="escape"?n.UTF16String.fromCodepoints([v]).toString():void 0)},h=function(p){var v,w,x,S,E,k,A,C,_;if(A=p.clipboardData){if(b.call(A.types,"text/html")>=0){for(C=A.types,x=0,k=C.length;k>x;x++)if(_=C[x],v=/^CorePasteboardFlavorType/.test(_),w=/^dyn\./.test(_)&&A.getData(_),v||w)return!0;return!1}return S=b.call(A.types,"com.apple.webarchive")>=0,E=b.call(A.types,"com.apple.flat-rtfd")>=0,S||E}},r=function(p){function v(w){var x;this.inputController=w,x=this.inputController,this.responder=x.responder,this.delegate=x.delegate,this.inputSummary=x.inputSummary,this.data={}}return y(v,p),v.prototype.start=function(w){var x,S;return this.data.start=w,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(x=this.responder)!=null&&x.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(S=this.responder)!=null?S.getSelectedRange():void 0):void 0},v.prototype.update=function(w){var x;return this.data.update=w,this.isSignificant()&&(x=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=x):void 0},v.prototype.end=function(w){var x,S,E,k;return this.data.end=w,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(x=this.delegate)!=null&&x.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.setSelectedRange(this.range),(E=this.responder)!=null&&E.insertString(this.data.end),(k=this.responder)!=null?k.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},v.prototype.getEndData=function(){return this.data.end},v.prototype.isEnded=function(){return this.getEndData()!=null},v.prototype.isSignificant=function(){return i.composesExistingText?this.inputSummary.didInput:!0},v.prototype.canApplyToDocument=function(){var w,x;return((w=this.data.start)!=null?w.length:void 0)===0&&((x=this.data.end)!=null?x.length:void 0)>0&&this.range!=null},v.proxyMethod("inputController.setInputSummary"),v.proxyMethod("inputController.requestRender"),v.proxyMethod("inputController.requestReparse"),v.proxyMethod("responder?.selectionIsExpanded"),v.proxyMethod("responder?.insertPlaceholder"),v.proxyMethod("responder?.selectPlaceholder"),v.proxyMethod("responder?.forgetPlaceholder"),v}(n.BasicObject)}.call(this),function(){var r,i,o,s=function(d,c){return function(){return d.apply(c,arguments)}},a=function(d,c){function f(){this.constructor=d}for(var h in c)l.call(c,h)&&(d[h]=c[h]);return f.prototype=c.prototype,d.prototype=new f,d.__super__=c.prototype,d},l={}.hasOwnProperty,u=[].indexOf||function(d){for(var c=0,f=this.length;f>c;c++)if(c in this&&this[c]===d)return c;return-1};r=n.dataTransferIsPlainText,i=n.keyEventIsKeyboardCommand,o=n.objectsAreEqual,n.Level2InputController=function(d){function c(){return this.render=s(this.render,this),c.__super__.constructor.apply(this,arguments)}var f,h,m,y,g,b;return a(c,d),c.prototype.elementDidMutate=function(){var p;return this.scheduledRender?this.composing&&(p=this.delegate)!=null&&typeof p.inputControllerDidAllowUnhandledInput=="function"?p.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},c.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},c.prototype.render=function(){var p;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(p=this.delegate)!=null&&p.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},c.prototype.reparse=function(){var p;return(p=this.delegate)!=null?p.reparse():void 0},c.prototype.events={keydown:function(p){var v,w,x,S;if(i(p)){if(v=h(p),(S=this.delegate)!=null?S.inputControllerDidReceiveKeyboardCommand(v):void 0)return p.preventDefault()}else if(x=p.key,p.altKey&&(x+="+Alt"),p.shiftKey&&(x+="+Shift"),w=this.keys[x])return this.withEvent(p,w)},paste:function(p){var v,w,x,S,E,k,A,C,_;return m(p)?(p.preventDefault(),this.attachFiles(p.clipboardData.files)):y(p)?(p.preventDefault(),w={type:"text/plain",string:p.clipboardData.getData("text/plain")},(x=this.delegate)!=null&&x.inputControllerWillPaste(w),(S=this.responder)!=null&&S.insertString(w.string),this.render(),(E=this.delegate)!=null?E.inputControllerDidPaste(w):void 0):(v=(k=p.clipboardData)!=null?k.getData("URL"):void 0)?(p.preventDefault(),w={type:"text/html",html:this.createLinkHTML(v)},(A=this.delegate)!=null&&A.inputControllerWillPaste(w),(C=this.responder)!=null&&C.insertHTML(w.html),this.render(),(_=this.delegate)!=null?_.inputControllerDidPaste(w):void 0):void 0},beforeinput:function(p){var v;return(v=this.inputTypes[p.inputType])?(this.withEvent(p,v),this.scheduleRender()):void 0},input:function(){return n.selectionChangeObserver.reset()},dragstart:function(p){var v,w;return(v=this.responder)!=null&&v.selectionContainsAttachments()?(p.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(w=this.responder)!=null?w.getSelectedRange():void 0,point:g(p)}):void 0},dragenter:function(p){return f(p)?p.preventDefault():void 0},dragover:function(p){var v,w;if(this.dragging){if(p.preventDefault(),v=g(p),!o(v,this.dragging.point))return this.dragging.point=v,(w=this.responder)!=null?w.setLocationRangeFromPointRange(v):void 0}else if(f(p))return p.preventDefault()},drop:function(p){var v,w,x,S;return this.dragging?(p.preventDefault(),(w=this.delegate)!=null&&w.inputControllerWillMoveText(),(x=this.responder)!=null&&x.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):f(p)?(p.preventDefault(),v=g(p),(S=this.responder)!=null&&S.setLocationRangeFromPointRange(v),this.attachFiles(p.dataTransfer.files)):void 0},dragend:function(){var p;return this.dragging?((p=this.responder)!=null&&p.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},c.prototype.keys={ArrowLeft:function(){var p,v;return(p=this.responder)!=null&&p.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(v=this.responder)!=null?v.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var p,v;return(p=this.responder)!=null&&p.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(v=this.responder)!=null?v.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var p,v,w;return(p=this.responder)!=null&&p.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(v=this.delegate)!=null&&v.inputControllerWillPerformTyping(),(w=this.responder)!=null&&w.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var p,v;return(p=this.responder)!=null&&p.canIncreaseNestingLevel()?(this.event.preventDefault(),(v=this.responder)!=null&&v.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var p,v;return(p=this.responder)!=null&&p.canDecreaseNestingLevel()?(this.event.preventDefault(),(v=this.responder)!=null&&v.decreaseNestingLevel(),this.render()):void 0}},c.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var p;return this.deleteByDragRange=(p=this.responder)!=null?p.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var p;return(p=this.responder)!=null&&p.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var v;return(v=this.responder)!=null?v.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var p;return(p=this.responder)!=null&&p.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var v;return(v=this.responder)!=null?v.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var p,v,w,x;x=[];for(p in(v=this.responder)!=null?v.getCurrentAttributes():void 0)x.push((w=this.responder)!=null?w.removeCurrentAttribute(p):void 0);return x})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var p;return(p=this.delegate)!=null?p.inputControllerWillPerformRedo():void 0},historyUndo:function(){var p;return(p=this.delegate)!=null?p.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var p,v;return(p=this.deleteByDragRange)?(this.deleteByDragRange=null,(v=this.delegate)!=null&&v.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var w;return(w=this.responder)!=null?w.moveTextFromRange(p):void 0})):void 0},insertFromPaste:function(){var p,v,w,x,S,E,k,A,C,_,O;return p=this.event.dataTransfer,S={dataTransfer:p},(v=p.getData("URL"))?(this.event.preventDefault(),S.type="text/html",O=(x=p.getData("public.url-name"))?n.squishBreakableWhitespace(x).trim():v,S.html=this.createLinkHTML(v,O),(E=this.delegate)!=null&&E.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertHTML(S.html):void 0}),this.afterRender=function(M){return function(){var T;return(T=M.delegate)!=null?T.inputControllerDidPaste(S):void 0}}(this)):r(p)?(S.type="text/plain",S.string=p.getData("text/plain"),(k=this.delegate)!=null&&k.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertString(S.string):void 0}),this.afterRender=function(M){return function(){var T;return(T=M.delegate)!=null?T.inputControllerDidPaste(S):void 0}}(this)):(w=p.getData("text/html"))?(this.event.preventDefault(),S.type="text/html",S.html=w,(A=this.delegate)!=null&&A.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertHTML(S.html):void 0}),this.afterRender=function(M){return function(){var T;return(T=M.delegate)!=null?T.inputControllerDidPaste(S):void 0}}(this)):(C=p.files)!=null&&C.length?(S.type="File",S.file=p.files[0],(_=this.delegate)!=null&&_.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertFile(S.file):void 0}),this.afterRender=function(M){return function(){var T;return(T=M.delegate)!=null?T.inputControllerDidPaste(S):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var p;return(p=this.delegate)!=null&&p.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var v;return(v=this.responder)!=null?v.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var p,v;return this.insertString((p=this.event.data)!=null?p:(v=this.event.dataTransfer)!=null?v.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},c.prototype.insertString=function(p,v){var w;return p==null&&(p=""),(w=this.delegate)!=null&&w.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertString(p,v):void 0})},c.prototype.toggleAttributeIfSupported=function(p){var v;return u.call(n.getAllAttributeNames(),p)>=0?((v=this.delegate)!=null&&v.inputControllerWillPerformFormatting(p),this.withTargetDOMRange(function(){var w;return(w=this.responder)!=null?w.toggleCurrentAttribute(p):void 0})):void 0},c.prototype.activateAttributeIfSupported=function(p,v){var w;return u.call(n.getAllAttributeNames(),p)>=0?((w=this.delegate)!=null&&w.inputControllerWillPerformFormatting(p),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.setCurrentAttribute(p,v):void 0})):void 0},c.prototype.deleteInDirection=function(p,v){var w,x,S,E;return S=(v??{recordUndoEntry:!0}).recordUndoEntry,S&&(E=this.delegate)!=null&&E.inputControllerWillPerformTyping(),x=function(k){return function(){var A;return(A=k.responder)!=null?A.deleteInDirection(p):void 0}}(this),(w=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(w,x):x()},c.prototype.withTargetDOMRange=function(p,v){var w;return typeof p=="function"&&(v=p,p=this.getTargetDOMRange()),p?(w=this.responder)!=null?w.withTargetDOMRange(p,v.bind(this)):void 0:(n.selectionChangeObserver.reset(),v.call(this))},c.prototype.getTargetDOMRange=function(p){var v,w,x,S;return x=(p??{minLength:0}).minLength,(S=typeof(v=this.event).getTargetRanges=="function"?v.getTargetRanges():void 0)&&S.length&&(w=b(S[0]),x===0||w.toString().length>=x)?w:void 0},b=function(p){var v;return v=document.createRange(),v.setStart(p.startContainer,p.startOffset),v.setEnd(p.endContainer,p.endOffset),v},c.prototype.withEvent=function(p,v){var w;this.event=p;try{w=v.call(this)}finally{this.event=null}return w},f=function(p){var v,w;return u.call((v=(w=p.dataTransfer)!=null?w.types:void 0)!=null?v:[],"Files")>=0},m=function(p){var v;return(v=p.clipboardData)?u.call(v.types,"Files")>=0&&v.types.length===1&&v.files.length>=1:void 0},y=function(p){var v;return(v=p.clipboardData)?u.call(v.types,"text/plain")>=0&&v.types.length===1:void 0},h=function(p){var v;return v=[],p.altKey&&v.push("alt"),p.shiftKey&&v.push("shift"),v.push(p.key),v},g=function(p){return{x:p.clientX,y:p.clientY}},c}(n.InputController)}.call(this),function(){var r,i,o,s,a,l,u,d,c=function(m,y){return function(){return m.apply(y,arguments)}},f=function(m,y){function g(){this.constructor=m}for(var b in y)h.call(y,b)&&(m[b]=y[b]);return g.prototype=y.prototype,m.prototype=new g,m.__super__=y.prototype,m},h={}.hasOwnProperty;i=n.defer,o=n.handleEvent,l=n.makeElement,d=n.tagName,u=n.config,a=u.lang,r=u.css,s=u.keyNames,n.AttachmentEditorController=function(m){function y(b,p,v,w){this.attachmentPiece=b,this.element=p,this.container=v,this.options=w??{},this.didBlurCaption=c(this.didBlurCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didInputCaption=c(this.didInputCaption,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didClickActionButton=c(this.didClickActionButton,this),this.didClickToolbar=c(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,d(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var g;return f(y,m),g=function(b){return function(){var p;return p=b.apply(this,arguments),p.do(),this.undos==null&&(this.undos=[]),this.undos.push(p.undo)}},y.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},y.prototype.uninstall=function(){var b,p;for(this.savePendingCaption();p=this.undos.pop();)p();return(b=this.delegate)!=null?b.didUninstallAttachmentEditor(this):void 0},y.prototype.savePendingCaption=function(){var b,p,v;return this.pendingCaption!=null?(b=this.pendingCaption,this.pendingCaption=null,b?(p=this.delegate)!=null&&typeof p.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?p.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:b},this.attachment):void 0:(v=this.delegate)!=null&&typeof v.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?v.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},y.prototype.makeElementMutable=g(function(){return{do:function(b){return function(){return b.element.dataset.trixMutable=!0}}(this),undo:function(b){return function(){return delete b.element.dataset.trixMutable}}(this)}}),y.prototype.addToolbar=g(function(){var b;return b=l({tagName:"div",className:r.attachmentToolbar,data:{trixMutable:!0},childNodes:l({tagName:"div",className:"trix-button-row",childNodes:l({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:l({tagName:"button",className:"trix-button trix-button--remove",textContent:a.remove,attributes:{title:a.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&b.appendChild(l({tagName:"div",className:r.attachmentMetadataContainer,childNodes:l({tagName:"span",className:r.attachmentMetadata,childNodes:[l({tagName:"span",className:r.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),l({tagName:"span",className:r.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),o("click",{onElement:b,withCallback:this.didClickToolbar}),o("click",{onElement:b,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(p){return function(){return p.element.appendChild(b)}}(this),undo:function(){return function(){return n.removeNode(b)}}()}}),y.prototype.installCaptionEditor=g(function(){var b,p,v,w,x;return w=l({tagName:"textarea",className:r.attachmentCaptionEditor,attributes:{placeholder:a.captionPlaceholder},data:{trixMutable:!0}}),w.value=this.attachmentPiece.getCaption(),x=w.cloneNode(),x.classList.add("trix-autoresize-clone"),x.tabIndex=-1,b=function(){return x.value=w.value,w.style.height=x.scrollHeight+"px"},o("input",{onElement:w,withCallback:b}),o("input",{onElement:w,withCallback:this.didInputCaption}),o("keydown",{onElement:w,withCallback:this.didKeyDownCaption}),o("change",{onElement:w,withCallback:this.didChangeCaption}),o("blur",{onElement:w,withCallback:this.didBlurCaption}),v=this.element.querySelector("figcaption"),p=v.cloneNode(),{do:function(S){return function(){return v.style.display="none",p.appendChild(w),p.appendChild(x),p.classList.add(r.attachmentCaption+"--editing"),v.parentElement.insertBefore(p,v),b(),S.options.editCaption?i(function(){return w.focus()}):void 0}}(this),undo:function(){return n.removeNode(p),v.style.display=null}}}),y.prototype.didClickToolbar=function(b){return b.preventDefault(),b.stopPropagation()},y.prototype.didClickActionButton=function(b){var p;switch(b.target.getAttribute("data-trix-action")){case"remove":return(p=this.delegate)!=null?p.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},y.prototype.didKeyDownCaption=function(b){var p;return s[b.keyCode]==="return"?(b.preventDefault(),this.savePendingCaption(),(p=this.delegate)!=null&&typeof p.attachmentEditorDidRequestDeselectingAttachment=="function"?p.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},y.prototype.didInputCaption=function(b){return this.pendingCaption=b.target.value.replace(/\s/g," ").trim()},y.prototype.didChangeCaption=function(){return this.savePendingCaption()},y.prototype.didBlurCaption=function(){return this.savePendingCaption()},y}(n.BasicObject)}.call(this),function(){var r,i,o,s=function(l,u){function d(){this.constructor=l}for(var c in u)a.call(u,c)&&(l[c]=u[c]);return d.prototype=u.prototype,l.prototype=new d,l.__super__=u.prototype,l},a={}.hasOwnProperty;o=n.makeElement,r=n.config.css,n.AttachmentView=function(l){function u(){u.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var d;return s(u,l),u.attachmentSelector="[data-trix-attachment]",u.prototype.createContentNodes=function(){return[]},u.prototype.createNodes=function(){var c,f,h,m,y,g,b;if(c=m=o({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(f=this.getHref())&&(m=o({tagName:"a",editable:!1,attributes:{href:f,tabindex:-1}}),c.appendChild(m)),this.attachment.hasContent())m.innerHTML=this.attachment.getContent();else for(b=this.createContentNodes(),h=0,y=b.length;y>h;h++)g=b[h],m.appendChild(g);return m.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=o({tagName:"progress",attributes:{class:r.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),c.appendChild(this.progressElement)),[d("left"),c,d("right")]},u.prototype.createCaptionElement=function(){var c,f,h,m,y,g,b;return h=o({tagName:"figcaption",className:r.attachmentCaption}),(c=this.attachmentPiece.getCaption())?(h.classList.add(r.attachmentCaption+"--edited"),h.textContent=c):(f=this.getCaptionConfig(),f.name&&(m=this.attachment.getFilename()),f.size&&(g=this.attachment.getFormattedFilesize()),m&&(y=o({tagName:"span",className:r.attachmentName,textContent:m}),h.appendChild(y)),g&&(m&&h.appendChild(document.createTextNode(" ")),b=o({tagName:"span",className:r.attachmentSize,textContent:g}),h.appendChild(b))),h},u.prototype.getClassName=function(){var c,f;return f=[r.attachment,r.attachment+"--"+this.attachment.getType()],(c=this.attachment.getExtension())&&f.push(r.attachment+"--"+c),f.join(" ")},u.prototype.getData=function(){var c,f;return f={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},c=this.attachmentPiece.attributes,c.isEmpty()||(f.trixAttributes=JSON.stringify(c)),this.attachment.isPending()&&(f.trixSerialize=!1),f},u.prototype.getHref=function(){return i(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},u.prototype.getCaptionConfig=function(){var c,f,h;return h=this.attachment.getType(),c=n.copyObject((f=n.config.attachments[h])!=null?f.caption:void 0),h==="file"&&(c.name=!0),c},u.prototype.findProgressElement=function(){var c;return(c=this.findElement())!=null?c.querySelector("progress"):void 0},d=function(c){return o({tagName:"span",textContent:n.ZERO_WIDTH_SPACE,data:{trixCursorTarget:c,trixSerialize:!1}})},u.prototype.attachmentDidChangeUploadProgress=function(){var c,f;return f=this.attachment.getUploadProgress(),(c=this.findProgressElement())!=null?c.value=f:void 0},u}(n.ObjectView),i=function(l,u){var d;return d=o("div"),d.innerHTML=l??"",d.querySelector(u)}}.call(this),function(){var r,i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r=n.makeElement,n.PreviewableAttachmentView=function(s){function a(){a.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return i(a,s),a.prototype.createContentNodes=function(){return this.image=r({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},a.prototype.createCaptionElement=function(){var l;return l=a.__super__.createCaptionElement.apply(this,arguments),l.textContent||l.setAttribute("data-trix-placeholder",n.config.lang.captionPlaceholder),l},a.prototype.refresh=function(l){var u;return l==null&&(l=(u=this.findElement())!=null?u.querySelector("img"):void 0),l?this.updateAttributesForImage(l):void 0},a.prototype.updateAttributesForImage=function(l){var u,d,c,f,h,m;return h=this.attachment.getURL(),d=this.attachment.getPreviewURL(),l.src=d||h,d===h?l.removeAttribute("data-trix-serialized-attributes"):(c=JSON.stringify({src:h}),l.setAttribute("data-trix-serialized-attributes",c)),m=this.attachment.getWidth(),u=this.attachment.getHeight(),m!=null&&(l.width=m),u!=null&&(l.height=u),f=["imageElement",this.attachment.id,l.src,l.width,l.height].join("/"),l.dataset.trixStoreKey=f},a.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},a}(n.AttachmentView)}.call(this),function(){var r,i,o,s=function(l,u){function d(){this.constructor=l}for(var c in u)a.call(u,c)&&(l[c]=u[c]);return d.prototype=u.prototype,l.prototype=new d,l.__super__=u.prototype,l},a={}.hasOwnProperty;o=n.makeElement,r=n.findInnerElement,i=n.getTextConfig,n.PieceView=function(l){function u(){var c;u.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),c=this.options,this.textConfig=c.textConfig,this.context=c.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var d;return s(u,l),u.prototype.createNodes=function(){var c,f,h,m,y,g;if(g=this.attachment?this.createAttachmentNodes():this.createStringNodes(),c=this.createElement()){for(h=r(c),f=0,m=g.length;m>f;f++)y=g[f],h.appendChild(y);g=[c]}return g},u.prototype.createAttachmentNodes=function(){var c,f;return c=this.attachment.isPreviewable()?n.PreviewableAttachmentView:n.AttachmentView,f=this.createChildView(c,this.piece.attachment,{piece:this.piece}),f.getNodes()},u.prototype.createStringNodes=function(){var c,f,h,m,y,g,b,p,v;if((b=this.textConfig)!=null&&b.plaintext)return[document.createTextNode(this.string)];for(g=[],p=this.string.split(`
`),h=f=0,m=p.length;m>f;h=++f)v=p[h],h>0&&(c=o("br"),g.push(c)),v.length&&(y=document.createTextNode(this.preserveSpaces(v)),g.push(y));return g},u.prototype.createElement=function(){var c,f,h,m,y,g,b,p,v;p={},g=this.attributes;for(m in g)if(v=g[m],(c=i(m))&&(c.tagName&&(y=o(c.tagName),h?(h.appendChild(y),h=y):f=h=y),c.styleProperty&&(p[c.styleProperty]=v),c.style)){b=c.style;for(m in b)v=b[m],p[m]=v}if(Object.keys(p).length){f==null&&(f=o("span"));for(m in p)v=p[m],f.style[m]=v}return f},u.prototype.createContainerElement=function(){var c,f,h,m,y;m=this.attributes;for(h in m)if(y=m[h],(f=i(h))&&f.groupTagName)return c={},c[h]=y,o(f.groupTagName,c)},d=n.NON_BREAKING_SPACE,u.prototype.preserveSpaces=function(c){return this.context.isLast&&(c=c.replace(/\ $/,d)),c=c.replace(/(\S)\ {3}(\S)/g,"$1 "+d+" $2").replace(/\ {2}/g,d+" ").replace(/\ {2}/g," "+d),(this.context.isFirst||this.context.followsWhitespace)&&(c=c.replace(/^\ /,d)),c},u}(n.ObjectView)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.TextView=function(o){function s(){s.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var a;return r(s,o),s.prototype.createNodes=function(){var l,u,d,c,f,h,m,y,g,b;for(h=[],y=n.ObjectGroup.groupObjects(this.getPieces()),c=y.length-1,d=u=0,f=y.length;f>u;d=++u)m=y[d],l={},d===0&&(l.isFirst=!0),d===c&&(l.isLast=!0),a(g)&&(l.followsWhitespace=!0),b=this.findOrCreateCachedChildView(n.PieceView,m,{textConfig:this.textConfig,context:l}),h.push.apply(h,b.getNodes()),g=m;return h},s.prototype.getPieces=function(){var l,u,d,c,f;for(c=this.text.getPieces(),f=[],l=0,u=c.length;u>l;l++)d=c[l],d.hasAttribute("blockBreak")||f.push(d);return f},a=function(l){return/\s$/.test(l!=null?l.toString():void 0)},s}(n.ObjectView)}.call(this),function(){var r,i,o,s=function(l,u){function d(){this.constructor=l}for(var c in u)a.call(u,c)&&(l[c]=u[c]);return d.prototype=u.prototype,l.prototype=new d,l.__super__=u.prototype,l},a={}.hasOwnProperty;o=n.makeElement,i=n.getBlockConfig,r=n.config.css,n.BlockView=function(l){function u(){u.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return s(u,l),u.prototype.createNodes=function(){var d,c,f,h,m,y,g,b,p,v,w;if(c=document.createComment("block"),g=[c],this.block.isEmpty()?g.push(o("br")):(v=(b=i(this.block.getLastAttribute()))!=null?b.text:void 0,w=this.findOrCreateCachedChildView(n.TextView,this.block.text,{textConfig:v}),g.push.apply(g,w.getNodes()),this.shouldAddExtraNewlineElement()&&g.push(o("br"))),this.attributes.length)return g;for(p=n.config.blockAttributes.default.tagName,this.block.isRTL()&&(d={dir:"rtl"}),f=o({tagName:p,attributes:d}),h=0,m=g.length;m>h;h++)y=g[h],f.appendChild(y);return[f]},u.prototype.createContainerElement=function(d){var c,f,h,m,y;return c=this.attributes[d],y=i(c).tagName,d===0&&this.block.isRTL()&&(f={dir:"rtl"}),c==="attachmentGallery"&&(m=this.block.getBlockBreakPosition(),h=r.attachmentGallery+" "+r.attachmentGallery+"--"+m),o({tagName:y,className:h,attributes:f})},u.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},u}(n.ObjectView)}.call(this),function(){var r,i,o=function(a,l){function u(){this.constructor=a}for(var d in l)s.call(l,d)&&(a[d]=l[d]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;r=n.defer,i=n.makeElement,n.DocumentView=function(a){function l(){l.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new n.ElementStore,this.setDocument(this.object)}var u,d,c;return o(l,a),l.render=function(f){var h,m;return h=i("div"),m=new this(f,{element:h}),m.render(),m.sync(),h},l.prototype.setDocument=function(f){return f.isEqualTo(this.document)?void 0:this.document=this.object=f},l.prototype.render=function(){var f,h,m,y,g,b,p;if(this.childViews=[],this.shadowElement=i("div"),!this.document.isEmpty()){for(g=n.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),b=[],f=0,h=g.length;h>f;f++)y=g[f],p=this.findOrCreateCachedChildView(n.BlockView,y),b.push(function(){var v,w,x,S;for(x=p.getNodes(),S=[],v=0,w=x.length;w>v;v++)m=x[v],S.push(this.shadowElement.appendChild(m));return S}.call(this));return b}},l.prototype.isSynced=function(){return u(this.shadowElement,this.element)},l.prototype.sync=function(){var f;for(f=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(f),this.didSync()},l.prototype.didSync=function(){return this.elementStore.reset(d(this.element)),r(function(f){return function(){return f.garbageCollectCachedViews()}}(this))},l.prototype.createDocumentFragmentForSync=function(){var f,h,m,y,g,b,p,v,w,x;for(h=document.createDocumentFragment(),v=this.shadowElement.childNodes,m=0,g=v.length;g>m;m++)p=v[m],h.appendChild(p.cloneNode(!0));for(w=d(h),y=0,b=w.length;b>y;y++)f=w[y],(x=this.elementStore.remove(f))&&f.parentNode.replaceChild(x,f);return h},d=function(f){return f.querySelectorAll("[data-trix-store-key]")},u=function(f,h){return c(f.innerHTML)===c(h.innerHTML)},c=function(f){return f.replace(/&nbsp;/g," ")},l}(n.ObjectView)}.call(this),function(){var r,i,o,s,a,l=function(c,f){return function(){return c.apply(f,arguments)}},u=function(c,f){function h(){this.constructor=c}for(var m in f)d.call(f,m)&&(c[m]=f[m]);return h.prototype=f.prototype,c.prototype=new h,c.__super__=f.prototype,c},d={}.hasOwnProperty;o=n.findClosestElementFromNode,s=n.handleEvent,a=n.innerElementIsActive,i=n.defer,r=n.AttachmentView.attachmentSelector,n.CompositionController=function(c){function f(h,m){this.element=h,this.composition=m,this.didClickAttachment=l(this.didClickAttachment,this),this.didBlur=l(this.didBlur,this),this.didFocus=l(this.didFocus,this),this.documentView=new n.DocumentView(this.composition.document,{element:this.element}),s("focus",{onElement:this.element,withCallback:this.didFocus}),s("blur",{onElement:this.element,withCallback:this.didBlur}),s("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),s("mousedown",{onElement:this.element,matchingSelector:r,withCallback:this.didClickAttachment}),s("click",{onElement:this.element,matchingSelector:"a"+r,preventDefault:!0})}return u(f,c),f.prototype.didFocus=function(){var h,m,y;return h=function(g){return function(){var b;return g.focused?void 0:(g.focused=!0,(b=g.delegate)!=null&&typeof b.compositionControllerDidFocus=="function"?b.compositionControllerDidFocus():void 0)}}(this),(m=(y=this.blurPromise)!=null?y.then(h):void 0)!=null?m:h()},f.prototype.didBlur=function(){return this.blurPromise=new Promise(function(h){return function(m){return i(function(){var y;return a(h.element)||(h.focused=null,(y=h.delegate)!=null&&typeof y.compositionControllerDidBlur=="function"&&y.compositionControllerDidBlur()),h.blurPromise=null,m()})}}(this))},f.prototype.didClickAttachment=function(h,m){var y,g,b;return y=this.findAttachmentForElement(m),g=o(h.target,{matchingSelector:"figcaption"})!=null,(b=this.delegate)!=null&&typeof b.compositionControllerDidSelectAttachment=="function"?b.compositionControllerDidSelectAttachment(y,{editCaption:g}):void 0},f.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},f.prototype.render=function(){var h,m,y;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((h=this.delegate)!=null&&typeof h.compositionControllerWillSyncDocumentView=="function"&&h.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(m=this.delegate)!=null&&typeof m.compositionControllerDidSyncDocumentView=="function"&&m.compositionControllerDidSyncDocumentView()),(y=this.delegate)!=null&&typeof y.compositionControllerDidRender=="function"?y.compositionControllerDidRender():void 0},f.prototype.rerenderViewForObject=function(h){return this.invalidateViewForObject(h),this.render()},f.prototype.invalidateViewForObject=function(h){return this.documentView.invalidateViewForObject(h)},f.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},f.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},f.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},f.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},f.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},f.prototype.installAttachmentEditorForAttachment=function(h,m){var y,g,b;if(((b=this.attachmentEditor)!=null?b.attachment:void 0)!==h&&(g=this.documentView.findElementForObject(h)))return this.uninstallAttachmentEditor(),y=this.composition.document.getAttachmentPieceForAttachment(h),this.attachmentEditor=new n.AttachmentEditorController(y,g,this.element,m),this.attachmentEditor.delegate=this},f.prototype.uninstallAttachmentEditor=function(){var h;return(h=this.attachmentEditor)!=null?h.uninstall():void 0},f.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},f.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(h,m){var y;return(y=this.delegate)!=null&&typeof y.compositionControllerWillUpdateAttachment=="function"&&y.compositionControllerWillUpdateAttachment(m),this.composition.updateAttributesForAttachment(h,m)},f.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(h,m){var y;return(y=this.delegate)!=null&&typeof y.compositionControllerWillUpdateAttachment=="function"&&y.compositionControllerWillUpdateAttachment(m),this.composition.removeAttributeForAttachment(h,m)},f.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(h){var m;return(m=this.delegate)!=null&&typeof m.compositionControllerDidRequestRemovalOfAttachment=="function"?m.compositionControllerDidRequestRemovalOfAttachment(h):void 0},f.prototype.attachmentEditorDidRequestDeselectingAttachment=function(h){var m;return(m=this.delegate)!=null&&typeof m.compositionControllerDidRequestDeselectingAttachment=="function"?m.compositionControllerDidRequestDeselectingAttachment(h):void 0},f.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},f.prototype.findAttachmentForElement=function(h){return this.composition.document.getAttachmentById(parseInt(h.dataset.trixId,10))},f}(n.BasicObject)}.call(this),function(){var r,i,o,s=function(u,d){return function(){return u.apply(d,arguments)}},a=function(u,d){function c(){this.constructor=u}for(var f in d)l.call(d,f)&&(u[f]=d[f]);return c.prototype=d.prototype,u.prototype=new c,u.__super__=d.prototype,u},l={}.hasOwnProperty;i=n.handleEvent,o=n.triggerEvent,r=n.findClosestElementFromNode,n.ToolbarController=function(u){function d(S){this.element=S,this.didKeyDownDialogInput=s(this.didKeyDownDialogInput,this),this.didClickDialogButton=s(this.didClickDialogButton,this),this.didClickAttributeButton=s(this.didClickAttributeButton,this),this.didClickActionButton=s(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),i("mousedown",{onElement:this.element,matchingSelector:c,withCallback:this.didClickActionButton}),i("mousedown",{onElement:this.element,matchingSelector:h,withCallback:this.didClickAttributeButton}),i("click",{onElement:this.element,matchingSelector:x,preventDefault:!0}),i("click",{onElement:this.element,matchingSelector:m,withCallback:this.didClickDialogButton}),i("keydown",{onElement:this.element,matchingSelector:y,withCallback:this.didKeyDownDialogInput})}var c,f,h,m,y,g,b,p,v,w,x;return a(d,u),h="[data-trix-attribute]",c="[data-trix-action]",x=h+", "+c,g="[data-trix-dialog]",f=g+"[data-trix-active]",m=g+" [data-trix-method]",y=g+" [data-trix-input]",d.prototype.didClickActionButton=function(S,E){var k,A,C;return(A=this.delegate)!=null&&A.toolbarDidClickButton(),S.preventDefault(),k=b(E),this.getDialog(k)?this.toggleDialog(k):(C=this.delegate)!=null?C.toolbarDidInvokeAction(k):void 0},d.prototype.didClickAttributeButton=function(S,E){var k,A,C;return(A=this.delegate)!=null&&A.toolbarDidClickButton(),S.preventDefault(),k=p(E),this.getDialog(k)?this.toggleDialog(k):(C=this.delegate)!=null&&C.toolbarDidToggleAttribute(k),this.refreshAttributeButtons()},d.prototype.didClickDialogButton=function(S,E){var k,A;return k=r(E,{matchingSelector:g}),A=E.getAttribute("data-trix-method"),this[A].call(this,k)},d.prototype.didKeyDownDialogInput=function(S,E){var k,A;return S.keyCode===13&&(S.preventDefault(),k=E.getAttribute("name"),A=this.getDialog(k),this.setAttribute(A)),S.keyCode===27?(S.preventDefault(),this.hideDialog()):void 0},d.prototype.updateActions=function(S){return this.actions=S,this.refreshActionButtons()},d.prototype.refreshActionButtons=function(){return this.eachActionButton(function(S){return function(E,k){return E.disabled=S.actions[k]===!1}}(this))},d.prototype.eachActionButton=function(S){var E,k,A,C,_;for(C=this.element.querySelectorAll(c),_=[],k=0,A=C.length;A>k;k++)E=C[k],_.push(S(E,b(E)));return _},d.prototype.updateAttributes=function(S){return this.attributes=S,this.refreshAttributeButtons()},d.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(S){return function(E,k){return E.disabled=S.attributes[k]===!1,S.attributes[k]||S.dialogIsVisible(k)?(E.setAttribute("data-trix-active",""),E.classList.add("trix-active")):(E.removeAttribute("data-trix-active"),E.classList.remove("trix-active"))}}(this))},d.prototype.eachAttributeButton=function(S){var E,k,A,C,_;for(C=this.element.querySelectorAll(h),_=[],k=0,A=C.length;A>k;k++)E=C[k],_.push(S(E,p(E)));return _},d.prototype.applyKeyboardCommand=function(S){var E,k,A,C,_,O,M;for(_=JSON.stringify(S.sort()),M=this.element.querySelectorAll("[data-trix-key]"),C=0,O=M.length;O>C;C++)if(E=M[C],A=E.getAttribute("data-trix-key").split("+"),k=JSON.stringify(A.sort()),k===_)return o("mousedown",{onElement:E}),!0;return!1},d.prototype.dialogIsVisible=function(S){var E;return(E=this.getDialog(S))?E.hasAttribute("data-trix-active"):void 0},d.prototype.toggleDialog=function(S){return this.dialogIsVisible(S)?this.hideDialog():this.showDialog(S)},d.prototype.showDialog=function(S){var E,k,A,C,_,O,M,T,N,P;for(this.hideDialog(),(M=this.delegate)!=null&&M.toolbarWillShowDialog(),A=this.getDialog(S),A.setAttribute("data-trix-active",""),A.classList.add("trix-active"),T=A.querySelectorAll("input[disabled]"),C=0,O=T.length;O>C;C++)k=T[C],k.removeAttribute("disabled");return(E=p(A))&&(_=w(A,S))&&(_.value=(N=this.attributes[E])!=null?N:"",_.select()),(P=this.delegate)!=null?P.toolbarDidShowDialog(S):void 0},d.prototype.setAttribute=function(S){var E,k,A;return E=p(S),k=w(S,E),k.willValidate&&!k.checkValidity()?(k.setAttribute("data-trix-validate",""),k.classList.add("trix-validate"),k.focus()):((A=this.delegate)!=null&&A.toolbarDidUpdateAttribute(E,k.value),this.hideDialog())},d.prototype.removeAttribute=function(S){var E,k;return E=p(S),(k=this.delegate)!=null&&k.toolbarDidRemoveAttribute(E),this.hideDialog()},d.prototype.hideDialog=function(){var S,E;return(S=this.element.querySelector(f))?(S.removeAttribute("data-trix-active"),S.classList.remove("trix-active"),this.resetDialogInputs(),(E=this.delegate)!=null?E.toolbarDidHideDialog(v(S)):void 0):void 0},d.prototype.resetDialogInputs=function(){var S,E,k,A,C;for(A=this.element.querySelectorAll(y),C=[],S=0,k=A.length;k>S;S++)E=A[S],E.setAttribute("disabled","disabled"),E.removeAttribute("data-trix-validate"),C.push(E.classList.remove("trix-validate"));return C},d.prototype.getDialog=function(S){return this.element.querySelector("[data-trix-dialog="+S+"]")},w=function(S,E){return E==null&&(E=p(S)),S.querySelector("[data-trix-input][name='"+E+"']")},b=function(S){return S.getAttribute("data-trix-action")},p=function(S){var E;return(E=S.getAttribute("data-trix-attribute"))!=null?E:S.getAttribute("data-trix-dialog-attribute")},v=function(S){return S.getAttribute("data-trix-dialog")},d}(n.BasicObject)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.ImagePreloadOperation=function(o){function s(a){this.url=a}return r(s,o),s.prototype.perform=function(a){var l;return l=new Image,l.onload=function(u){return function(){return l.width=u.width=l.naturalWidth,l.height=u.height=l.naturalHeight,a(!0,l)}}(this),l.onerror=function(){return a(!1)},l.src=this.url},s}(n.Operation)}.call(this),function(){var r=function(s,a){return function(){return s.apply(a,arguments)}},i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;n.Attachment=function(s){function a(l){l==null&&(l={}),this.releaseFile=r(this.releaseFile,this),a.__super__.constructor.apply(this,arguments),this.attributes=n.Hash.box(l),this.didChangeAttributes()}return i(a,s),a.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,a.attachmentForFile=function(l){var u,d;return d=this.attributesForFile(l),u=new this(d),u.setFile(l),u},a.attributesForFile=function(l){return new n.Hash({filename:l.name,filesize:l.size,contentType:l.type})},a.fromJSON=function(l){return new this(l)},a.prototype.getAttribute=function(l){return this.attributes.get(l)},a.prototype.hasAttribute=function(l){return this.attributes.has(l)},a.prototype.getAttributes=function(){return this.attributes.toObject()},a.prototype.setAttributes=function(l){var u,d,c;return l==null&&(l={}),u=this.attributes.merge(l),this.attributes.isEqualTo(u)?void 0:(this.attributes=u,this.didChangeAttributes(),(d=this.previewDelegate)!=null&&typeof d.attachmentDidChangeAttributes=="function"&&d.attachmentDidChangeAttributes(this),(c=this.delegate)!=null&&typeof c.attachmentDidChangeAttributes=="function"?c.attachmentDidChangeAttributes(this):void 0)},a.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},a.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},a.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},a.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},a.prototype.getURL=function(){return this.attributes.get("url")},a.prototype.getHref=function(){return this.attributes.get("href")},a.prototype.getFilename=function(){var l;return(l=this.attributes.get("filename"))!=null?l:""},a.prototype.getFilesize=function(){return this.attributes.get("filesize")},a.prototype.getFormattedFilesize=function(){var l;return l=this.attributes.get("filesize"),typeof l=="number"?n.config.fileSize.formatter(l):""},a.prototype.getExtension=function(){var l;return(l=this.getFilename().match(/\.(\w+)$/))!=null?l[1].toLowerCase():void 0},a.prototype.getContentType=function(){return this.attributes.get("contentType")},a.prototype.hasContent=function(){return this.attributes.has("content")},a.prototype.getContent=function(){return this.attributes.get("content")},a.prototype.getWidth=function(){return this.attributes.get("width")},a.prototype.getHeight=function(){return this.attributes.get("height")},a.prototype.getFile=function(){return this.file},a.prototype.setFile=function(l){return this.file=l,this.isPreviewable()?this.preloadFile():void 0},a.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},a.prototype.getUploadProgress=function(){var l;return(l=this.uploadProgress)!=null?l:0},a.prototype.setUploadProgress=function(l){var u;return this.uploadProgress!==l?(this.uploadProgress=l,(u=this.uploadProgressDelegate)!=null&&typeof u.attachmentDidChangeUploadProgress=="function"?u.attachmentDidChangeUploadProgress(this):void 0):void 0},a.prototype.toJSON=function(){return this.getAttributes()},a.prototype.getCacheKey=function(){return[a.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},a.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},a.prototype.setPreviewURL=function(l){var u,d;return l!==this.getPreviewURL()?(this.previewURL=l,(u=this.previewDelegate)!=null&&typeof u.attachmentDidChangeAttributes=="function"&&u.attachmentDidChangeAttributes(this),(d=this.delegate)!=null&&typeof d.attachmentDidChangePreviewURL=="function"?d.attachmentDidChangePreviewURL(this):void 0):void 0},a.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},a.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},a.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},a.prototype.preload=function(l,u){var d;return l&&l!==this.getPreviewURL()?(this.preloadingURL=l,d=new n.ImagePreloadOperation(l),d.then(function(c){return function(f){var h,m;return m=f.width,h=f.height,c.getWidth()&&c.getHeight()||c.setAttributes({width:m,height:h}),c.preloadingURL=null,c.setPreviewURL(l),typeof u=="function"?u():void 0}}(this)).catch(function(c){return function(){return c.preloadingURL=null,typeof u=="function"?u():void 0}}(this))):void 0},a}(n.Object)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Piece=function(o){function s(a,l){l==null&&(l={}),s.__super__.constructor.apply(this,arguments),this.attributes=n.Hash.box(l)}return r(s,o),s.types={},s.registerType=function(a,l){return l.type=a,this.types[a]=l},s.fromJSON=function(a){var l;return(l=this.types[a.type])?l.fromJSON(a):void 0},s.prototype.copyWithAttributes=function(a){return new this.constructor(this.getValue(),a)},s.prototype.copyWithAdditionalAttributes=function(a){return this.copyWithAttributes(this.attributes.merge(a))},s.prototype.copyWithoutAttribute=function(a){return this.copyWithAttributes(this.attributes.remove(a))},s.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},s.prototype.getAttribute=function(a){return this.attributes.get(a)},s.prototype.getAttributesHash=function(){return this.attributes},s.prototype.getAttributes=function(){return this.attributes.toObject()},s.prototype.getCommonAttributes=function(){var a,l,u;return(u=pieceList.getPieceAtIndex(0))?(a=u.attributes,l=a.getKeys(),pieceList.eachPiece(function(d){return l=a.getKeysCommonToHash(d.attributes),a=a.slice(l)}),a.toObject()):{}},s.prototype.hasAttribute=function(a){return this.attributes.has(a)},s.prototype.hasSameStringValueAsPiece=function(a){return a!=null&&this.toString()===a.toString()},s.prototype.hasSameAttributesAsPiece=function(a){return a!=null&&(this.attributes===a.attributes||this.attributes.isEqualTo(a.attributes))},s.prototype.isBlockBreak=function(){return!1},s.prototype.isEqualTo=function(a){return s.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(a)&&this.hasSameStringValueAsPiece(a)&&this.hasSameAttributesAsPiece(a)},s.prototype.isEmpty=function(){return this.length===0},s.prototype.isSerializable=function(){return!0},s.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},s.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},s.prototype.canBeGrouped=function(){return this.hasAttribute("href")},s.prototype.canBeGroupedWith=function(a){return this.getAttribute("href")===a.getAttribute("href")},s.prototype.getLength=function(){return this.length},s.prototype.canBeConsolidatedWith=function(){return!1},s}(n.Object)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Piece.registerType("attachment",n.AttachmentPiece=function(o){function s(a){this.attachment=a,s.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return r(s,o),s.fromJSON=function(a){return new this(n.Attachment.fromJSON(a.attachment),a.attributes)},s.permittedAttributes=["caption","presentation"],s.prototype.ensureAttachmentExclusivelyHasAttribute=function(a){return this.hasAttribute(a)?(this.attachment.hasAttribute(a)||this.attachment.setAttributes(this.attributes.slice(a)),this.attributes=this.attributes.remove(a)):void 0},s.prototype.removeProhibitedAttributes=function(){var a;return a=this.attributes.slice(this.constructor.permittedAttributes),a.isEqualTo(this.attributes)?void 0:this.attributes=a},s.prototype.getValue=function(){return this.attachment},s.prototype.isSerializable=function(){return!this.attachment.isPending()},s.prototype.getCaption=function(){var a;return(a=this.attributes.get("caption"))!=null?a:""},s.prototype.isEqualTo=function(a){var l;return s.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(a!=null&&(l=a.attachment)!=null?l.id:void 0)},s.prototype.toString=function(){return n.OBJECT_REPLACEMENT_CHARACTER},s.prototype.toJSON=function(){var a;return a=s.__super__.toJSON.apply(this,arguments),a.attachment=this.attachment,a},s.prototype.getCacheKey=function(){return[s.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},s.prototype.toConsole=function(){return JSON.stringify(this.toString())},s}(n.Piece))}.call(this),function(){var r,i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r=n.normalizeNewlines,n.Piece.registerType("string",n.StringPiece=function(s){function a(l){a.__super__.constructor.apply(this,arguments),this.string=r(l),this.length=this.string.length}return i(a,s),a.fromJSON=function(l){return new this(l.string,l.attributes)},a.prototype.getValue=function(){return this.string},a.prototype.toString=function(){return this.string.toString()},a.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},a.prototype.toJSON=function(){var l;return l=a.__super__.toJSON.apply(this,arguments),l.string=this.string,l},a.prototype.canBeConsolidatedWith=function(l){return l!=null&&this.hasSameConstructorAs(l)&&this.hasSameAttributesAsPiece(l)},a.prototype.consolidateWith=function(l){return new this.constructor(this.toString()+l.toString(),this.attributes)},a.prototype.splitAtOffset=function(l){var u,d;return l===0?(u=null,d=this):l===this.length?(u=this,d=null):(u=new this.constructor(this.string.slice(0,l),this.attributes),d=new this.constructor(this.string.slice(l),this.attributes)),[u,d]},a.prototype.toConsole=function(){var l;return l=this.string,l.length>15&&(l=l.slice(0,14)+""),JSON.stringify(l.toString())},a}(n.Piece))}.call(this),function(){var r,i=function(a,l){function u(){this.constructor=a}for(var d in l)o.call(l,d)&&(a[d]=l[d]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},o={}.hasOwnProperty,s=[].slice;r=n.spliceArray,n.SplittableList=function(a){function l(f){f==null&&(f=[]),l.__super__.constructor.apply(this,arguments),this.objects=f.slice(0),this.length=this.objects.length}var u,d,c;return i(l,a),l.box=function(f){return f instanceof this?f:new this(f)},l.prototype.indexOf=function(f){return this.objects.indexOf(f)},l.prototype.splice=function(){var f;return f=1<=arguments.length?s.call(arguments,0):[],new this.constructor(r.apply(null,[this.objects].concat(s.call(f))))},l.prototype.eachObject=function(f){var h,m,y,g,b,p;for(b=this.objects,p=[],m=h=0,y=b.length;y>h;m=++h)g=b[m],p.push(f(g,m));return p},l.prototype.insertObjectAtIndex=function(f,h){return this.splice(h,0,f)},l.prototype.insertSplittableListAtIndex=function(f,h){return this.splice.apply(this,[h,0].concat(s.call(f.objects)))},l.prototype.insertSplittableListAtPosition=function(f,h){var m,y,g;return g=this.splitObjectAtPosition(h),y=g[0],m=g[1],new this.constructor(y).insertSplittableListAtIndex(f,m)},l.prototype.editObjectAtIndex=function(f,h){return this.replaceObjectAtIndex(h(this.objects[f]),f)},l.prototype.replaceObjectAtIndex=function(f,h){return this.splice(h,1,f)},l.prototype.removeObjectAtIndex=function(f){return this.splice(f,1)},l.prototype.getObjectAtIndex=function(f){return this.objects[f]},l.prototype.getSplittableListInRange=function(f){var h,m,y,g;return y=this.splitObjectsAtRange(f),m=y[0],h=y[1],g=y[2],new this.constructor(m.slice(h,g+1))},l.prototype.selectSplittableList=function(f){var h,m;return m=function(){var y,g,b,p;for(b=this.objects,p=[],y=0,g=b.length;g>y;y++)h=b[y],f(h)&&p.push(h);return p}.call(this),new this.constructor(m)},l.prototype.removeObjectsInRange=function(f){var h,m,y,g;return y=this.splitObjectsAtRange(f),m=y[0],h=y[1],g=y[2],new this.constructor(m).splice(h,g-h+1)},l.prototype.transformObjectsInRange=function(f,h){var m,y,g,b,p,v,w;return p=this.splitObjectsAtRange(f),b=p[0],y=p[1],v=p[2],w=function(){var x,S,E;for(E=[],m=x=0,S=b.length;S>x;m=++x)g=b[m],E.push(m>=y&&v>=m?h(g):g);return E}(),new this.constructor(w)},l.prototype.splitObjectsAtRange=function(f){var h,m,y,g,b,p;return g=this.splitObjectAtPosition(c(f)),m=g[0],h=g[1],y=g[2],b=new this.constructor(m).splitObjectAtPosition(u(f)+y),m=b[0],p=b[1],[m,h,p-1]},l.prototype.getObjectAtPosition=function(f){var h,m;return m=this.findIndexAndOffsetAtPosition(f),h=m.index,m.offset,this.objects[h]},l.prototype.splitObjectAtPosition=function(f){var h,m,y,g,b,p,v,w,x,S;return p=this.findIndexAndOffsetAtPosition(f),h=p.index,b=p.offset,g=this.objects.slice(0),h!=null?b===0?(x=h,S=0):(y=this.getObjectAtIndex(h),v=y.splitAtOffset(b),m=v[0],w=v[1],g.splice(h,1,m,w),x=h+1,S=m.getLength()-b):(x=g.length,S=0),[g,x,S]},l.prototype.consolidate=function(){var f,h,m,y,g,b;for(y=[],g=this.objects[0],b=this.objects.slice(1),f=0,h=b.length;h>f;f++)m=b[f],typeof g.canBeConsolidatedWith=="function"&&g.canBeConsolidatedWith(m)?g=g.consolidateWith(m):(y.push(g),g=m);return g!=null&&y.push(g),new this.constructor(y)},l.prototype.consolidateFromIndexToIndex=function(f,h){var m,y,g;return y=this.objects.slice(0),g=y.slice(f,h+1),m=new this.constructor(g).consolidate().toArray(),this.splice.apply(this,[f,g.length].concat(s.call(m)))},l.prototype.findIndexAndOffsetAtPosition=function(f){var h,m,y,g,b,p,v;for(h=0,v=this.objects,y=m=0,g=v.length;g>m;y=++m){if(p=v[y],b=h+p.getLength(),f>=h&&b>f)return{index:y,offset:f-h};h=b}return{index:null,offset:null}},l.prototype.findPositionAtIndexAndOffset=function(f,h){var m,y,g,b,p,v;for(p=0,v=this.objects,m=y=0,g=v.length;g>y;m=++y)if(b=v[m],f>m)p+=b.getLength();else if(m===f){p+=h;break}return p},l.prototype.getEndPosition=function(){var f,h;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var m,y,g;for(h=0,g=this.objects,m=0,y=g.length;y>m;m++)f=g[m],h+=f.getLength();return h}.call(this)},l.prototype.toString=function(){return this.objects.join("")},l.prototype.toArray=function(){return this.objects.slice(0)},l.prototype.toJSON=function(){return this.toArray()},l.prototype.isEqualTo=function(f){return l.__super__.isEqualTo.apply(this,arguments)||d(this.objects,f!=null?f.objects:void 0)},d=function(f,h){var m,y,g,b,p;if(h==null&&(h=[]),f.length!==h.length)return!1;for(p=!0,y=m=0,g=f.length;g>m;y=++m)b=f[y],p&&!b.isEqualTo(h[y])&&(p=!1);return p},l.prototype.contentsForInspection=function(){var f;return{objects:"["+function(){var h,m,y,g;for(y=this.objects,g=[],h=0,m=y.length;m>h;h++)f=y[h],g.push(f.inspect());return g}.call(this).join(", ")+"]"}},c=function(f){return f[0]},u=function(f){return f[1]},l}(n.Object)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.Text=function(o){function s(a){var l;a==null&&(a=[]),s.__super__.constructor.apply(this,arguments),this.pieceList=new n.SplittableList(function(){var u,d,c;for(c=[],u=0,d=a.length;d>u;u++)l=a[u],l.isEmpty()||c.push(l);return c}())}return r(s,o),s.textForAttachmentWithAttributes=function(a,l){var u;return u=new n.AttachmentPiece(a,l),new this([u])},s.textForStringWithAttributes=function(a,l){var u;return u=new n.StringPiece(a,l),new this([u])},s.fromJSON=function(a){var l,u;return u=function(){var d,c,f;for(f=[],d=0,c=a.length;c>d;d++)l=a[d],f.push(n.Piece.fromJSON(l));return f}(),new this(u)},s.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},s.prototype.copyWithPieceList=function(a){return new this.constructor(a.consolidate().toArray())},s.prototype.copyUsingObjectMap=function(a){var l,u;return u=function(){var d,c,f,h,m;for(f=this.getPieces(),m=[],d=0,c=f.length;c>d;d++)l=f[d],m.push((h=a.find(l))!=null?h:l);return m}.call(this),new this.constructor(u)},s.prototype.appendText=function(a){return this.insertTextAtPosition(a,this.getLength())},s.prototype.insertTextAtPosition=function(a,l){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(a.pieceList,l))},s.prototype.removeTextAtRange=function(a){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(a))},s.prototype.replaceTextAtRange=function(a,l){return this.removeTextAtRange(l).insertTextAtPosition(a,l[0])},s.prototype.moveTextFromRangeToPosition=function(a,l){var u,d;if(!(a[0]<=l&&l<=a[1]))return d=this.getTextAtRange(a),u=d.getLength(),a[0]<l&&(l-=u),this.removeTextAtRange(a).insertTextAtPosition(d,l)},s.prototype.addAttributeAtRange=function(a,l,u){var d;return d={},d[a]=l,this.addAttributesAtRange(d,u)},s.prototype.addAttributesAtRange=function(a,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(u){return u.copyWithAdditionalAttributes(a)}))},s.prototype.removeAttributeAtRange=function(a,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(u){return u.copyWithoutAttribute(a)}))},s.prototype.setAttributesAtRange=function(a,l){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(l,function(u){return u.copyWithAttributes(a)}))},s.prototype.getAttributesAtPosition=function(a){var l,u;return(l=(u=this.pieceList.getObjectAtPosition(a))!=null?u.getAttributes():void 0)!=null?l:{}},s.prototype.getCommonAttributes=function(){var a,l;return a=function(){var u,d,c,f;for(c=this.pieceList.toArray(),f=[],u=0,d=c.length;d>u;u++)l=c[u],f.push(l.getAttributes());return f}.call(this),n.Hash.fromCommonAttributesOfObjects(a).toObject()},s.prototype.getCommonAttributesAtRange=function(a){var l;return(l=this.getTextAtRange(a).getCommonAttributes())!=null?l:{}},s.prototype.getExpandedRangeForAttributeAtOffset=function(a,l){var u,d,c;for(u=c=l,d=this.getLength();u>0&&this.getCommonAttributesAtRange([u-1,c])[a];)u--;for(;d>c&&this.getCommonAttributesAtRange([l,c+1])[a];)c++;return[u,c]},s.prototype.getTextAtRange=function(a){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(a))},s.prototype.getStringAtRange=function(a){return this.pieceList.getSplittableListInRange(a).toString()},s.prototype.getStringAtPosition=function(a){return this.getStringAtRange([a,a+1])},s.prototype.startsWithString=function(a){return this.getStringAtRange([0,a.length])===a},s.prototype.endsWithString=function(a){var l;return l=this.getLength(),this.getStringAtRange([l-a.length,l])===a},s.prototype.getAttachmentPieces=function(){var a,l,u,d,c;for(d=this.pieceList.toArray(),c=[],a=0,l=d.length;l>a;a++)u=d[a],u.attachment!=null&&c.push(u);return c},s.prototype.getAttachments=function(){var a,l,u,d,c;for(d=this.getAttachmentPieces(),c=[],a=0,l=d.length;l>a;a++)u=d[a],c.push(u.attachment);return c},s.prototype.getAttachmentAndPositionById=function(a){var l,u,d,c,f,h;for(c=0,f=this.pieceList.toArray(),l=0,u=f.length;u>l;l++){if(d=f[l],((h=d.attachment)!=null?h.id:void 0)===a)return{attachment:d.attachment,position:c};c+=d.length}return{attachment:null,position:null}},s.prototype.getAttachmentById=function(a){var l,u;return u=this.getAttachmentAndPositionById(a),l=u.attachment,u.position,l},s.prototype.getRangeOfAttachment=function(a){var l,u;return u=this.getAttachmentAndPositionById(a.id),a=u.attachment,l=u.position,a!=null?[l,l+1]:void 0},s.prototype.updateAttributesForAttachment=function(a,l){var u;return(u=this.getRangeOfAttachment(l))?this.addAttributesAtRange(a,u):this},s.prototype.getLength=function(){return this.pieceList.getEndPosition()},s.prototype.isEmpty=function(){return this.getLength()===0},s.prototype.isEqualTo=function(a){var l;return s.__super__.isEqualTo.apply(this,arguments)||(a!=null&&(l=a.pieceList)!=null?l.isEqualTo(this.pieceList):void 0)},s.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},s.prototype.eachPiece=function(a){return this.pieceList.eachObject(a)},s.prototype.getPieces=function(){return this.pieceList.toArray()},s.prototype.getPieceAtPosition=function(a){return this.pieceList.getObjectAtPosition(a)},s.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},s.prototype.toSerializableText=function(){var a;return a=this.pieceList.selectSplittableList(function(l){return l.isSerializable()}),this.copyWithPieceList(a)},s.prototype.toString=function(){return this.pieceList.toString()},s.prototype.toJSON=function(){return this.pieceList.toJSON()},s.prototype.toConsole=function(){var a;return JSON.stringify(function(){var l,u,d,c;for(d=this.pieceList.toArray(),c=[],l=0,u=d.length;u>l;l++)a=d[l],c.push(JSON.parse(a.toConsole()));return c}.call(this))},s.prototype.getDirection=function(){return n.getDirection(this.toString())},s.prototype.isRTL=function(){return this.getDirection()==="rtl"},s}(n.Object)}.call(this),function(){var r,i,o,s,a=function(c,f){function h(){this.constructor=c}for(var m in f)l.call(f,m)&&(c[m]=f[m]);return h.prototype=f.prototype,c.prototype=new h,c.__super__=f.prototype,c},l={}.hasOwnProperty,u=[].indexOf||function(c){for(var f=0,h=this.length;h>f;f++)if(f in this&&this[f]===c)return f;return-1},d=[].slice;r=n.arraysAreEqual,s=n.spliceArray,i=n.getBlockConfig,n.getBlockAttributeNames,o=n.getListAttributeNames,n.Block=function(c){function f(S,E){S==null&&(S=new n.Text),E==null&&(E=[]),f.__super__.constructor.apply(this,arguments),this.text=m(S),this.attributes=E}var h,m,y,g,b,p,v,w,x;return a(f,c),f.fromJSON=function(S){var E;return E=n.Text.fromJSON(S.text),new this(E,S.attributes)},f.prototype.isEmpty=function(){return this.text.isBlockBreak()},f.prototype.isEqualTo=function(S){return f.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(S!=null?S.text:void 0)&&r(this.attributes,S!=null?S.attributes:void 0)},f.prototype.copyWithText=function(S){return new this.constructor(S,this.attributes)},f.prototype.copyWithoutText=function(){return this.copyWithText(null)},f.prototype.copyWithAttributes=function(S){return new this.constructor(this.text,S)},f.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},f.prototype.copyUsingObjectMap=function(S){var E;return this.copyWithText((E=S.find(this.text))?E:this.text.copyUsingObjectMap(S))},f.prototype.addAttribute=function(S){var E;return E=this.attributes.concat(g(S)),this.copyWithAttributes(E)},f.prototype.removeAttribute=function(S){var E,k;return k=i(S).listAttribute,E=p(p(this.attributes,S),k),this.copyWithAttributes(E)},f.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},f.prototype.getLastAttribute=function(){return b(this.attributes)},f.prototype.getAttributes=function(){return this.attributes.slice(0)},f.prototype.getAttributeLevel=function(){return this.attributes.length},f.prototype.getAttributeAtLevel=function(S){return this.attributes[S-1]},f.prototype.hasAttribute=function(S){return u.call(this.attributes,S)>=0},f.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},f.prototype.getLastNestableAttribute=function(){return b(this.getNestableAttributes())},f.prototype.getNestableAttributes=function(){var S,E,k,A,C;for(A=this.attributes,C=[],E=0,k=A.length;k>E;E++)S=A[E],i(S).nestable&&C.push(S);return C},f.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},f.prototype.decreaseNestingLevel=function(){var S;return(S=this.getLastNestableAttribute())?this.removeAttribute(S):this},f.prototype.increaseNestingLevel=function(){var S,E,k;return(S=this.getLastNestableAttribute())?(k=this.attributes.lastIndexOf(S),E=s.apply(null,[this.attributes,k+1,0].concat(d.call(g(S)))),this.copyWithAttributes(E)):this},f.prototype.getListItemAttributes=function(){var S,E,k,A,C;for(A=this.attributes,C=[],E=0,k=A.length;k>E;E++)S=A[E],i(S).listAttribute&&C.push(S);return C},f.prototype.isListItem=function(){var S;return(S=i(this.getLastAttribute()))!=null?S.listAttribute:void 0},f.prototype.isTerminalBlock=function(){var S;return(S=i(this.getLastAttribute()))!=null?S.terminal:void 0},f.prototype.breaksOnReturn=function(){var S;return(S=i(this.getLastAttribute()))!=null?S.breakOnReturn:void 0},f.prototype.findLineBreakInDirectionFromPosition=function(S,E){var k,A;return A=this.toString(),k=function(){switch(S){case"forward":return A.indexOf(`
`,E);case"backward":return A.slice(0,E).lastIndexOf(`
`)}}(),k!==-1?k:void 0},f.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},f.prototype.toString=function(){return this.text.toString()},f.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},f.prototype.getDirection=function(){return this.text.getDirection()},f.prototype.isRTL=function(){return this.text.isRTL()},f.prototype.getLength=function(){return this.text.getLength()},f.prototype.canBeConsolidatedWith=function(S){return!this.hasAttributes()&&!S.hasAttributes()&&this.getDirection()===S.getDirection()},f.prototype.consolidateWith=function(S){var E,k;return E=n.Text.textForStringWithAttributes(`
`),k=this.getTextWithoutBlockBreak().appendText(E),this.copyWithText(k.appendText(S.text))},f.prototype.splitAtOffset=function(S){var E,k;return S===0?(E=null,k=this):S===this.getLength()?(E=this,k=null):(E=this.copyWithText(this.text.getTextAtRange([0,S])),k=this.copyWithText(this.text.getTextAtRange([S,this.getLength()]))),[E,k]},f.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},f.prototype.getTextWithoutBlockBreak=function(){return v(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},f.prototype.canBeGrouped=function(S){return this.attributes[S]},f.prototype.canBeGroupedWith=function(S,E){var k,A,C,_;return C=S.getAttributes(),A=C[E],k=this.attributes[E],!(k!==A||i(k).group===!1&&(_=C[E+1],u.call(o(),_)<0)||this.getDirection()!==S.getDirection()&&!S.isEmpty())},m=function(S){return S=x(S),S=h(S)},x=function(S){var E,k,A,C,_,O;return C=!1,O=S.getPieces(),k=2<=O.length?d.call(O,0,E=O.length-1):(E=0,[]),A=O[E++],A==null?S:(k=function(){var M,T,N;for(N=[],M=0,T=k.length;T>M;M++)_=k[M],_.isBlockBreak()?(C=!0,N.push(w(_))):N.push(_);return N}(),C?new n.Text(d.call(k).concat([A])):S)},y=n.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),h=function(S){return v(S)?S:S.appendText(y)},v=function(S){var E,k;return k=S.getLength(),k===0?!1:(E=S.getTextAtRange([k-1,k]),E.isBlockBreak())},w=function(S){return S.copyWithoutAttribute("blockBreak")},g=function(S){var E;return E=i(S).listAttribute,E!=null?[E,S]:[S]},b=function(S){return S.slice(-1)[0]},p=function(S,E){var k;return k=S.lastIndexOf(E),k===-1?S:s(S,k,1)},f}(n.Object)}.call(this),function(){var r,i,o,s=function(d,c){function f(){this.constructor=d}for(var h in c)a.call(c,h)&&(d[h]=c[h]);return f.prototype=c.prototype,d.prototype=new f,d.__super__=c.prototype,d},a={}.hasOwnProperty,l=[].indexOf||function(d){for(var c=0,f=this.length;f>c;c++)if(c in this&&this[c]===d)return c;return-1},u=[].slice;i=n.tagName,o=n.walkTree,r=n.nodeIsAttachmentElement,n.HTMLSanitizer=function(d){function c(g,b){var p;p=b??{},this.allowedAttributes=p.allowedAttributes,this.forbiddenProtocols=p.forbiddenProtocols,this.forbiddenElements=p.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=f),this.forbiddenProtocols==null&&(this.forbiddenProtocols=m),this.forbiddenElements==null&&(this.forbiddenElements=h),this.body=y(g)}var f,h,m,y;return s(c,d),f="style href src width height class".split(" "),m="javascript:".split(" "),h="script iframe".split(" "),c.sanitize=function(g,b){var p;return p=new this(g,b),p.sanitize(),p},c.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},c.prototype.getHTML=function(){return this.body.innerHTML},c.prototype.getBody=function(){return this.body},c.prototype.sanitizeElements=function(){var g,b,p,v,w;for(w=o(this.body),v=[];w.nextNode();)switch(p=w.currentNode,p.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(p)?v.push(p):this.sanitizeElement(p);break;case Node.COMMENT_NODE:v.push(p)}for(g=0,b=v.length;b>g;g++)p=v[g],n.removeNode(p);return this.body},c.prototype.sanitizeElement=function(g){var b,p,v,w,x;for(g.hasAttribute("href")&&(w=g.protocol,l.call(this.forbiddenProtocols,w)>=0&&g.removeAttribute("href")),x=u.call(g.attributes),b=0,p=x.length;p>b;b++)v=x[b].name,l.call(this.allowedAttributes,v)>=0||v.indexOf("data-trix")===0||g.removeAttribute(v);return g},c.prototype.normalizeListElementNesting=function(){var g,b,p,v,w;for(w=u.call(this.body.querySelectorAll("ul,ol")),g=0,b=w.length;b>g;g++)p=w[g],(v=p.previousElementSibling)&&i(v)==="li"&&v.appendChild(p);return this.body},c.prototype.elementIsRemovable=function(g){return(g!=null?g.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(g)||this.elementIsntSerializable(g):void 0},c.prototype.elementIsForbidden=function(g){var b;return b=i(g),l.call(this.forbiddenElements,b)>=0},c.prototype.elementIsntSerializable=function(g){return g.getAttribute("data-trix-serialize")==="false"&&!r(g)},y=function(g){var b,p,v,w,x;for(g==null&&(g=""),g=g.replace(/<\/html[^>]*>[^]*$/i,"</html>"),b=document.implementation.createHTMLDocument(""),b.documentElement.innerHTML=g,x=b.head.querySelectorAll("style"),v=0,w=x.length;w>v;v++)p=x[v],b.body.appendChild(p);return b.body},c}(n.BasicObject)}.call(this),function(){var r,i,o,s,a,l,u,d,c,f,h,m=function(b,p){function v(){this.constructor=b}for(var w in p)y.call(p,w)&&(b[w]=p[w]);return v.prototype=p.prototype,b.prototype=new v,b.__super__=p.prototype,b},y={}.hasOwnProperty,g=[].indexOf||function(b){for(var p=0,v=this.length;v>p;p++)if(p in this&&this[p]===b)return p;return-1};r=n.arraysAreEqual,l=n.makeElement,f=n.tagName,a=n.getBlockTagNames,h=n.walkTree,s=n.findClosestElementFromNode,o=n.elementContainsNode,u=n.nodeIsAttachmentElement,d=n.normalizeSpaces,i=n.breakableWhitespacePattern,c=n.squishBreakableWhitespace,n.HTMLParser=function(b){function p(N,P){this.html=N,this.referenceElement=(P??{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var v,w,x,S,E,k,A,C,_,O,M,T;return m(p,b),p.parse=function(N,P){var L;return L=new this(N,P),L.parse(),L},p.prototype.getDocument=function(){return n.Document.fromJSON(this.blocks)},p.prototype.parse=function(){var N,P;try{for(this.createHiddenContainer(),N=n.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=N,P=h(this.containerElement,{usingFilter:A});P.nextNode();)this.processNode(P.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},p.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=l({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},p.prototype.removeHiddenContainer=function(){return n.removeNode(this.containerElement)},A=function(N){return f(N)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},p.prototype.processNode=function(N){switch(N.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(N))return this.appendBlockForTextNode(N),this.processTextNode(N);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(N),this.processElement(N)}},p.prototype.appendBlockForTextNode=function(N){var P,L,z;return L=N.parentNode,L===this.currentBlockElement&&this.isBlockElement(N.previousSibling)?this.appendStringWithAttributes(`
`):L!==this.containerElement&&!this.isBlockElement(L)||(P=this.getBlockAttributes(L),r(P,(z=this.currentBlock)!=null?z.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(P,L),this.currentBlockElement=L)},p.prototype.appendBlockForElement=function(N){var P,L,z,j;if(z=this.isBlockElement(N),L=o(this.currentBlockElement,N),z&&!this.isBlockElement(N.firstChild)){if((!this.isInsignificantTextNode(N.firstChild)||!this.isBlockElement(N.firstElementChild))&&(P=this.getBlockAttributes(N),N.firstChild))return L&&r(P,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(P,N),this.currentBlockElement=N)}else if(this.currentBlockElement&&!L&&!z)return(j=this.findParentBlockElement(N))?this.appendBlockForElement(j):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},p.prototype.findParentBlockElement=function(N){var P;for(P=N.parentElement;P&&P!==this.containerElement;){if(this.isBlockElement(P)&&g.call(this.blockElements,P)>=0)return P;P=P.parentElement}return null},p.prototype.processTextNode=function(N){var P,L;return L=N.data,w(N.parentNode)||(L=c(L),M((P=N.previousSibling)!=null?P.textContent:void 0)&&(L=E(L))),this.appendStringWithAttributes(L,this.getTextAttributes(N.parentNode))},p.prototype.processElement=function(N){var P,L,z,j,B;if(u(N))return P=C(N,"attachment"),Object.keys(P).length&&(j=this.getTextAttributes(N),this.appendAttachmentWithAttributes(P,j),N.innerHTML=""),this.processedElements.push(N);switch(f(N)){case"br":return this.isExtraBR(N)||this.isBlockElement(N.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(N)),this.processedElements.push(N);case"img":P={url:N.getAttribute("src"),contentType:"image"},z=S(N);for(L in z)B=z[L],P[L]=B;return this.appendAttachmentWithAttributes(P,this.getTextAttributes(N)),this.processedElements.push(N);case"tr":if(N.parentNode.firstChild!==N)return this.appendStringWithAttributes(`
`);break;case"td":if(N.parentNode.firstChild!==N)return this.appendStringWithAttributes(" | ")}},p.prototype.appendBlockForAttributesWithElement=function(N,P){var L;return this.blockElements.push(P),L=v(N),this.blocks.push(L),L},p.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},p.prototype.appendStringWithAttributes=function(N,P){return this.appendPiece(O(N,P))},p.prototype.appendAttachmentWithAttributes=function(N,P){return this.appendPiece(_(N,P))},p.prototype.appendPiece=function(N){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(N)},p.prototype.appendStringToTextAtIndex=function(N,P){var L,z;return z=this.blocks[P].text,L=z[z.length-1],(L!=null?L.type:void 0)==="string"?L.string+=N:z.push(O(N))},p.prototype.prependStringToTextAtIndex=function(N,P){var L,z;return z=this.blocks[P].text,L=z[0],(L!=null?L.type:void 0)==="string"?L.string=N+L.string:z.unshift(O(N))},O=function(N,P){var L;return P==null&&(P={}),L="string",N=d(N),{string:N,attributes:P,type:L}},_=function(N,P){var L;return P==null&&(P={}),L="attachment",{attachment:N,attributes:P,type:L}},v=function(N){var P;return N==null&&(N={}),P=[],{text:P,attributes:N}},p.prototype.getTextAttributes=function(N){var P,L,z,j,B,I,$,V,G,K,H,W;z={},G=n.config.textAttributes;for(P in G)if(B=G[P],B.tagName&&s(N,{matchingSelector:B.tagName,untilNode:this.containerElement}))z[P]=!0;else if(B.parser){if(W=B.parser(N)){for(L=!1,K=this.findBlockElementAncestors(N),I=0,V=K.length;V>I;I++)if(j=K[I],B.parser(j)===W){L=!0;break}L||(z[P]=W)}}else B.styleProperty&&(W=N.style[B.styleProperty])&&(z[P]=W);if(u(N)){H=C(N,"attributes");for($ in H)W=H[$],z[$]=W}return z},p.prototype.getBlockAttributes=function(N){var P,L,z,j;for(L=[];N&&N!==this.containerElement;){j=n.config.blockAttributes;for(P in j)z=j[P],z.parse!==!1&&f(N)===z.tagName&&(typeof z.test=="function"&&z.test(N)||!z.test)&&(L.push(P),z.listAttribute&&L.push(z.listAttribute));N=N.parentNode}return L.reverse()},p.prototype.findBlockElementAncestors=function(N){var P,L;for(P=[];N&&N!==this.containerElement;)L=f(N),g.call(a(),L)>=0&&P.push(N),N=N.parentNode;return P},C=function(N,P){try{return JSON.parse(N.getAttribute("data-trix-"+P))}catch{return{}}},S=function(N){var P,L,z;return z=N.getAttribute("width"),L=N.getAttribute("height"),P={},z&&(P.width=parseInt(z,10)),L&&(P.height=parseInt(L,10)),P},p.prototype.isBlockElement=function(N){var P;if((N!=null?N.nodeType:void 0)===Node.ELEMENT_NODE&&!u(N)&&!s(N,{matchingSelector:"td",untilNode:this.containerElement}))return P=f(N),g.call(a(),P)>=0||window.getComputedStyle(N).display==="block"},p.prototype.isInsignificantTextNode=function(N){var P,L,z;if((N!=null?N.nodeType:void 0)===Node.TEXT_NODE&&T(N.data)&&(L=N.parentNode,z=N.previousSibling,P=N.nextSibling,(!k(L.previousSibling)||this.isBlockElement(L.previousSibling))&&!w(L)))return!z||this.isBlockElement(z)||!P||this.isBlockElement(P)},p.prototype.isExtraBR=function(N){return f(N)==="br"&&this.isBlockElement(N.parentNode)&&N.parentNode.lastChild===N},w=function(N){var P;return P=window.getComputedStyle(N).whiteSpace,P==="pre"||P==="pre-wrap"||P==="pre-line"},k=function(N){return N&&!M(N.textContent)},p.prototype.translateBlockElementMarginsToNewlines=function(){var N,P,L,z,j,B,I;for(N=this.getMarginOfDefaultBlockElement(),B=this.blocks,I=[],L=P=0,z=B.length;z>P;L=++P)B[L],(j=this.getMarginOfBlockElementAtIndex(L))&&(j.top>2*N.top&&this.prependStringToTextAtIndex(`
`,L),I.push(j.bottom>2*N.bottom?this.appendStringToTextAtIndex(`
`,L):void 0));return I},p.prototype.getMarginOfBlockElementAtIndex=function(N){var P,L;return!(P=this.blockElements[N])||!P.textContent||(L=f(P),g.call(a(),L)>=0||g.call(this.processedElements,P)>=0)?void 0:x(P)},p.prototype.getMarginOfDefaultBlockElement=function(){var N;return N=l(n.config.blockAttributes.default.tagName),this.containerElement.appendChild(N),x(N)},x=function(N){var P;return P=window.getComputedStyle(N),P.display==="block"?{top:parseInt(P.marginTop),bottom:parseInt(P.marginBottom)}:void 0},E=function(N){return N.replace(RegExp("^"+i.source+"+"),"")},T=function(N){return RegExp("^"+i.source+"*$").test(N)},M=function(N){return/\s$/.test(N)},p}(n.BasicObject)}.call(this),function(){var r,i,o,s,a=function(c,f){function h(){this.constructor=c}for(var m in f)l.call(f,m)&&(c[m]=f[m]);return h.prototype=f.prototype,c.prototype=new h,c.__super__=f.prototype,c},l={}.hasOwnProperty,u=[].slice,d=[].indexOf||function(c){for(var f=0,h=this.length;h>f;f++)if(f in this&&this[f]===c)return f;return-1};r=n.arraysAreEqual,o=n.normalizeRange,s=n.rangeIsCollapsed,i=n.getBlockConfig,n.Document=function(c){function f(m){m==null&&(m=[]),f.__super__.constructor.apply(this,arguments),m.length===0&&(m=[new n.Block]),this.blockList=n.SplittableList.box(m)}var h;return a(f,c),f.fromJSON=function(m){var y,g;return g=function(){var b,p,v;for(v=[],b=0,p=m.length;p>b;b++)y=m[b],v.push(n.Block.fromJSON(y));return v}(),new this(g)},f.fromHTML=function(m,y){return n.HTMLParser.parse(m,y).getDocument()},f.fromString=function(m,y){var g;return g=n.Text.textForStringWithAttributes(m,y),new this([new n.Block(g)])},f.prototype.isEmpty=function(){var m;return this.blockList.length===1&&(m=this.getBlockAtIndex(0),m.isEmpty()&&!m.hasAttributes())},f.prototype.copy=function(m){var y;return m==null&&(m={}),y=m.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(y)},f.prototype.copyUsingObjectsFromDocument=function(m){var y;return y=new n.ObjectMap(m.getObjects()),this.copyUsingObjectMap(y)},f.prototype.copyUsingObjectMap=function(m){var y,g,b;return g=function(){var p,v,w,x;for(w=this.getBlocks(),x=[],p=0,v=w.length;v>p;p++)y=w[p],x.push((b=m.find(y))?b:y.copyUsingObjectMap(m));return x}.call(this),new this.constructor(g)},f.prototype.copyWithBaseBlockAttributes=function(m){var y,g,b;return m==null&&(m=[]),b=function(){var p,v,w,x;for(w=this.getBlocks(),x=[],p=0,v=w.length;v>p;p++)g=w[p],y=m.concat(g.getAttributes()),x.push(g.copyWithAttributes(y));return x}.call(this),new this.constructor(b)},f.prototype.replaceBlock=function(m,y){var g;return g=this.blockList.indexOf(m),g===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(y,g))},f.prototype.insertDocumentAtRange=function(m,y){var g,b,p,v,w,x,S;return b=m.blockList,w=(y=o(y))[0],x=this.locationFromPosition(w),p=x.index,v=x.offset,S=this,g=this.getBlockAtPosition(w),s(y)&&g.isEmpty()&&!g.hasAttributes()?S=new this.constructor(S.blockList.removeObjectAtIndex(p)):g.getBlockBreakPosition()===v&&w++,S=S.removeTextAtRange(y),new this.constructor(S.blockList.insertSplittableListAtPosition(b,w))},f.prototype.mergeDocumentAtRange=function(m,y){var g,b,p,v,w,x,S,E,k,A,C,_;return C=(y=o(y))[0],A=this.locationFromPosition(C),b=this.getBlockAtIndex(A.index).getAttributes(),g=m.getBaseBlockAttributes(),_=b.slice(-g.length),r(g,_)?(S=b.slice(0,-g.length),x=m.copyWithBaseBlockAttributes(S)):x=m.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(b),p=x.getBlockCount(),v=x.getBlockAtIndex(0),r(b,v.getAttributes())?(w=v.getTextWithoutBlockBreak(),k=this.insertTextAtRange(w,y),p>1&&(x=new this.constructor(x.getBlocks().slice(1)),E=C+w.getLength(),k=k.insertDocumentAtRange(x,E))):k=this.insertDocumentAtRange(x,y),k},f.prototype.insertTextAtRange=function(m,y){var g,b,p,v,w;return w=(y=o(y))[0],v=this.locationFromPosition(w),b=v.index,p=v.offset,g=this.removeTextAtRange(y),new this.constructor(g.blockList.editObjectAtIndex(b,function(x){return x.copyWithText(x.text.insertTextAtPosition(m,p))}))},f.prototype.removeTextAtRange=function(m){var y,g,b,p,v,w,x,S,E,k,A,C,_,O,M,T,N,P,L,z,j;return k=m=o(m),S=k[0],P=k[1],s(m)?this:(A=this.locationRangeFromRange(m),w=A[0],T=A[1],v=w.index,x=w.offset,p=this.getBlockAtIndex(v),M=T.index,N=T.offset,O=this.getBlockAtIndex(M),C=P-S===1&&p.getBlockBreakPosition()===x&&O.getBlockBreakPosition()!==N&&O.text.getStringAtPosition(N)===`
`,C?b=this.blockList.editObjectAtIndex(M,function(B){return B.copyWithText(B.text.removeTextAtRange([N,N+1]))}):(E=p.text.getTextAtRange([0,x]),L=O.text.getTextAtRange([N,O.getLength()]),z=E.appendText(L),_=v!==M&&x===0,j=_&&p.getAttributeLevel()>=O.getAttributeLevel(),g=j?O.copyWithText(z):p.copyWithText(z),y=M+1-v,b=this.blockList.splice(v,y,g)),new this.constructor(b))},f.prototype.moveTextFromRangeToPosition=function(m,y){var g,b,p,v,w,x,S,E,k,A;return x=m=o(m),k=x[0],p=x[1],y>=k&&p>=y?this:(b=this.getDocumentAtRange(m),E=this.removeTextAtRange(m),w=y>k,w&&(y-=b.getLength()),S=b.getBlocks(),v=S[0],g=2<=S.length?u.call(S,1):[],g.length===0?(A=v.getTextWithoutBlockBreak(),w&&(y+=1)):A=v.text,E=E.insertTextAtRange(A,y),g.length===0?E:(b=new this.constructor(g),y+=A.getLength(),E.insertDocumentAtRange(b,y)))},f.prototype.addAttributeAtRange=function(m,y,g){var b;return b=this.blockList,this.eachBlockAtRange(g,function(p,v,w){return b=b.editObjectAtIndex(w,function(){return i(m)?p.addAttribute(m,y):v[0]===v[1]?p:p.copyWithText(p.text.addAttributeAtRange(m,y,v))})}),new this.constructor(b)},f.prototype.addAttribute=function(m,y){var g;return g=this.blockList,this.eachBlock(function(b,p){return g=g.editObjectAtIndex(p,function(){return b.addAttribute(m,y)})}),new this.constructor(g)},f.prototype.removeAttributeAtRange=function(m,y){var g;return g=this.blockList,this.eachBlockAtRange(y,function(b,p,v){return i(m)?g=g.editObjectAtIndex(v,function(){return b.removeAttribute(m)}):p[0]!==p[1]?g=g.editObjectAtIndex(v,function(){return b.copyWithText(b.text.removeAttributeAtRange(m,p))}):void 0}),new this.constructor(g)},f.prototype.updateAttributesForAttachment=function(m,y){var g,b,p;return b=this.getRangeOfAttachment(y)[0],g=this.locationFromPosition(b).index,p=this.getTextAtIndex(g),new this.constructor(this.blockList.editObjectAtIndex(g,function(v){return v.copyWithText(p.updateAttributesForAttachment(m,y))}))},f.prototype.removeAttributeForAttachment=function(m,y){var g;return g=this.getRangeOfAttachment(y),this.removeAttributeAtRange(m,g)},f.prototype.insertBlockBreakAtRange=function(m){var y,g,b,p;return p=(m=o(m))[0],b=this.locationFromPosition(p).offset,g=this.removeTextAtRange(m),b===0&&(y=[new n.Block]),new this.constructor(g.blockList.insertSplittableListAtPosition(new n.SplittableList(y),p))},f.prototype.applyBlockAttributeAtRange=function(m,y,g){var b,p,v,w;return v=this.expandRangeToLineBreaksAndSplitBlocks(g),p=v.document,g=v.range,b=i(m),b.listAttribute?(p=p.removeLastListAttributeAtRange(g,{exceptAttributeName:m}),w=p.convertLineBreaksToBlockBreaksInRange(g),p=w.document,g=w.range):p=b.exclusive?p.removeBlockAttributesAtRange(g):b.terminal?p.removeLastTerminalAttributeAtRange(g):p.consolidateBlocksAtRange(g),p.addAttributeAtRange(m,y,g)},f.prototype.removeLastListAttributeAtRange=function(m,y){var g;return y==null&&(y={}),g=this.blockList,this.eachBlockAtRange(m,function(b,p,v){var w;if((w=b.getLastAttribute())&&i(w).listAttribute&&w!==y.exceptAttributeName)return g=g.editObjectAtIndex(v,function(){return b.removeAttribute(w)})}),new this.constructor(g)},f.prototype.removeLastTerminalAttributeAtRange=function(m){var y;return y=this.blockList,this.eachBlockAtRange(m,function(g,b,p){var v;if((v=g.getLastAttribute())&&i(v).terminal)return y=y.editObjectAtIndex(p,function(){return g.removeAttribute(v)})}),new this.constructor(y)},f.prototype.removeBlockAttributesAtRange=function(m){var y;return y=this.blockList,this.eachBlockAtRange(m,function(g,b,p){return g.hasAttributes()?y=y.editObjectAtIndex(p,function(){return g.copyWithoutAttributes()}):void 0}),new this.constructor(y)},f.prototype.expandRangeToLineBreaksAndSplitBlocks=function(m){var y,g,b,p,v,w,x,S,E;return w=m=o(m),E=w[0],p=w[1],S=this.locationFromPosition(E),b=this.locationFromPosition(p),y=this,x=y.getBlockAtIndex(S.index),(S.offset=x.findLineBreakInDirectionFromPosition("backward",S.offset))!=null&&(v=y.positionFromLocation(S),y=y.insertBlockBreakAtRange([v,v+1]),b.index+=1,b.offset-=y.getBlockAtIndex(S.index).getLength(),S.index+=1),S.offset=0,b.offset===0&&b.index>S.index?(b.index-=1,b.offset=y.getBlockAtIndex(b.index).getBlockBreakPosition()):(g=y.getBlockAtIndex(b.index),g.text.getStringAtRange([b.offset-1,b.offset])===`
`?b.offset-=1:b.offset=g.findLineBreakInDirectionFromPosition("forward",b.offset),b.offset!==g.getBlockBreakPosition()&&(v=y.positionFromLocation(b),y=y.insertBlockBreakAtRange([v,v+1]))),E=y.positionFromLocation(S),p=y.positionFromLocation(b),m=o([E,p]),{document:y,range:m}},f.prototype.convertLineBreaksToBlockBreaksInRange=function(m){var y,g,b;return g=(m=o(m))[0],b=this.getStringAtRange(m).slice(0,-1),y=this,b.replace(/.*?\n/g,function(p){return g+=p.length,y=y.insertBlockBreakAtRange([g-1,g])}),{document:y,range:m}},f.prototype.consolidateBlocksAtRange=function(m){var y,g,b,p,v;return b=m=o(m),v=b[0],g=b[1],p=this.locationFromPosition(v).index,y=this.locationFromPosition(g).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(p,y))},f.prototype.getDocumentAtRange=function(m){var y;return m=o(m),y=this.blockList.getSplittableListInRange(m).toArray(),new this.constructor(y)},f.prototype.getStringAtRange=function(m){var y,g,b;return b=m=o(m),g=b[b.length-1],g!==this.getLength()&&(y=-1),this.getDocumentAtRange(m).toString().slice(0,y)},f.prototype.getBlockAtIndex=function(m){return this.blockList.getObjectAtIndex(m)},f.prototype.getBlockAtPosition=function(m){var y;return y=this.locationFromPosition(m).index,this.getBlockAtIndex(y)},f.prototype.getTextAtIndex=function(m){var y;return(y=this.getBlockAtIndex(m))!=null?y.text:void 0},f.prototype.getTextAtPosition=function(m){var y;return y=this.locationFromPosition(m).index,this.getTextAtIndex(y)},f.prototype.getPieceAtPosition=function(m){var y,g,b;return b=this.locationFromPosition(m),y=b.index,g=b.offset,this.getTextAtIndex(y).getPieceAtPosition(g)},f.prototype.getCharacterAtPosition=function(m){var y,g,b;return b=this.locationFromPosition(m),y=b.index,g=b.offset,this.getTextAtIndex(y).getStringAtRange([g,g+1])},f.prototype.getLength=function(){return this.blockList.getEndPosition()},f.prototype.getBlocks=function(){return this.blockList.toArray()},f.prototype.getBlockCount=function(){return this.blockList.length},f.prototype.getEditCount=function(){return this.editCount},f.prototype.eachBlock=function(m){return this.blockList.eachObject(m)},f.prototype.eachBlockAtRange=function(m,y){var g,b,p,v,w,x,S,E,k,A,C,_;if(x=m=o(m),C=x[0],p=x[1],A=this.locationFromPosition(C),b=this.locationFromPosition(p),A.index===b.index)return g=this.getBlockAtIndex(A.index),_=[A.offset,b.offset],y(g,_,A.index);for(k=[],w=v=S=A.index,E=b.index;E>=S?E>=v:v>=E;w=E>=S?++v:--v)(g=this.getBlockAtIndex(w))?(_=function(){switch(w){case A.index:return[A.offset,g.text.getLength()];case b.index:return[0,b.offset];default:return[0,g.text.getLength()]}}(),k.push(y(g,_,w))):k.push(void 0);return k},f.prototype.getCommonAttributesAtRange=function(m){var y,g,b;return g=(m=o(m))[0],s(m)?this.getCommonAttributesAtPosition(g):(b=[],y=[],this.eachBlockAtRange(m,function(p,v){return v[0]!==v[1]?(b.push(p.text.getCommonAttributesAtRange(v)),y.push(h(p))):void 0}),n.Hash.fromCommonAttributesOfObjects(b).merge(n.Hash.fromCommonAttributesOfObjects(y)).toObject())},f.prototype.getCommonAttributesAtPosition=function(m){var y,g,b,p,v,w,x,S,E,k;if(E=this.locationFromPosition(m),v=E.index,S=E.offset,b=this.getBlockAtIndex(v),!b)return{};p=h(b),y=b.text.getAttributesAtPosition(S),g=b.text.getAttributesAtPosition(S-1),w=function(){var A,C;A=n.config.textAttributes,C=[];for(x in A)k=A[x],k.inheritable&&C.push(x);return C}();for(x in g)k=g[x],(k===y[x]||d.call(w,x)>=0)&&(p[x]=k);return p},f.prototype.getRangeOfCommonAttributeAtPosition=function(m,y){var g,b,p,v,w,x,S,E,k;return w=this.locationFromPosition(y),p=w.index,v=w.offset,k=this.getTextAtIndex(p),x=k.getExpandedRangeForAttributeAtOffset(m,v),E=x[0],b=x[1],S=this.positionFromLocation({index:p,offset:E}),g=this.positionFromLocation({index:p,offset:b}),o([S,g])},f.prototype.getBaseBlockAttributes=function(){var m,y,g,b,p,v,w;for(m=this.getBlockAtIndex(0).getAttributes(),g=b=1,w=this.getBlockCount();w>=1?w>b:b>w;g=w>=1?++b:--b)y=this.getBlockAtIndex(g).getAttributes(),v=Math.min(m.length,y.length),m=function(){var x,S,E;for(E=[],p=x=0,S=v;(S>=0?S>x:x>S)&&y[p]===m[p];p=S>=0?++x:--x)E.push(y[p]);return E}();return m},h=function(m){var y,g;return g={},(y=m.getLastAttribute())&&(g[y]=!0),g},f.prototype.getAttachmentById=function(m){var y,g,b,p;for(p=this.getAttachments(),g=0,b=p.length;b>g;g++)if(y=p[g],y.id===m)return y},f.prototype.getAttachmentPieces=function(){var m;return m=[],this.blockList.eachObject(function(y){var g;return g=y.text,m=m.concat(g.getAttachmentPieces())}),m},f.prototype.getAttachments=function(){var m,y,g,b,p;for(b=this.getAttachmentPieces(),p=[],m=0,y=b.length;y>m;m++)g=b[m],p.push(g.attachment);return p},f.prototype.getRangeOfAttachment=function(m){var y,g,b,p,v,w,x;for(p=0,v=this.blockList.toArray(),g=y=0,b=v.length;b>y;g=++y){if(w=v[g].text,x=w.getRangeOfAttachment(m))return o([p+x[0],p+x[1]]);p+=w.getLength()}},f.prototype.getLocationRangeOfAttachment=function(m){var y;return y=this.getRangeOfAttachment(m),this.locationRangeFromRange(y)},f.prototype.getAttachmentPieceForAttachment=function(m){var y,g,b,p;for(p=this.getAttachmentPieces(),y=0,g=p.length;g>y;y++)if(b=p[y],b.attachment===m)return b},f.prototype.findRangesForBlockAttribute=function(m){var y,g,b,p,v,w,x;for(v=0,w=[],x=this.getBlocks(),g=0,b=x.length;b>g;g++)y=x[g],p=y.getLength(),y.hasAttribute(m)&&w.push([v,v+p]),v+=p;return w},f.prototype.findRangesForTextAttribute=function(m,y){var g,b,p,v,w,x,S,E,k,A;for(A=(y??{}).withValue,x=0,S=[],E=[],v=function(C){return A!=null?C.getAttribute(m)===A:C.hasAttribute(m)},k=this.getPieces(),g=0,b=k.length;b>g;g++)w=k[g],p=w.getLength(),v(w)&&(S[1]===x?S[1]=x+p:E.push(S=[x,x+p])),x+=p;return E},f.prototype.locationFromPosition=function(m){var y,g;return g=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,m)),g.index!=null?g:(y=this.getBlocks(),{index:y.length-1,offset:y[y.length-1].getLength()})},f.prototype.positionFromLocation=function(m){return this.blockList.findPositionAtIndexAndOffset(m.index,m.offset)},f.prototype.locationRangeFromPosition=function(m){return o(this.locationFromPosition(m))},f.prototype.locationRangeFromRange=function(m){var y,g,b,p;if(m=o(m))return p=m[0],g=m[1],b=this.locationFromPosition(p),y=this.locationFromPosition(g),o([b,y])},f.prototype.rangeFromLocationRange=function(m){var y,g;return m=o(m),y=this.positionFromLocation(m[0]),s(m)||(g=this.positionFromLocation(m[1])),o([y,g])},f.prototype.isEqualTo=function(m){return this.blockList.isEqualTo(m!=null?m.blockList:void 0)},f.prototype.getTexts=function(){var m,y,g,b,p;for(b=this.getBlocks(),p=[],y=0,g=b.length;g>y;y++)m=b[y],p.push(m.text);return p},f.prototype.getPieces=function(){var m,y,g,b,p;for(g=[],b=this.getTexts(),m=0,y=b.length;y>m;m++)p=b[m],g.push.apply(g,p.getPieces());return g},f.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},f.prototype.toSerializableDocument=function(){var m;return m=[],this.blockList.eachObject(function(y){return m.push(y.copyWithText(y.text.toSerializableText()))}),new this.constructor(m)},f.prototype.toString=function(){return this.blockList.toString()},f.prototype.toJSON=function(){return this.blockList.toJSON()},f.prototype.toConsole=function(){var m;return JSON.stringify(function(){var y,g,b,p;for(b=this.blockList.toArray(),p=[],y=0,g=b.length;g>y;y++)m=b[y],p.push(JSON.parse(m.text.toConsole()));return p}.call(this))},f}(n.Object)}.call(this),function(){n.LineBreakInsertion=function(){function r(i){var o;this.composition=i,this.document=this.composition.document,o=this.composition.getSelectedRange(),this.startPosition=o[0],this.endPosition=o[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return r.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},r.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},r.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},r.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},r.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},r}()}.call(this),function(){var r,i,o,s,a,l,u,d,c,f,h=function(y,g){function b(){this.constructor=y}for(var p in g)m.call(g,p)&&(y[p]=g[p]);return b.prototype=g.prototype,y.prototype=new b,y.__super__=g.prototype,y},m={}.hasOwnProperty;l=n.normalizeRange,c=n.rangesAreEqual,d=n.rangeIsCollapsed,u=n.objectsAreEqual,r=n.arrayStartsWith,f=n.summarizeArrayChange,o=n.getAllAttributeNames,s=n.getBlockConfig,a=n.getTextConfig,i=n.extend,n.Composition=function(y){function g(){this.document=new n.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var b;return h(g,y),g.prototype.setDocument=function(p){var v;return p.isEqualTo(this.document)?void 0:(this.document=p,this.refreshAttachments(),this.revision++,(v=this.delegate)!=null&&typeof v.compositionDidChangeDocument=="function"?v.compositionDidChangeDocument(p):void 0)},g.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},g.prototype.loadSnapshot=function(p){var v,w,x,S;return v=p.document,S=p.selectedRange,(w=this.delegate)!=null&&typeof w.compositionWillLoadSnapshot=="function"&&w.compositionWillLoadSnapshot(),this.setDocument(v??new n.Document),this.setSelection(S??[0,0]),(x=this.delegate)!=null&&typeof x.compositionDidLoadSnapshot=="function"?x.compositionDidLoadSnapshot():void 0},g.prototype.insertText=function(p,v){var w,x,S,E;return E=(v??{updatePosition:!0}).updatePosition,x=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(p,x)),S=x[0],w=S+p.getLength(),E&&this.setSelection(w),this.notifyDelegateOfInsertionAtRange([S,w])},g.prototype.insertBlock=function(p){var v;return p==null&&(p=new n.Block),v=new n.Document([p]),this.insertDocument(v)},g.prototype.insertDocument=function(p){var v,w,x;return p==null&&(p=new n.Document),w=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(p,w)),x=w[0],v=x+p.getLength(),this.setSelection(v),this.notifyDelegateOfInsertionAtRange([x,v])},g.prototype.insertString=function(p,v){var w,x;return w=this.getCurrentTextAttributes(),x=n.Text.textForStringWithAttributes(p,w),this.insertText(x,v)},g.prototype.insertBlockBreak=function(){var p,v,w;return v=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(v)),w=v[0],p=w+1,this.setSelection(p),this.notifyDelegateOfInsertionAtRange([w,p])},g.prototype.insertLineBreak=function(){var p,v;return v=new n.LineBreakInsertion(this),v.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(v.startPosition)):v.shouldPrependListItem()?(p=new n.Document([v.block.copyWithoutText()]),this.insertDocument(p)):v.shouldInsertBlockBreak()?this.insertBlockBreak():v.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():v.shouldBreakFormattedBlock()?this.breakFormattedBlock(v):this.insertString(`
`)},g.prototype.insertHTML=function(p){var v,w,x,S;return v=n.Document.fromHTML(p),x=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(v,x)),S=x[0],w=S+v.getLength()-1,this.setSelection(w),this.notifyDelegateOfInsertionAtRange([S,w])},g.prototype.replaceHTML=function(p){var v,w,x;return v=n.Document.fromHTML(p).copyUsingObjectsFromDocument(this.document),w=this.getLocationRange({strict:!1}),x=this.document.rangeFromLocationRange(w),this.setDocument(v),this.setSelection(x)},g.prototype.insertFile=function(p){return this.insertFiles([p])},g.prototype.insertFiles=function(p){var v,w,x,S,E,k;for(w=[],S=0,E=p.length;E>S;S++)x=p[S],(k=this.delegate)!=null&&k.compositionShouldAcceptFile(x)&&(v=n.Attachment.attachmentForFile(x),w.push(v));return this.insertAttachments(w)},g.prototype.insertAttachment=function(p){return this.insertAttachments([p])},g.prototype.insertAttachments=function(p){var v,w,x,S,E,k,A,C,_;for(C=new n.Text,S=0,E=p.length;E>S;S++)v=p[S],_=v.getType(),k=(A=n.config.attachments[_])!=null?A.presentation:void 0,x=this.getCurrentTextAttributes(),k&&(x.presentation=k),w=n.Text.textForAttachmentWithAttributes(v,x),C=C.appendText(w);return this.insertText(C)},g.prototype.shouldManageDeletingInDirection=function(p){var v;if(v=this.getLocationRange(),d(v)){if(p==="backward"&&v[0].offset===0||this.shouldManageMovingCursorInDirection(p))return!0}else if(v[0].index!==v[1].index)return!0;return!1},g.prototype.deleteInDirection=function(p,v){var w,x,S,E,k,A,C,_;return E=(v??{}).length,k=this.getLocationRange(),A=this.getSelectedRange(),C=d(A),C?S=p==="backward"&&k[0].offset===0:_=k[0].index!==k[1].index,S&&this.canDecreaseBlockAttributeLevel()&&(x=this.getBlock(),x.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(A[0]),x.isEmpty())?!1:(C&&(A=this.getExpandedRangeInDirection(p,{length:E}),p==="backward"&&(w=this.getAttachmentAtRange(A))),w?(this.editAttachment(w),!1):(this.setDocument(this.document.removeTextAtRange(A)),this.setSelection(A[0]),S||_?!1:void 0))},g.prototype.moveTextFromRange=function(p){var v;return v=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(p,v)),this.setSelection(v)},g.prototype.removeAttachment=function(p){var v;return(v=this.document.getRangeOfAttachment(p))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(v)),this.setSelection(v[0])):void 0},g.prototype.removeLastBlockAttribute=function(){var p,v,w,x;return w=this.getSelectedRange(),x=w[0],v=w[1],p=this.document.getBlockAtPosition(v),this.removeCurrentAttribute(p.getLastAttribute()),this.setSelection(x)},b=" ",g.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(b)},g.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+b.length]),this.getSelectedRange()):void 0},g.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},g.prototype.hasCurrentAttribute=function(p){var v;return v=this.currentAttributes[p],v!=null&&v!==!1},g.prototype.toggleCurrentAttribute=function(p){var v;return(v=!this.currentAttributes[p])?this.setCurrentAttribute(p,v):this.removeCurrentAttribute(p)},g.prototype.canSetCurrentAttribute=function(p){return s(p)?this.canSetCurrentBlockAttribute(p):this.canSetCurrentTextAttribute(p)},g.prototype.canSetCurrentTextAttribute=function(){var p,v,w,x,S;if(v=this.getSelectedDocument()){for(S=v.getAttachments(),w=0,x=S.length;x>w;w++)if(p=S[w],!p.hasContent())return!1;return!0}},g.prototype.canSetCurrentBlockAttribute=function(){var p;if(p=this.getBlock())return!p.isTerminalBlock()},g.prototype.setCurrentAttribute=function(p,v){return s(p)?this.setBlockAttribute(p,v):(this.setTextAttribute(p,v),this.currentAttributes[p]=v,this.notifyDelegateOfCurrentAttributesChange())},g.prototype.setTextAttribute=function(p,v){var w,x,S,E;if(x=this.getSelectedRange())return S=x[0],w=x[1],S!==w?this.setDocument(this.document.addAttributeAtRange(p,v,x)):p==="href"?(E=n.Text.textForStringWithAttributes(v,{href:v}),this.insertText(E)):void 0},g.prototype.setBlockAttribute=function(p,v){var w;if(w=this.getSelectedRange())return this.canSetCurrentAttribute(p)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(p,v,w)),this.setSelection(w)):void 0},g.prototype.removeCurrentAttribute=function(p){return s(p)?(this.removeBlockAttribute(p),this.updateCurrentAttributes()):(this.removeTextAttribute(p),delete this.currentAttributes[p],this.notifyDelegateOfCurrentAttributesChange())},g.prototype.removeTextAttribute=function(p){var v;if(v=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(p,v))},g.prototype.removeBlockAttribute=function(p){var v;if(v=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(p,v))},g.prototype.canDecreaseNestingLevel=function(){var p;return((p=this.getBlock())!=null?p.getNestingLevel():void 0)>0},g.prototype.canIncreaseNestingLevel=function(){var p,v,w;if(p=this.getBlock())return(w=s(p.getLastNestableAttribute()))!=null&&w.listAttribute?(v=this.getPreviousBlock())?r(v.getListItemAttributes(),p.getListItemAttributes()):void 0:p.getNestingLevel()>0},g.prototype.decreaseNestingLevel=function(){var p;if(p=this.getBlock())return this.setDocument(this.document.replaceBlock(p,p.decreaseNestingLevel()))},g.prototype.increaseNestingLevel=function(){var p;if(p=this.getBlock())return this.setDocument(this.document.replaceBlock(p,p.increaseNestingLevel()))},g.prototype.canDecreaseBlockAttributeLevel=function(){var p;return((p=this.getBlock())!=null?p.getAttributeLevel():void 0)>0},g.prototype.decreaseBlockAttributeLevel=function(){var p,v;return(p=(v=this.getBlock())!=null?v.getLastAttribute():void 0)?this.removeCurrentAttribute(p):void 0},g.prototype.decreaseListLevel=function(){var p,v,w,x,S,E;for(E=this.getSelectedRange()[0],S=this.document.locationFromPosition(E).index,w=S,p=this.getBlock().getAttributeLevel();(v=this.document.getBlockAtIndex(w+1))&&v.isListItem()&&v.getAttributeLevel()>p;)w++;return E=this.document.positionFromLocation({index:S,offset:0}),x=this.document.positionFromLocation({index:w,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([E,x]))},g.prototype.updateCurrentAttributes=function(){var p,v,w,x,S,E;if(E=this.getSelectedRange({ignoreLock:!0})){for(v=this.document.getCommonAttributesAtRange(E),S=o(),w=0,x=S.length;x>w;w++)p=S[w],v[p]||this.canSetCurrentAttribute(p)||(v[p]=!1);if(!u(v,this.currentAttributes))return this.currentAttributes=v,this.notifyDelegateOfCurrentAttributesChange()}},g.prototype.getCurrentAttributes=function(){return i.call({},this.currentAttributes)},g.prototype.getCurrentTextAttributes=function(){var p,v,w,x;p={},w=this.currentAttributes;for(v in w)x=w[v],x!==!1&&a(v)&&(p[v]=x);return p},g.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},g.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},g.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},g.proxyMethod("getSelectionManager().getPointRange"),g.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),g.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),g.proxyMethod("getSelectionManager().locationIsCursorTarget"),g.proxyMethod("getSelectionManager().selectionIsExpanded"),g.proxyMethod("delegate?.getSelectionManager"),g.prototype.setSelection=function(p){var v,w;return v=this.document.locationRangeFromRange(p),(w=this.delegate)!=null?w.compositionDidRequestChangingSelectionToLocationRange(v):void 0},g.prototype.getSelectedRange=function(){var p;return(p=this.getLocationRange())?this.document.rangeFromLocationRange(p):void 0},g.prototype.setSelectedRange=function(p){var v;return v=this.document.locationRangeFromRange(p),this.getSelectionManager().setLocationRange(v)},g.prototype.getPosition=function(){var p;return(p=this.getLocationRange())?this.document.positionFromLocation(p[0]):void 0},g.prototype.getLocationRange=function(p){var v,w;return(v=(w=this.targetLocationRange)!=null?w:this.getSelectionManager().getLocationRange(p))!=null?v:l({index:0,offset:0})},g.prototype.withTargetLocationRange=function(p,v){var w;this.targetLocationRange=p;try{w=v()}finally{this.targetLocationRange=null}return w},g.prototype.withTargetRange=function(p,v){var w;return w=this.document.locationRangeFromRange(p),this.withTargetLocationRange(w,v)},g.prototype.withTargetDOMRange=function(p,v){var w;return w=this.createLocationRangeFromDOMRange(p,{strict:!1}),this.withTargetLocationRange(w,v)},g.prototype.getExpandedRangeInDirection=function(p,v){var w,x,S,E;return x=(v??{}).length,S=this.getSelectedRange(),E=S[0],w=S[1],p==="backward"?x?E-=x:E=this.translateUTF16PositionFromOffset(E,-1):x?w+=x:w=this.translateUTF16PositionFromOffset(w,1),l([E,w])},g.prototype.shouldManageMovingCursorInDirection=function(p){var v;return this.editingAttachment?!0:(v=this.getExpandedRangeInDirection(p),this.getAttachmentAtRange(v)!=null)},g.prototype.moveCursorInDirection=function(p){var v,w,x,S;return this.editingAttachment?x=this.document.getRangeOfAttachment(this.editingAttachment):(S=this.getSelectedRange(),x=this.getExpandedRangeInDirection(p),w=!c(S,x)),this.setSelectedRange(p==="backward"?x[0]:x[1]),w&&(v=this.getAttachmentAtRange(x))?this.editAttachment(v):void 0},g.prototype.expandSelectionInDirection=function(p,v){var w,x;return w=(v??{}).length,x=this.getExpandedRangeInDirection(p,{length:w}),this.setSelectedRange(x)},g.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},g.prototype.expandSelectionAroundCommonAttribute=function(p){var v,w;return v=this.getPosition(),w=this.document.getRangeOfCommonAttributeAtPosition(p,v),this.setSelectedRange(w)},g.prototype.selectionContainsAttachments=function(){var p;return((p=this.getSelectedAttachments())!=null?p.length:void 0)>0},g.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},g.prototype.positionIsCursorTarget=function(p){var v;return(v=this.document.locationFromPosition(p))?this.locationIsCursorTarget(v):void 0},g.prototype.positionIsBlockBreak=function(p){var v;return(v=this.document.getPieceAtPosition(p))!=null?v.isBlockBreak():void 0},g.prototype.getSelectedDocument=function(){var p;return(p=this.getSelectedRange())?this.document.getDocumentAtRange(p):void 0},g.prototype.getSelectedAttachments=function(){var p;return(p=this.getSelectedDocument())!=null?p.getAttachments():void 0},g.prototype.getAttachments=function(){return this.attachments.slice(0)},g.prototype.refreshAttachments=function(){var p,v,w,x,S,E,k,A,C,_,O,M;for(w=this.document.getAttachments(),A=f(this.attachments,w),p=A.added,O=A.removed,this.attachments=w,x=0,E=O.length;E>x;x++)v=O[x],v.delegate=null,(C=this.delegate)!=null&&typeof C.compositionDidRemoveAttachment=="function"&&C.compositionDidRemoveAttachment(v);for(M=[],S=0,k=p.length;k>S;S++)v=p[S],v.delegate=this,M.push((_=this.delegate)!=null&&typeof _.compositionDidAddAttachment=="function"?_.compositionDidAddAttachment(v):void 0);return M},g.prototype.attachmentDidChangeAttributes=function(p){var v;return this.revision++,(v=this.delegate)!=null&&typeof v.compositionDidEditAttachment=="function"?v.compositionDidEditAttachment(p):void 0},g.prototype.attachmentDidChangePreviewURL=function(p){var v;return this.revision++,(v=this.delegate)!=null&&typeof v.compositionDidChangeAttachmentPreviewURL=="function"?v.compositionDidChangeAttachmentPreviewURL(p):void 0},g.prototype.editAttachment=function(p,v){var w;if(p!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=p,(w=this.delegate)!=null&&typeof w.compositionDidStartEditingAttachment=="function"?w.compositionDidStartEditingAttachment(this.editingAttachment,v):void 0},g.prototype.stopEditingAttachment=function(){var p;if(this.editingAttachment)return(p=this.delegate)!=null&&typeof p.compositionDidStopEditingAttachment=="function"&&p.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},g.prototype.updateAttributesForAttachment=function(p,v){return this.setDocument(this.document.updateAttributesForAttachment(p,v))},g.prototype.removeAttributeForAttachment=function(p,v){return this.setDocument(this.document.removeAttributeForAttachment(p,v))},g.prototype.breakFormattedBlock=function(p){var v,w,x,S,E;return w=p.document,v=p.block,S=p.startPosition,E=[S-1,S],v.getBlockBreakPosition()===p.startLocation.offset?(v.breaksOnReturn()&&p.nextCharacter===`
`?S+=1:w=w.removeTextAtRange(E),E=[S,S]):p.nextCharacter===`
`?p.previousCharacter===`
`?E=[S-1,S+1]:(E=[S,S+1],S+=1):p.startLocation.offset-1!==0&&(S+=1),x=new n.Document([v.removeLastAttribute().copyWithoutText()]),this.setDocument(w.insertDocumentAtRange(x,E)),this.setSelection(S)},g.prototype.getPreviousBlock=function(){var p,v;return(v=this.getLocationRange())&&(p=v[0].index,p>0)?this.document.getBlockAtIndex(p-1):void 0},g.prototype.getBlock=function(){var p;return(p=this.getLocationRange())?this.document.getBlockAtIndex(p[0].index):void 0},g.prototype.getAttachmentAtRange=function(p){var v;return v=this.document.getDocumentAtRange(p),v.toString()===n.OBJECT_REPLACEMENT_CHARACTER+`
`?v.getAttachments()[0]:void 0},g.prototype.notifyDelegateOfCurrentAttributesChange=function(){var p;return(p=this.delegate)!=null&&typeof p.compositionDidChangeCurrentAttributes=="function"?p.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},g.prototype.notifyDelegateOfInsertionAtRange=function(p){var v;return(v=this.delegate)!=null&&typeof v.compositionDidPerformInsertionAtRange=="function"?v.compositionDidPerformInsertionAtRange(p):void 0},g.prototype.translateUTF16PositionFromOffset=function(p,v){var w,x;return x=this.document.toUTF16String(),w=x.offsetFromUCS2Offset(p),x.offsetToUCS2Offset(w+v)},g}(n.BasicObject)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.UndoManager=function(o){function s(l){this.composition=l,this.undoEntries=[],this.redoEntries=[]}var a;return r(s,o),s.prototype.recordUndoEntry=function(l,u){var d,c,f,h,m;return h=u??{},c=h.context,d=h.consolidatable,f=this.undoEntries.slice(-1)[0],d&&a(f,l,c)?void 0:(m=this.createEntry({description:l,context:c}),this.undoEntries.push(m),this.redoEntries=[])},s.prototype.undo=function(){var l,u;return(u=this.undoEntries.pop())?(l=this.createEntry(u),this.redoEntries.push(l),this.composition.loadSnapshot(u.snapshot)):void 0},s.prototype.redo=function(){var l,u;return(l=this.redoEntries.pop())?(u=this.createEntry(l),this.undoEntries.push(u),this.composition.loadSnapshot(l.snapshot)):void 0},s.prototype.canUndo=function(){return this.undoEntries.length>0},s.prototype.canRedo=function(){return this.redoEntries.length>0},s.prototype.createEntry=function(l){var u,d,c;return c=l??{},d=c.description,u=c.context,{description:d!=null?d.toString():void 0,context:JSON.stringify(u),snapshot:this.composition.getSnapshot()}},a=function(l,u,d){return(l!=null?l.description:void 0)===(u!=null?u.toString():void 0)&&(l!=null?l.context:void 0)===JSON.stringify(d)},s}(n.BasicObject)}.call(this),function(){var r;n.attachmentGalleryFilter=function(i){var o;return o=new r(i),o.perform(),o.getSnapshot()},r=function(){function i(l){this.document=l.document,this.selectedRange=l.selectedRange}var o,s,a;return o="attachmentGallery",s="presentation",a="gallery",i.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},i.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},i.prototype.removeBlockAttribute=function(){var l,u,d,c,f;for(c=this.findRangesOfBlocks(),f=[],l=0,u=c.length;u>l;l++)d=c[l],f.push(this.document=this.document.removeAttributeAtRange(o,d));return f},i.prototype.applyBlockAttribute=function(){var l,u,d,c,f,h;for(d=0,f=this.findRangesOfPieces(),h=[],l=0,u=f.length;u>l;l++)c=f[l],c[1]-c[0]>1&&(c[0]+=d,c[1]+=d,this.document.getCharacterAtPosition(c[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(c[1]),c[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),c[1]++,d++),c[0]!==0&&this.document.getCharacterAtPosition(c[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(c[0]),c[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),c[0]++,d++),h.push(this.document=this.document.applyBlockAttributeAtRange(o,!0,c)));return h},i.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(o)},i.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(s,{withValue:a})},i.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},i}()}.call(this),function(){var r=function(i,o){return function(){return i.apply(o,arguments)}};n.Editor=function(){function i(s,a,l){this.composition=s,this.selectionManager=a,this.element=l,this.insertFiles=r(this.insertFiles,this),this.undoManager=new n.UndoManager(this.composition),this.filters=o.slice(0)}var o;return o=[n.attachmentGalleryFilter],i.prototype.loadDocument=function(s){return this.loadSnapshot({document:s,selectedRange:[0,0]})},i.prototype.loadHTML=function(s){return s==null&&(s=""),this.loadDocument(n.Document.fromHTML(s,{referenceElement:this.element}))},i.prototype.loadJSON=function(s){var a,l;return a=s.document,l=s.selectedRange,a=n.Document.fromJSON(a),this.loadSnapshot({document:a,selectedRange:l})},i.prototype.loadSnapshot=function(s){return this.undoManager=new n.UndoManager(this.composition),this.composition.loadSnapshot(s)},i.prototype.getDocument=function(){return this.composition.document},i.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},i.prototype.getSnapshot=function(){return this.composition.getSnapshot()},i.prototype.toJSON=function(){return this.getSnapshot()},i.prototype.deleteInDirection=function(s){return this.composition.deleteInDirection(s)},i.prototype.insertAttachment=function(s){return this.composition.insertAttachment(s)},i.prototype.insertAttachments=function(s){return this.composition.insertAttachments(s)},i.prototype.insertDocument=function(s){return this.composition.insertDocument(s)},i.prototype.insertFile=function(s){return this.composition.insertFile(s)},i.prototype.insertFiles=function(s){return this.composition.insertFiles(s)},i.prototype.insertHTML=function(s){return this.composition.insertHTML(s)},i.prototype.insertString=function(s){return this.composition.insertString(s)},i.prototype.insertText=function(s){return this.composition.insertText(s)},i.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},i.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},i.prototype.getPosition=function(){return this.composition.getPosition()},i.prototype.getClientRectAtPosition=function(s){var a;return a=this.getDocument().locationRangeFromRange([s,s+1]),this.selectionManager.getClientRectAtLocationRange(a)},i.prototype.expandSelectionInDirection=function(s){return this.composition.expandSelectionInDirection(s)},i.prototype.moveCursorInDirection=function(s){return this.composition.moveCursorInDirection(s)},i.prototype.setSelectedRange=function(s){return this.composition.setSelectedRange(s)},i.prototype.activateAttribute=function(s,a){return a==null&&(a=!0),this.composition.setCurrentAttribute(s,a)},i.prototype.attributeIsActive=function(s){return this.composition.hasCurrentAttribute(s)},i.prototype.canActivateAttribute=function(s){return this.composition.canSetCurrentAttribute(s)},i.prototype.deactivateAttribute=function(s){return this.composition.removeCurrentAttribute(s)},i.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},i.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},i.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},i.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},i.prototype.canRedo=function(){return this.undoManager.canRedo()},i.prototype.canUndo=function(){return this.undoManager.canUndo()},i.prototype.recordUndoEntry=function(s,a){var l,u,d;return d=a??{},u=d.context,l=d.consolidatable,this.undoManager.recordUndoEntry(s,{context:u,consolidatable:l})},i.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},i.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},i}()}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.ManagedAttachment=function(o){function s(a,l){var u;this.attachmentManager=a,this.attachment=l,u=this.attachment,this.id=u.id,this.file=u.file}return r(s,o),s.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},s.proxyMethod("attachment.getAttribute"),s.proxyMethod("attachment.hasAttribute"),s.proxyMethod("attachment.setAttribute"),s.proxyMethod("attachment.getAttributes"),s.proxyMethod("attachment.setAttributes"),s.proxyMethod("attachment.isPending"),s.proxyMethod("attachment.isPreviewable"),s.proxyMethod("attachment.getURL"),s.proxyMethod("attachment.getHref"),s.proxyMethod("attachment.getFilename"),s.proxyMethod("attachment.getFilesize"),s.proxyMethod("attachment.getFormattedFilesize"),s.proxyMethod("attachment.getExtension"),s.proxyMethod("attachment.getContentType"),s.proxyMethod("attachment.getFile"),s.proxyMethod("attachment.setFile"),s.proxyMethod("attachment.releaseFile"),s.proxyMethod("attachment.getUploadProgress"),s.proxyMethod("attachment.setUploadProgress"),s}(n.BasicObject)}.call(this),function(){var r=function(o,s){function a(){this.constructor=o}for(var l in s)i.call(s,l)&&(o[l]=s[l]);return a.prototype=s.prototype,o.prototype=new a,o.__super__=s.prototype,o},i={}.hasOwnProperty;n.AttachmentManager=function(o){function s(a){var l,u,d;for(a==null&&(a=[]),this.managedAttachments={},u=0,d=a.length;d>u;u++)l=a[u],this.manageAttachment(l)}return r(s,o),s.prototype.getAttachments=function(){var a,l,u,d;u=this.managedAttachments,d=[];for(l in u)a=u[l],d.push(a);return d},s.prototype.manageAttachment=function(a){var l,u;return(l=this.managedAttachments)[u=a.id]!=null?l[u]:l[u]=new n.ManagedAttachment(this,a)},s.prototype.attachmentIsManaged=function(a){return a.id in this.managedAttachments},s.prototype.requestRemovalOfAttachment=function(a){var l;return this.attachmentIsManaged(a)&&(l=this.delegate)!=null&&typeof l.attachmentManagerDidRequestRemovalOfAttachment=="function"?l.attachmentManagerDidRequestRemovalOfAttachment(a):void 0},s.prototype.unmanageAttachment=function(a){var l;return l=this.managedAttachments[a.id],delete this.managedAttachments[a.id],l},s}(n.BasicObject)}.call(this),function(){var r,i,o,s,a,l,u,d,c,f,h;r=n.elementContainsNode,i=n.findChildIndexOfNode,a=n.nodeIsBlockStart,l=n.nodeIsBlockStartComment,s=n.nodeIsBlockContainer,u=n.nodeIsCursorTarget,d=n.nodeIsEmptyTextNode,c=n.nodeIsTextNode,o=n.nodeIsAttachmentElement,f=n.tagName,h=n.walkTree,n.LocationMapper=function(){function m(v){this.element=v}var y,g,b,p;return m.prototype.findLocationFromContainerAndOffset=function(v,w,x){var S,E,k,A,C,_,O;for(_=(x??{strict:!0}).strict,E=0,k=!1,A={index:0,offset:0},(S=this.findAttachmentElementParentForNode(v))&&(v=S.parentNode,w=i(S)),O=h(this.element,{usingFilter:b});O.nextNode();){if(C=O.currentNode,C===v&&c(v)){u(C)||(A.offset+=w);break}if(C.parentNode===v){if(E++===w)break}else if(!r(v,C)&&E>0)break;a(C,{strict:_})?(k&&A.index++,A.offset=0,k=!0):A.offset+=g(C)}return A},m.prototype.findContainerAndOffsetFromLocation=function(v){var w,x,S,E,k;if(v.index===0&&v.offset===0){for(w=this.element,E=0;w.firstChild;)if(w=w.firstChild,s(w)){E=1;break}return[w,E]}if(k=this.findNodeAndOffsetFromLocation(v),x=k[0],S=k[1],x){if(c(x))g(x)===0?(w=x.parentNode.parentNode,E=i(x.parentNode),u(x,{name:"right"})&&E++):(w=x,E=v.offset-S);else{if(w=x.parentNode,!a(x.previousSibling)&&!s(w))for(;x===w.lastChild&&(x=w,w=w.parentNode,!s(w)););E=i(x),v.offset!==0&&E++}return[w,E]}},m.prototype.findNodeAndOffsetFromLocation=function(v){var w,x,S,E,k,A,C,_;for(C=0,_=this.getSignificantNodesForIndex(v.index),x=0,S=_.length;S>x;x++){if(w=_[x],E=g(w),v.offset<=C+E)if(c(w)){if(k=w,A=C,v.offset===A&&u(k))break}else k||(k=w,A=C);if(C+=E,C>v.offset)break}return[k,A]},m.prototype.findAttachmentElementParentForNode=function(v){for(;v&&v!==this.element;){if(o(v))return v;v=v.parentNode}},m.prototype.getSignificantNodesForIndex=function(v){var w,x,S,E,k;for(S=[],k=h(this.element,{usingFilter:y}),E=!1;k.nextNode();)if(x=k.currentNode,l(x)){if(typeof w<"u"&&w!==null?w++:w=0,w===v)E=!0;else if(E)break}else E&&S.push(x);return S},g=function(v){var w;return v.nodeType===Node.TEXT_NODE?u(v)?0:(w=v.textContent,w.length):f(v)==="br"||o(v)?1:0},y=function(v){return p(v)===NodeFilter.FILTER_ACCEPT?b(v):NodeFilter.FILTER_REJECT},p=function(v){return d(v)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},b=function(v){return o(v.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m}()}.call(this),function(){var r,i,o=[].slice;r=n.getDOMRange,i=n.setDOMRange,n.PointMapper=function(){function s(){}return s.prototype.createDOMRangeFromPoint=function(a){var l,u,d,c,f,h,m,y;if(m=a.x,y=a.y,document.caretPositionFromPoint)return f=document.caretPositionFromPoint(m,y),d=f.offsetNode,u=f.offset,l=document.createRange(),l.setStart(d,u),l;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(m,y);if(document.body.createTextRange){c=r();try{h=document.body.createTextRange(),h.moveToPoint(m,y),h.select()}catch{}return l=r(),i(c),l}},s.prototype.getClientRectsForDOMRange=function(a){var l,u,d;return u=o.call(a.getClientRects()),d=u[0],l=u[u.length-1],[d,l]},s}()}.call(this),function(){var r,i=function(l,u){return function(){return l.apply(u,arguments)}},o=function(l,u){function d(){this.constructor=l}for(var c in u)s.call(u,c)&&(l[c]=u[c]);return d.prototype=u.prototype,l.prototype=new d,l.__super__=u.prototype,l},s={}.hasOwnProperty,a=[].indexOf||function(l){for(var u=0,d=this.length;d>u;u++)if(u in this&&this[u]===l)return u;return-1};r=n.getDOMRange,n.SelectionChangeObserver=function(l){function u(){this.run=i(this.run,this),this.update=i(this.update,this),this.selectionManagers=[]}var d;return o(u,l),u.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},u.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},u.prototype.registerSelectionManager=function(c){return a.call(this.selectionManagers,c)<0?(this.selectionManagers.push(c),this.start()):void 0},u.prototype.unregisterSelectionManager=function(c){var f;return this.selectionManagers=function(){var h,m,y,g;for(y=this.selectionManagers,g=[],h=0,m=y.length;m>h;h++)f=y[h],f!==c&&g.push(f);return g}.call(this),this.selectionManagers.length===0?this.stop():void 0},u.prototype.notifySelectionManagersOfSelectionChange=function(){var c,f,h,m,y;for(h=this.selectionManagers,m=[],c=0,f=h.length;f>c;c++)y=h[c],m.push(y.selectionDidChange());return m},u.prototype.update=function(){var c;return c=r(),d(c,this.domRange)?void 0:(this.domRange=c,this.notifySelectionManagersOfSelectionChange())},u.prototype.reset=function(){return this.domRange=null,this.update()},u.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},d=function(c,f){return(c!=null?c.startContainer:void 0)===(f!=null?f.startContainer:void 0)&&(c!=null?c.startOffset:void 0)===(f!=null?f.startOffset:void 0)&&(c!=null?c.endContainer:void 0)===(f!=null?f.endContainer:void 0)&&(c!=null?c.endOffset:void 0)===(f!=null?f.endOffset:void 0)},u}(n.BasicObject),n.selectionChangeObserver==null&&(n.selectionChangeObserver=new n.SelectionChangeObserver)}.call(this),function(){var r,i,o,s,a,l,u,d,c,f,h=function(g,b){return function(){return g.apply(b,arguments)}},m=function(g,b){function p(){this.constructor=g}for(var v in b)y.call(b,v)&&(g[v]=b[v]);return p.prototype=b.prototype,g.prototype=new p,g.__super__=b.prototype,g},y={}.hasOwnProperty;o=n.getDOMSelection,i=n.getDOMRange,f=n.setDOMRange,r=n.elementContainsNode,l=n.nodeIsCursorTarget,a=n.innerElementIsActive,s=n.handleEvent,u=n.normalizeRange,d=n.rangeIsCollapsed,c=n.rangesAreEqual,n.SelectionManager=function(g){function b(p){this.element=p,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new n.LocationMapper(this.element),this.pointMapper=new n.PointMapper,this.lockCount=0,s("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return m(b,g),b.prototype.getLocationRange=function(p){var v;return p==null&&(p={}),p.strict===!1?this.createLocationRangeFromDOMRange(i(),{strict:!1}):p.ignoreLock?this.currentLocationRange:(v=this.lockedLocationRange)!=null?v:this.currentLocationRange},b.prototype.setLocationRange=function(p){var v;if(!this.lockedLocationRange)return p=u(p),(v=this.createDOMRangeFromLocationRange(p))?(f(v),this.updateCurrentLocationRange(p)):void 0},b.prototype.setLocationRangeFromPointRange=function(p){var v,w;return p=u(p),w=this.getLocationAtPoint(p[0]),v=this.getLocationAtPoint(p[1]),this.setLocationRange([w,v])},b.prototype.getClientRectAtLocationRange=function(p){var v;return(v=this.createDOMRangeFromLocationRange(p))?this.getClientRectsForDOMRange(v)[1]:void 0},b.prototype.locationIsCursorTarget=function(p){var v,w;return w=this.findNodeAndOffsetFromLocation(p),v=w[0],w[1],l(v)},b.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},b.prototype.unlock=function(){var p;return--this.lockCount===0&&(p=this.lockedLocationRange,this.lockedLocationRange=null,p!=null)?this.setLocationRange(p):void 0},b.prototype.clearSelection=function(){var p;return(p=o())!=null?p.removeAllRanges():void 0},b.prototype.selectionIsCollapsed=function(){var p;return((p=i())!=null?p.collapsed:void 0)===!0},b.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},b.prototype.createLocationRangeFromDOMRange=function(p,v){var w,x;if(p!=null&&this.domRangeWithinElement(p)&&(x=this.findLocationFromContainerAndOffset(p.startContainer,p.startOffset,v)))return p.collapsed||(w=this.findLocationFromContainerAndOffset(p.endContainer,p.endOffset,v)),u([x,w])},b.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),b.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),b.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),b.proxyMethod("pointMapper.createDOMRangeFromPoint"),b.proxyMethod("pointMapper.getClientRectsForDOMRange"),b.prototype.didMouseDown=function(){return this.pauseTemporarily()},b.prototype.pauseTemporarily=function(){var p,v,w,x;return this.paused=!0,v=function(S){return function(){var E,k,A;for(S.paused=!1,clearTimeout(x),k=0,A=w.length;A>k;k++)E=w[k],E.destroy();return r(document,S.element)?S.selectionDidChange():void 0}}(this),x=setTimeout(v,200),w=function(){var S,E,k,A;for(k=["mousemove","keydown"],A=[],S=0,E=k.length;E>S;S++)p=k[S],A.push(s(p,{onElement:document,withCallback:v}));return A}()},b.prototype.selectionDidChange=function(){return this.paused||a(this.element)?void 0:this.updateCurrentLocationRange()},b.prototype.updateCurrentLocationRange=function(p){var v;return(p??(p=this.createLocationRangeFromDOMRange(i())))&&!c(p,this.currentLocationRange)?(this.currentLocationRange=p,(v=this.delegate)!=null&&typeof v.locationRangeDidChange=="function"?v.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},b.prototype.createDOMRangeFromLocationRange=function(p){var v,w,x,S;return x=this.findContainerAndOffsetFromLocation(p[0]),w=d(p)?x:(S=this.findContainerAndOffsetFromLocation(p[1]))!=null?S:x,x!=null&&w!=null?(v=document.createRange(),v.setStart.apply(v,x),v.setEnd.apply(v,w),v):void 0},b.prototype.getLocationAtPoint=function(p){var v,w;return(v=this.createDOMRangeFromPoint(p))&&(w=this.createLocationRangeFromDOMRange(v))!=null?w[0]:void 0},b.prototype.domRangeWithinElement=function(p){return p.collapsed?r(this.element,p.startContainer):r(this.element,p.startContainer)&&r(this.element,p.endContainer)},b}(n.BasicObject)}.call(this),function(){var r,i,o,s,a=function(d,c){function f(){this.constructor=d}for(var h in c)l.call(c,h)&&(d[h]=c[h]);return f.prototype=c.prototype,d.prototype=new f,d.__super__=c.prototype,d},l={}.hasOwnProperty,u=[].slice;o=n.rangeIsCollapsed,s=n.rangesAreEqual,i=n.objectsAreEqual,r=n.getBlockConfig,n.EditorController=function(d){function c(h){var m,y;this.editorElement=h.editorElement,m=h.document,y=h.html,this.selectionManager=new n.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new n.Composition,this.composition.delegate=this,this.attachmentManager=new n.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new n["Level"+n.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new n.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new n.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new n.Editor(this.composition,this.selectionManager,this.editorElement),m!=null?this.editor.loadDocument(m):this.editor.loadHTML(y)}var f;return a(c,d),c.prototype.registerSelectionManager=function(){return n.selectionChangeObserver.registerSelectionManager(this.selectionManager)},c.prototype.unregisterSelectionManager=function(){return n.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},c.prototype.render=function(){return this.compositionController.render()},c.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},c.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},c.prototype.compositionDidChangeCurrentAttributes=function(h){return this.currentAttributes=h,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},c.prototype.compositionDidPerformInsertionAtRange=function(h){return this.pasting?this.pastedRange=h:void 0},c.prototype.compositionShouldAcceptFile=function(h){return this.notifyEditorElement("file-accept",{file:h})},c.prototype.compositionDidAddAttachment=function(h){var m;return m=this.attachmentManager.manageAttachment(h),this.notifyEditorElement("attachment-add",{attachment:m})},c.prototype.compositionDidEditAttachment=function(h){var m;return this.compositionController.rerenderViewForObject(h),m=this.attachmentManager.manageAttachment(h),this.notifyEditorElement("attachment-edit",{attachment:m}),this.notifyEditorElement("change")},c.prototype.compositionDidChangeAttachmentPreviewURL=function(h){return this.compositionController.invalidateViewForObject(h),this.notifyEditorElement("change")},c.prototype.compositionDidRemoveAttachment=function(h){var m;return m=this.attachmentManager.unmanageAttachment(h),this.notifyEditorElement("attachment-remove",{attachment:m})},c.prototype.compositionDidStartEditingAttachment=function(h,m){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(h),this.compositionController.installAttachmentEditorForAttachment(h,m),this.selectionManager.setLocationRange(this.attachmentLocationRange)},c.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},c.prototype.compositionDidRequestChangingSelectionToLocationRange=function(h){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=h,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},c.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},c.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},c.prototype.getSelectionManager=function(){return this.selectionManager},c.proxyMethod("getSelectionManager().setLocationRange"),c.proxyMethod("getSelectionManager().getLocationRange"),c.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(h){return this.removeAttachment(h)},c.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},c.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},c.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},c.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},c.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},c.prototype.compositionControllerDidSelectAttachment=function(h,m){return this.toolbarController.hideDialog(),this.composition.editAttachment(h,m)},c.prototype.compositionControllerDidRequestDeselectingAttachment=function(h){var m,y;return m=(y=this.attachmentLocationRange)!=null?y:this.composition.document.getLocationRangeOfAttachment(h),this.selectionManager.setLocationRange(m[1])},c.prototype.compositionControllerWillUpdateAttachment=function(h){return this.editor.recordUndoEntry("Edit Attachment",{context:h.id,consolidatable:!0})},c.prototype.compositionControllerDidRequestRemovalOfAttachment=function(h){return this.removeAttachment(h)},c.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},c.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},c.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},c.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},c.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},c.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},c.prototype.inputControllerWillPerformFormatting=function(h){return this.recordFormattingUndoEntry(h)},c.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},c.prototype.inputControllerWillPaste=function(h){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:h})},c.prototype.inputControllerDidPaste=function(h){return h.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:h})},c.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},c.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},c.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},c.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},c.prototype.inputControllerDidReceiveKeyboardCommand=function(h){return this.toolbarController.applyKeyboardCommand(h)},c.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},c.prototype.inputControllerDidReceiveDragOverPoint=function(h){return this.selectionManager.setLocationRangeFromPointRange(h)},c.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},c.prototype.locationRangeDidChange=function(h){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!s(this.attachmentLocationRange,h)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},c.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},c.prototype.toolbarDidInvokeAction=function(h){return this.invokeAction(h)},c.prototype.toolbarDidToggleAttribute=function(h){return this.recordFormattingUndoEntry(h),this.composition.toggleCurrentAttribute(h),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},c.prototype.toolbarDidUpdateAttribute=function(h,m){return this.recordFormattingUndoEntry(h),this.composition.setCurrentAttribute(h,m),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},c.prototype.toolbarDidRemoveAttribute=function(h){return this.recordFormattingUndoEntry(h),this.composition.removeCurrentAttribute(h),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},c.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},c.prototype.toolbarDidShowDialog=function(h){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:h})},c.prototype.toolbarDidHideDialog=function(h){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:h})},c.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},c.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},c.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return n.config.input.pickFiles(this.editor.insertFiles)}}},c.prototype.canInvokeAction=function(h){var m,y;return this.actionIsExternal(h)?!0:!!((m=this.actions[h])!=null&&(y=m.test)!=null&&y.call(this))},c.prototype.invokeAction=function(h){var m,y;return this.actionIsExternal(h)?this.notifyEditorElement("action-invoke",{actionName:h}):(m=this.actions[h])!=null&&(y=m.perform)!=null?y.call(this):void 0},c.prototype.actionIsExternal=function(h){return/^x-./.test(h)},c.prototype.getCurrentActions=function(){var h,m;m={};for(h in this.actions)m[h]=this.canInvokeAction(h);return m},c.prototype.updateCurrentActions=function(){var h;return h=this.getCurrentActions(),i(h,this.currentActions)?void 0:(this.currentActions=h,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},c.prototype.runEditorFilters=function(){var h,m,y,g,b,p,v,w;for(w=this.composition.getSnapshot(),b=this.editor.filters,y=0,g=b.length;g>y;y++)m=b[y],h=w.document,v=w.selectedRange,w=(p=m.call(this.editor,w))!=null?p:{},w.document==null&&(w.document=h),w.selectedRange==null&&(w.selectedRange=v);return f(w,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(w)},f=function(h,m){return s(h.selectedRange,m.selectedRange)&&h.document.isEqualTo(m.document)},c.prototype.updateInputElement=function(){var h,m;return h=this.compositionController.getSerializableElement(),m=n.serializeToContentType(h,"text/html"),this.editorElement.setInputElementValue(m)},c.prototype.notifyEditorElement=function(h,m){switch(h){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(h,m)},c.prototype.removeAttachment=function(h){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(h),this.render()},c.prototype.recordFormattingUndoEntry=function(h){var m,y;return m=r(h),y=this.selectionManager.getLocationRange(),m||!o(y)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},c.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},c.prototype.getUndoContext=function(){var h;return h=1<=arguments.length?u.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(u.call(h))},c.prototype.getLocationContext=function(){var h;return h=this.selectionManager.getLocationRange(),o(h)?h[0].index:h},c.prototype.getTimeContext=function(){return n.config.undoInterval>0?Math.floor(new Date().getTime()/n.config.undoInterval):0},c.prototype.isFocused=function(){var h;return this.editorElement===((h=this.editorElement.ownerDocument)!=null?h.activeElement:void 0)},c.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},c}(n.Controller)}.call(this),function(){var r,i,o,s,a,l,u,d=[].indexOf||function(c){for(var f=0,h=this.length;h>f;f++)if(f in this&&this[f]===c)return f;return-1};i=n.browser,l=n.makeElement,u=n.triggerEvent,s=n.handleEvent,a=n.handleEventOnce,o=n.findClosestElementFromNode,r=n.AttachmentView.attachmentSelector,n.registerElement("trix-editor",function(){var c,f,h,m,y,g,b,p,v;return b=0,f=function(w){return!document.querySelector(":focus")&&w.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===w?w.focus():void 0},p=function(w){return w.hasAttribute("contenteditable")?void 0:(w.setAttribute("contenteditable",""),a("focus",{onElement:w,withCallback:function(){return h(w)}}))},h=function(w){return y(w),v(w)},y=function(w){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),s("mscontrolselect",{onElement:w,preventDefault:!0})):void 0},v=function(){var w;return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("DefaultParagraphSeparator")&&(w=n.config.blockAttributes.default.tagName,w==="div"||w==="p")?document.execCommand("DefaultParagraphSeparator",!1,w):void 0},c=function(w){return w.hasAttribute("role")?void 0:w.setAttribute("role","textbox")},g=function(w){var x;if(!w.hasAttribute("aria-label")&&!w.hasAttribute("aria-labelledby"))return(x=function(){var S,E,k;return k=function(){var A,C,_,O;for(_=w.labels,O=[],A=0,C=_.length;C>A;A++)S=_[A],S.contains(w)||O.push(S.textContent);return O}(),(E=k.join(" "))?w.setAttribute("aria-label",E):w.removeAttribute("aria-label")})(),s("focus",{onElement:w,withCallback:x})},m=function(){return i.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+r+` figcaption textarea {
  resize: none;
}

%t `+r+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+r+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+m.display+` !important;
  width: `+m.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++b),this.trixId)}},labels:{get:function(){var w,x,S;return x=[],this.id&&this.ownerDocument&&x.push.apply(x,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(w=o(this,{matchingSelector:"label"}))&&((S=w.control)===this||S===null)&&x.push(w),x}},toolbarElement:{get:function(){var w,x,S;return this.hasAttribute("toolbar")?(x=this.ownerDocument)!=null?x.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(S="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",S),w=l("trix-toolbar",{id:S}),this.parentNode.insertBefore(w,this),w):void 0}},inputElement:{get:function(){var w,x,S;return this.hasAttribute("input")?(S=this.ownerDocument)!=null?S.getElementById(this.getAttribute("input")):void 0:this.parentNode?(x="trix-input-"+this.trixId,this.setAttribute("input",x),w=l("input",{type:"hidden",id:x}),this.parentNode.insertBefore(w,this.nextElementSibling),w):void 0}},editor:{get:function(){var w;return(w=this.editorController)!=null?w.editor:void 0}},name:{get:function(){var w;return(w=this.inputElement)!=null?w.name:void 0}},value:{get:function(){var w;return(w=this.inputElement)!=null?w.value:void 0},set:function(w){var x;return this.defaultValue=w,(x=this.editor)!=null?x.loadHTML(this.defaultValue):void 0}},notify:function(w,x){return this.editorController?u("trix-"+w,{onElement:this,attributes:x}):void 0},setInputElementValue:function(w){var x;return(x=this.inputElement)!=null?x.value=w:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(p(this),c(this),g(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(u("trix-before-initialize",{onElement:this}),this.editorController=new n.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(w){return function(){return u("trix-initialize",{onElement:w})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),f(this))},disconnect:function(){var w;return(w=this.editorController)!=null&&w.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(w){var x;if(!w.defaultPrevented&&w.target===((x=this.inputElement)!=null?x.form:void 0))return this.reset()},clickBubbled:function(w){var x;if(!(w.defaultPrevented||this.contains(w.target)||!(x=o(w.target,{matchingSelector:"label"}))||d.call(this.labels,x)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),t.exports&&(t.exports=n)}.call(it)})(t$);const n$="_root_162cs_1",r$="_navbar_162cs_7",i$="_cat_162cs_17",o$="_title_162cs_20",s$="_info_162cs_35",a$="_content_162cs_40",ws={root:n$,navbar:r$,cat:i$,title:o$,info:s$,content:a$};var l$=U.createContext({});const QC=l$;function tr(t,e){u$(t)&&(t="100%");var n=c$(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function u$(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function c$(t){return typeof t=="string"&&t.indexOf("%")!==-1}function f$(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ec(t){return t<=1?"".concat(Number(t)*100,"%"):t}function jp(t){return t.length===1?"0"+t:String(t)}function d$(t,e,n){return{r:tr(t,255)*255,g:tr(e,255)*255,b:tr(n,255)*255}}function $p(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h$(t,e,n){var r,i,o;if(t=tr(t,360),e=tr(e,100),n=tr(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=$p(a,s,t+1/3),i=$p(a,s,t),o=$p(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function p$(t,e,n){t=tr(t,255),e=tr(e,255),n=tr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function m$(t,e,n){t=tr(t,360)*6,e=tr(e,100),n=tr(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],d=[a,n,n,s,o,o][l],c=[o,o,a,n,n,s][l];return{r:u*255,g:d*255,b:c*255}}function g$(t,e,n,r){var i=[jp(Math.round(t).toString(16)),jp(Math.round(e).toString(16)),jp(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function fx(t){return Pn(t)/255}function Pn(t){return parseInt(t,16)}var dx={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ya(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=b$(t)),typeof t=="object"&&(Yr(t.r)&&Yr(t.g)&&Yr(t.b)?(e=d$(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Yr(t.h)&&Yr(t.s)&&Yr(t.v)?(r=Ec(t.s),i=Ec(t.v),e=m$(t.h,r,i),s=!0,a="hsv"):Yr(t.h)&&Yr(t.s)&&Yr(t.l)&&(r=Ec(t.s),o=Ec(t.l),e=h$(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=f$(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var y$="[-\\+]?\\d+%?",v$="[-\\+]?\\d*\\.\\d+%?",qi="(?:".concat(v$,")|(?:").concat(y$,")"),zp="[\\s|\\(]+(".concat(qi,")[,|\\s]+(").concat(qi,")[,|\\s]+(").concat(qi,")\\s*\\)?"),qp="[\\s|\\(]+(".concat(qi,")[,|\\s]+(").concat(qi,")[,|\\s]+(").concat(qi,")[,|\\s]+(").concat(qi,")\\s*\\)?"),lr={CSS_UNIT:new RegExp(qi),rgb:new RegExp("rgb"+zp),rgba:new RegExp("rgba"+qp),hsl:new RegExp("hsl"+zp),hsla:new RegExp("hsla"+qp),hsv:new RegExp("hsv"+zp),hsva:new RegExp("hsva"+qp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function b$(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(dx[t])t=dx[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=lr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=lr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=lr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=lr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lr.hex8.exec(t),n?{r:Pn(n[1]),g:Pn(n[2]),b:Pn(n[3]),a:fx(n[4]),format:e?"name":"hex8"}:(n=lr.hex6.exec(t),n?{r:Pn(n[1]),g:Pn(n[2]),b:Pn(n[3]),format:e?"name":"hex"}:(n=lr.hex4.exec(t),n?{r:Pn(n[1]+n[1]),g:Pn(n[2]+n[2]),b:Pn(n[3]+n[3]),a:fx(n[4]+n[4]),format:e?"name":"hex8"}:(n=lr.hex3.exec(t),n?{r:Pn(n[1]+n[1]),g:Pn(n[2]+n[2]),b:Pn(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Yr(t){return Boolean(lr.CSS_UNIT.exec(String(t)))}var Ac=2,hx=.16,w$=.05,x$=.05,S$=.15,YC=5,XC=4,k$=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function px(t){var e=t.r,n=t.g,r=t.b,i=p$(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Cc(t){var e=t.r,n=t.g,r=t.b;return"#".concat(g$(e,n,r,!1))}function E$(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function mx(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Ac*e:Math.round(t.h)+Ac*e:r=n?Math.round(t.h)+Ac*e:Math.round(t.h)-Ac*e,r<0?r+=360:r>=360&&(r-=360),r}function gx(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-hx*e:e===XC?r=t.s+hx:r=t.s+w$*e,r>1&&(r=1),n&&e===YC&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function yx(t,e,n){var r;return n?r=t.v+x$*e:r=t.v-S$*e,r>1&&(r=1),Number(r.toFixed(2))}function dy(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Ya(t),i=YC;i>0;i-=1){var o=px(r),s=Cc(Ya({h:mx(o,i,!0),s:gx(o,i,!0),v:yx(o,i,!0)}));n.push(s)}n.push(Cc(r));for(var a=1;a<=XC;a+=1){var l=px(r),u=Cc(Ya({h:mx(l,a),s:gx(l,a),v:yx(l,a)}));n.push(u)}return e.theme==="dark"?k$.map(function(d){var c=d.index,f=d.opacity,h=Cc(E$(Ya(e.backgroundColor||"#141414"),Ya(n[c]),f*100));return h}):n}var Hp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Vp={},Up={};Object.keys(Hp).forEach(function(t){Vp[t]=dy(Hp[t]),Vp[t].primary=Vp[t][5],Up[t]=dy(Hp[t],{theme:"dark",backgroundColor:"#141414"}),Up[t].primary=Up[t][5]});function A$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function C$(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var vx="data-rc-order",O$="rc-util-key",hy=new Map;function ZC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):O$}function w0(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function _$(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function e2(t){return Array.from((hy.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function t2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!A$())return null;var n=e.csp,r=e.prepend,i=document.createElement("style");i.setAttribute(vx,_$(r)),n!=null&&n.nonce&&(i.nonce=n==null?void 0:n.nonce),i.innerHTML=t;var o=w0(e),s=o.firstChild;if(r){if(r==="queue"){var a=e2(o).filter(function(l){return["prepend","prependQueue"].includes(l.getAttribute(vx))});if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function T$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=w0(e);return e2(n).find(function(r){return r.getAttribute(ZC(e))===t})}function N$(t,e){var n=hy.get(t);if(!n||!C$(document,n)){var r=t2("",e),i=r.parentNode;hy.set(t,i),t.removeChild(r)}}function M$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w0(n);N$(r,n);var i=T$(e,n);if(i){var o,s;if((o=n.csp)!==null&&o!==void 0&&o.nonce&&i.nonce!==((s=n.csp)===null||s===void 0?void 0:s.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var l=t2(t,n);return l.setAttribute(ZC(n),e),l}function P$(t,e){BF(t,"[@ant-design/icons] ".concat(e))}function bx(t){return Yo(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Yo(t.icon)==="object"||typeof t.icon=="function")}function wx(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:e[n]=r}return e},{})}function py(t,e,n){return n?fe.createElement(t.tag,Vt(Vt({key:e},wx(t.attrs)),n),(t.children||[]).map(function(r,i){return py(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):fe.createElement(t.tag,Vt({key:e},wx(t.attrs)),(t.children||[]).map(function(r,i){return py(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function n2(t){return dy(t)[0]}function r2(t){return t?Array.isArray(t)?t:[t]:[]}var R$=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,L$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R$,n=U.useContext(QC),r=n.csp,i=n.prefixCls,o=e;i&&(o=o.replace(/anticon/g,i)),U.useEffect(function(){M$(o,"@ant-design-icons",{prepend:!0,csp:r})},[])},D$=["icon","className","onClick","style","primaryColor","secondaryColor"],Ol={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function I$(t){var e=t.primaryColor,n=t.secondaryColor;Ol.primaryColor=e,Ol.secondaryColor=n||n2(e),Ol.calculated=!!n}function B$(){return Vt({},Ol)}var hh=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=dC(e,D$),u=Ol;if(s&&(u={primaryColor:s,secondaryColor:a||n2(s)}),L$(),P$(bx(n),"icon should be icon definiton, but got ".concat(n)),!bx(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=Vt(Vt({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),py(d.icon,"svg-".concat(d.name),Vt({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};hh.displayName="IconReact";hh.getTwoToneColors=B$;hh.setTwoToneColors=I$;const x0=hh;function i2(t){var e=r2(t),n=hC(e,2),r=n[0],i=n[1];return x0.setTwoToneColors({primaryColor:r,secondaryColor:i})}function F$(){var t=x0.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var j$=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];i2("#1890ff");var ph=U.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,s=t.rotate,a=t.tabIndex,l=t.onClick,u=t.twoToneColor,d=dC(t,j$),c=U.useContext(QC),f=c.prefixCls,h=f===void 0?"anticon":f,m=c.rootClassName,y=un(m,h,(n={},$g(n,"".concat(h,"-").concat(i.name),!!i.name),$g(n,"".concat(h,"-spin"),!!o||i.name==="loading"),n),r),g=a;g===void 0&&l&&(g=-1);var b=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,p=r2(u),v=hC(p,2),w=v[0],x=v[1];return U.createElement("span",Vt(Vt({role:"img","aria-label":i.name},d),{},{ref:e,tabIndex:g,onClick:l,className:y}),U.createElement(x0,{icon:i,primaryColor:w,secondaryColor:x,style:b}))});ph.displayName="AntdIcon";ph.getTwoToneColor=F$;ph.setTwoToneColor=i2;const mh=ph;var $$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const z$=$$;var o2=function(e,n){return U.createElement(mh,Vt(Vt({},e),{},{ref:n,icon:z$}))};o2.displayName="CheckOutlined";const q$=U.forwardRef(o2);var H$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const V$=H$;var s2=function(e,n){return U.createElement(mh,Vt(Vt({},e),{},{ref:n,icon:V$}))};s2.displayName="LeftOutlined";const U$=U.forwardRef(s2);var W$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};const K$=W$;var a2=function(e,n){return U.createElement(mh,Vt(Vt({},e),{},{ref:n,icon:K$}))};a2.displayName="RedoOutlined";const G$=U.forwardRef(a2);var J$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};const Q$=J$;var l2=function(e,n){return U.createElement(mh,Vt(Vt({},e),{},{ref:n,icon:Q$}))};l2.displayName="UndoOutlined";const Y$=U.forwardRef(l2);function jt(t){this.content=t}jt.prototype={constructor:jt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new jt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new jt(n)},addToStart:function(t,e){return new jt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new jt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new jt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=jt.from(t),t.size?new jt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=jt.from(t),t.size?new jt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=jt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};jt.from=function(t){if(t instanceof jt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new jt(e)};function u2(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=u2(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function c2(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,d=Math.min(s.text.length,a.text.length);for(;u<d&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=c2(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class se{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,i+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new se(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new se(r,i)}cutByIndex(e,n){return e==n?se.empty:e==0&&n==this.content.length?this:new se(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new se(i,o)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return u2(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return c2(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Oc(0,e);if(e==this.size)return Oc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Oc(r+1,s):Oc(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new se(n||e,r)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const Wp={index:0,offset:0};function Oc(t,e){return Wp.index=t,Wp.offset=e,Wp}function td(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!td(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!td(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ge=class{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&td(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ge.none;if(e instanceof Ge)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ge.none=[];class nd extends Error{}class me{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=d2(this.content,e+this.openStart,n);return r&&new me(r,this.openStart,this.openEnd)}removeBetween(e,n){return new me(f2(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return me.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(se.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new me(e,r,i)}}me.empty=new me(se.empty,0,0);function f2(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(f2(o.content,e-i-1,n-i-1)))}function d2(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=d2(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function X$(t,e,n){if(n.openStart>t.depth)throw new nd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new nd("Inconsistent open depths");return h2(t,e,n,0)}function h2(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=h2(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return $o(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=Z$(n,t);return $o(o,m2(t,s,a,e,r))}else return $o(o,rd(t,e,r))}function p2(t,e){if(!e.type.compatibleContent(t.type))throw new nd("Cannot join "+e.type.name+" onto "+t.type.name)}function my(t,e,n){let r=t.node(n);return p2(r,e.node(n)),r}function jo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _l(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(jo(t.nodeAfter,r),o++));for(let a=o;a<s;a++)jo(i.child(a),r);e&&e.depth==n&&e.textOffset&&jo(e.nodeBefore,r)}function $o(t,e){return t.type.checkContent(e),t.copy(e)}function m2(t,e,n,r,i){let o=t.depth>i&&my(t,e,i+1),s=r.depth>i&&my(n,r,i+1),a=[];return _l(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(p2(o,s),jo($o(o,m2(t,e,n,r,i+1)),a)):(o&&jo($o(o,rd(t,e,i+1)),a),_l(e,n,i,a),s&&jo($o(s,rd(n,r,i+1)),a)),_l(r,null,i,a),new se(a)}function rd(t,e,n){let r=[];if(_l(null,t,n,r),t.depth>n){let i=my(t,e,n+1);jo($o(i,rd(t,e,n+1)),r)}return _l(e,null,n,r),new se(r)}function Z$(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(se.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class hu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ge.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new id(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new hu(n,r,o)}static resolveCached(e,n){for(let i=0;i<Kp.length;i++){let o=Kp[i];if(o.pos==n&&o.doc==e)return o}let r=Kp[Gp]=hu.resolve(e,n);return Gp=(Gp+1)%ez,r}}let Kp=[],Gp=0,ez=12;class id{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tz=Object.create(null);let ui=class{constructor(e,n,r,i=Ge.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||se.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&td(this.attrs,n||e.defaultAttrs||tz)&&Ge.sameSet(this.marks,r||Ge.none)}copy(e=null){return e==this.content?this:new ui(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ui(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return me.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new me(u,i.depth-s,o.depth-s)}replace(e,n,r){return X$(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return hu.resolveCached(this,e)}resolveNoCache(e){return hu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),g2(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=se.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ge.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Ge.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=se.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};ui.prototype.text=void 0;class od extends ui{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):g2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new od(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new od(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function g2(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class es{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new nz(e,n);if(r.next==null)return es.empty;let i=y2(r);r.next&&r.err("Unexpected trailing text");let o=uz(lz(i));return cz(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return se.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:d,next:c}=s.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(c)==-1){i.push(c);let f=o(c,a.concat(d));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}es.empty=new es(!0);class nz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function y2(t){let e=[];do e.push(rz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function rz(t){let e=[];do e.push(iz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function iz(t){let e=az(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=oz(t,e);else break;return e}function xx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function oz(t,e){let n=xx(t),r=n;return t.eat(",")&&(t.next!="}"?r=xx(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function sz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function az(t){if(t.eat("(")){let e=y2(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=sz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function lz(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let d=n();i(o(s.expr,l),d),l=d}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let d=n();r(l,d),i(o(s.expr,l),d),l=d}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function v2(t,e){return e-t}function Sx(t,e){let n=[];return r(e),n.sort(v2);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function uz(t){let e=Object.create(null);return n(Sx(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let d=0;d<i.length;d++)i[d][0]==a&&(u=i[d][1]);Sx(t,l).forEach(d=>{u||i.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let o=e[r.join(",")]=new es(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(v2);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function cz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function b2(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function w2(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function x2(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new fz(t[n]);return e}let gy=class{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=x2(r.attrs),this.defaultAttrs=b2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==es.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:w2(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ui(this,this.computeAttrs(e),se.from(n),Ge.setFrom(r))}createChecked(e=null,n,r){return n=se.from(n),this.checkContent(n),new ui(this,this.computeAttrs(e),n,Ge.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=se.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(se.empty,!0);return o?new ui(this,e,n.append(o),Ge.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ge.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new gy(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class fz{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class gh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=x2(i.attrs),this.excluded=null;let o=b2(this.attrs);this.instance=o?new Ge(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ge(this,w2(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new gh(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class dz{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=jt.from(e.nodes),n.marks=jt.from(e.marks||{}),this.nodes=gy.compile(this.spec.nodes,this),this.marks=gh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=es.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?kx(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:kx(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof gy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new od(r,r.defaultAttrs,e,Ge.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ui.fromJSON(this,e)}markFromJSON(e){return Ge.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function kx(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let pu=class{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Ax(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Ax(this,n,!0);return r.addAll(e,n.from,n.to),me.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(mz(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Cx(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Cx(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new pu(e,pu.schemaRules(e)))}};const S2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},k2={ol:!0,ul:!0},sd=1,ad=2,Tl=4;function Ex(t,e,n){return e!=null?(e?sd:0)|(e==="full"?ad:0):t&&t.whitespace=="pre"?sd|ad:n&~Tl}class _c{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=Ge.none,this.stashMarks=[],this.match=s||(a&Tl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(se.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&sd)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=se.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):yz(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!S2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Ax{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Ex(null,n.preserveWhitespace,0)|(r?Tl:0);i?o=new _c(i.type,i.attrs,Ge.none,Ge.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new _c(null,null,Ge.none,Ge.none,!0,null,s):o=new _c(e.schema.topNodeType,null,Ge.none,Ge.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(gz(n));if(!r)return;let[i,o]=r,s=this.top;for(let a=0;a<o.length;a++)this.removePendingMark(o[a],s);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);this.addElement(e);for(let a=0;a<i.length;a++)this.removePendingMark(i[a],s);for(let a=0;a<o.length;a++)this.addPendingMark(o[a])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&ad||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&sd)r.options&ad?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;k2.hasOwnProperty(r)&&this.parser.normalizeLists&&pz(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:hz.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(S2.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Ge.none,r=Ge.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=Ex(e,i,o.options);o.options&Tl&&o.content.length==0&&(s|=Tl),this.nodes.push(new _c(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!d||d.name!=u&&d.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=vz(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function pz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&k2.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function mz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gz(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Cx(t){let e={};for(let n in t)e[n]=t[n];return e}function yz(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:d}=a.edge(l);if(u==e||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}function vz(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Fr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Jp(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],d=this.serializeMark(u,s.isInline,n);d&&(o.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Fr.renderSpec(Jp(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Fr.renderSpec(Jp(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let c=d.indexOf(" ");c>0?a.setAttributeNS(d.slice(0,c),d.slice(c+1),l[d]):a.setAttribute(d,l[d])}}for(let d=u;d<n.length;d++){let c=n[d];if(c===0){if(d<n.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:h}=Fr.renderSpec(e,c,r);if(a.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Ox(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Ox(e.marks)}}function Ox(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Jp(t){return t.document||window.document}const E2=65535,A2=Math.pow(2,16);function bz(t,e){return t+e*A2}function _x(t){return t&E2}function wz(t){return(t-(t&E2))/A2}const C2=1,O2=2,tf=4,_2=8;class yy{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&_2)>0}get deletedBefore(){return(this.delInfo&(C2|tf))>0}get deletedAfter(){return(this.delInfo&(O2|tf))>0}get deletedAcross(){return(this.delInfo&tf)>0}}class Yn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Yn.empty)return Yn.empty}recover(e){let n=0,r=_x(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+wz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],d=this.ranges[a+s],c=l+u;if(e<=c){let f=u?e==l?-1:e==c?1:n:n,h=l+i+(f<0?0:d);if(r)return h;let m=e==(n<0?l:c)?null:bz(a/3,e-l),y=e==l?O2:e==c?C2:tf;return(n<0?e!=l:e!=c)&&(y|=_2),new yy(h,y,m)}i+=d-u}return r?e+i:new yy(e+i,0,null)}touches(e,n){let r=0,i=_x(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],d=l+u;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],d=this.ranges[i+r];e(a,a+u,l,l+d),o+=d-u}}invert(){return new Yn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Yn.empty:new Yn(e<0?[0,-e,0]:[0,0,e])}}Yn.empty=new Yn([]);class Qs{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Qs(this.maps,this.mirror,e,n)}copy(){return new Qs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Qs;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new yy(e,i,null)}}const Qp=Object.create(null);class Cn{getMap(){return Yn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Qp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Qp)throw new RangeError("Duplicate use of step JSON ID "+e);return Qp[e]=n,n.prototype.jsonID=e,n}}class Tt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Tt(e,null)}static fail(e){return new Tt(null,e)}static fromReplace(e,n,r,i){try{return Tt.ok(e.replace(n,r,i))}catch(o){if(o instanceof nd)return Tt.fail(o.message);throw o}}}function S0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(S0(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return se.fromArray(r)}class Hi extends Cn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new me(S0(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Tt.fromReplace(e,this.from,this.to,o)}invert(){return new jr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Hi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hi(n.from,n.to,e.markFromJSON(n.mark))}}Cn.jsonID("addMark",Hi);class jr extends Cn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new me(S0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Tt.fromReplace(e,this.from,this.to,r)}invert(){return new Hi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new jr(n.from,n.to,e.markFromJSON(n.mark))}}Cn.jsonID("removeMark",jr);class Vi extends Cn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Tt.fromReplace(e,this.pos,this.pos+1,new me(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Vi(this.pos,n.marks[i]);return new Vi(this.pos,this.mark)}}return new fa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vi(n.pos,e.markFromJSON(n.mark))}}Cn.jsonID("addNodeMark",Vi);class fa extends Cn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Tt.fromReplace(e,this.pos,this.pos+1,new me(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Vi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fa(n.pos,e.markFromJSON(n.mark))}}Cn.jsonID("removeNodeMark",fa);class Xt extends Cn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&vy(e,this.from,this.to)?Tt.fail("Structure replace would overwrite content"):Tt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Yn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Xt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Xt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Xt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Xt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Xt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xt(n.from,n.to,me.fromJSON(e,n.slice),!!n.structure)}}Cn.jsonID("replace",Xt);class It extends Cn{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(vy(e,this.from,this.gapFrom)||vy(e,this.gapTo,this.to)))return Tt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Tt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Tt.fromReplace(e,this.from,this.to,r):Tt.fail("Content does not fit in gap")}getMap(){return new Yn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new It(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new It(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new It(n.from,n.to,n.gapFrom,n.gapTo,me.fromJSON(e,n.slice),n.insert,!!n.structure)}}Cn.jsonID("replaceAround",It);function vy(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function xz(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,u,d)=>{if(!l.isInline)return;let c=l.marks;if(!r.isInSet(c)&&d.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+l.nodeSize,n),m=r.addToSet(c);for(let y=0;y<c.length;y++)c[y].isInSet(m)||(s&&s.to==f&&s.mark.eq(c[y])?s.to=h:i.push(s=new jr(f,h,c[y])));a&&a.to==f?a.to=h:o.push(a=new Hi(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function Sz(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof gh){let u=s.marks,d;for(;d=r.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let d=0;d<l.length;d++){let c=l[d],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==o-1&&c.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=o):i.push({style:c,from:Math.max(a,e),to:u,step:o})}}}),i.forEach(s=>t.step(new jr(s.from,s.to,s.style)))}function kz(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=s+l.nodeSize,d=r.matchType(l.type);if(!d)o.push(new Xt(s,u,me.empty));else{r=d;for(let c=0;c<l.marks.length;c++)n.allowsMarkType(l.marks[c].type)||t.step(new jr(s,u,l.marks[c]))}s=u}if(!r.validEnd){let a=r.fillBefore(se.empty,!0);t.replace(s,s,new me(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function Ez(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ra(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Ez(i,o,s))break}return null}function Az(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,u=a,d=se.empty,c=0;for(let m=o,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,d=se.from(r.node(m).copy(d)),c++):l--;let f=se.empty,h=0;for(let m=o,y=!1;m>n;m--)y||i.after(m+1)<i.end(m)?(y=!0,f=se.from(i.node(m).copy(f)),h++):u++;t.step(new It(l,u,s,a,new me(d.append(f),c,h),d.size-c,!0))}function k0(t,e,n=null,r=t){let i=Cz(t,e),o=i&&Oz(r,e);return o?i.map(Tx).concat({type:e,attrs:n}).concat(o.map(Tx)):null}function Tx(t){return{type:t,attrs:null}}function Cz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function Oz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function _z(t,e,n){let r=se.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new It(i,o,i,o,new me(r,0,0),n.length,!0))}function Tz(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&Nz(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),u=l.map(a,1),d=l.map(a+s.nodeSize,1);return t.step(new It(u,d,u+1,d-1,new me(se.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function Nz(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Mz(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new It(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new me(se.from(s),0,0),1,!0))}function Ys(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>o;u--,d--){let c=i.node(u),f=i.index(u);if(c.type.spec.isolating)return!1;let h=c.content.cutByIndex(f,c.childCount),m=r&&r[d]||c;if(m!=c&&(h=h.replaceChild(0,m.type.create(m.attrs))),!c.canReplace(f+1,c.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Pz(t,e,n=1,r){let i=t.doc.resolve(e),o=se.empty,s=se.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){o=se.from(i.node(a).copy(o));let d=r&&r[u];s=se.from(d?d.type.create(d.attrs,s):i.node(a).copy(s))}t.step(new Xt(e,e,new me(o.append(s),n,n),!0))}function yo(t,e){let n=t.resolve(e),r=n.index();return T2(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function T2(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function N2(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&T2(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Rz(t,e,n){let r=new Xt(e-n,e+n,me.empty,!0);t.step(r)}function Lz(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function M2(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),d=!1;if(o==1)d=u.canReplace(l,l,i);else{let c=u.contentMatchAt(l).findWrapping(i.firstChild.type);d=c&&u.canReplaceWith(l,l,c[0])}if(d)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function E0(t,e,n=e,r=me.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return P2(i,o,r)?new Xt(e,n,r):new Dz(i,o,r).fit()}function P2(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Dz{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=se.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new me(o,s,a);return e>-1?new It(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Xt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Yp(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],d,c=null;if(n==1&&(s?u.matchType(s.type)||(c=u.fillBefore(se.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:c};if(n==2&&s&&(d=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:d};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Yp(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new me(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Yp(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new me(ll(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new me(ll(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,d=[],{match:c,type:f}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)d.push(i.child(y));c=c.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let y=a.child(u),g=c.matchType(y.type);if(!g)break;u++,(u>1||l==0||y.content.size)&&(c=g,d.push(R2(y.mark(f.allowedMarks(y.marks)),u==1?l:0,u==a.childCount?h:-1)))}let m=u==a.childCount;m||(h=-1),this.placed=ul(this.placed,n,se.from(d)),this.frontier[n].match=c,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,g=a;y<h;y++){let b=g.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),g=b.content}this.unplaced=m?e==0?me.empty:new me(ll(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new me(ll(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Xp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Xp(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],d=Xp(e,a,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ul(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ul(this.placed,this.depth,se.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(se.empty,!0);n.childCount&&(this.placed=ul(this.placed,this.frontier.length,n))}}function ll(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ll(t.firstChild.content,e-1,n)))}function ul(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ul(t.lastChild.content,e-1,n)))}function Yp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function R2(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,R2(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),t.copy(r)}function Xp(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!Iz(n,o.content,s)?a:null}function Iz(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Bz(t){return t.spec.defining||t.spec.definingForContent}function Fz(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(P2(i,o,r))return t.step(new Xt(e,n,r));let s=D2(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),u=[],d=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(u.push(m),h==r.openStart)break;f=m.content}for(let f=d-1;f>=0;f--){let h=u[f].type,m=Bz(h);if(m&&i.node(l).type!=h)d=f;else if(m||!h.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+d+1)%(r.openStart+1),m=u[h];if(m)for(let y=0;y<s.length;y++){let g=s[(y+l)%s.length],b=!0;g<0&&(b=!1,g=-g);let p=i.node(g-1),v=i.index(g-1);if(p.canReplaceWith(v,v,m.type,m.marks))return t.replace(i.before(g),b?o.after(g):n,new me(L2(r.content,0,r.openStart,h),h,r.openEnd))}}let c=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>c));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function L2(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(L2(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(se.empty,!0))}return t}function jz(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Lz(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new me(se.from(r),0,0))}function $z(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=D2(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function D2(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Xs extends Cn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Tt.fromReplace(e,this.pos,this.pos+1,new me(se.from(i),0,n.isLeaf?0:1))}getMap(){return Yn.empty}invert(e){return new Xs(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xs(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xs(n.pos,n.attr,n.value)}}Cn.jsonID("attr",Xs);let da=class extends Error{};da=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};da.prototype=Object.create(Error.prototype);da.prototype.constructor=da;da.prototype.name="TransformError";class zz{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Qs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new da(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=me.empty){let i=E0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new me(se.from(r),0,0))}delete(e,n){return this.replace(e,n,me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Fz(this,e,n,r),this}replaceRangeWith(e,n,r){return jz(this,e,n,r),this}deleteRange(e,n){return $z(this,e,n),this}lift(e,n){return Az(this,e,n),this}join(e,n=1){return Rz(this,e,n),this}wrap(e,n){return _z(this,e,n),this}setBlockType(e,n=e,r,i=null){return Tz(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Mz(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Xs(e,n,r)),this}addNodeMark(e,n){return this.step(new Vi(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ge)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new fa(e,n)),this}split(e,n=1,r){return Pz(this,e,n,r),this}addMark(e,n,r){return xz(this,e,n,r),this}removeMark(e,n,r){return Sz(this,e,n,r),this}clearIncompatible(e,n,r){return kz(this,e,n,r),this}}const Zp=Object.create(null);class De{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new qz(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=me.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],d=e.mapping.slice(o);e.replaceRange(d.map(l.pos),d.map(u.pos),a?me.empty:n),a==0&&Px(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),d=l.map(a.pos);o?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),Px(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Be(e):ks(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?ks(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ks(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new wr(e.node(0))}static atStart(e){return ks(e,e,0,0,1)||new wr(e)}static atEnd(e){return ks(e,e,e.content.size,e.childCount,-1)||new wr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Zp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Zp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Zp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}}De.prototype.visible=!0;class qz{constructor(e,n){this.$from=e,this.$to=n}}let Nx=!1;function Mx(t){!Nx&&!t.parent.inlineContent&&(Nx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Be extends De{constructor(e,n=e){Mx(e),Mx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return De.near(r);let i=e.resolve(n.map(this.anchor));return new Be(i.parent.inlineContent?i:r,r)}replace(e,n=me.empty){if(super.replace(e,n),n==me.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Be(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=De.findFrom(n,r,!0)||De.findFrom(n,-r,!0);if(o)n=o.$head;else return De.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(De.findFrom(e,-r,!0)||De.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Be(e,n)}}De.jsonID("text",Be);class yh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yh(e.map(this.anchor),e.map(this.head))}resolve(e){return Be.between(e.resolve(this.anchor),e.resolve(this.head))}}class ke extends De{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?De.near(o):new ke(o)}content(){return new me(se.from(this.node),0,0)}eq(e){return e instanceof ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new A0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ke(e.resolve(n.anchor))}static create(e,n){return new ke(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ke.prototype.visible=!1;De.jsonID("node",ke);class A0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yh(r,r):new A0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ke.isSelectable(r)?new ke(n):De.near(n)}}class wr extends De{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=me.empty){if(n==me.empty){e.delete(0,e.doc.content.size);let r=De.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new wr(e)}map(e){return new wr(e)}eq(e){return e instanceof wr}getBookmark(){return Hz}}De.jsonID("all",wr);const Hz={map(){return this},resolve(t){return new wr(t)}};function ks(t,e,n,r,i,o=!1){if(e.inlineContent)return Be.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&ke.isSelectable(a))return ke.create(t,n-(i<0?a.nodeSize:0))}else{let l=ks(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function Px(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Xt||i instanceof It))return;let o=t.mapping.maps[r],s;o.forEach((a,l,u,d)=>{s==null&&(s=d)}),t.setSelection(De.near(t.doc.resolve(s),n))}const Rx=1,Tc=2,Lx=4;class Vz extends zz{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Rx)&~Tc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Rx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Tc,this}ensureMarks(e){return Ge.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Tc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Tc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ge.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(De.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Lx,this}get scrolledIntoView(){return(this.updated&Lx)>0}}function Dx(t,e){return!e||!t?t:t.bind(e)}class cl{constructor(e,n,r){this.name=e,this.init=Dx(n.init,r),this.apply=Dx(n.apply,r)}}const Uz=[new cl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new cl("selection",{init(t,e){return t.selection||De.atStart(e.doc)},apply(t){return t.selection}}),new cl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new cl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class em{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Uz.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new cl(r.key,r.spec.state,r))})}}class Fs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let c=0;c<this.config.plugins.length;c++)i.push(c<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Fs(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new Vz(this)}static create(e){let n=new em(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Fs(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new em(this.schema,e.plugins),r=n.fields,i=new Fs(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new em(e.schema,e.plugins),o=new Fs(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ui.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=De.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=u.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function I2(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=I2(i,e,{})),n[r]=i}return n}class Hn{constructor(e){this.spec=e,this.props={},e.props&&I2(e.props,this,this.props),this.key=e.key?e.key.key:B2("plugin")}getState(e){return e[this.key]}}const tm=Object.create(null);function B2(t){return t in tm?t+"$"+ ++tm[t]:(tm[t]=0,t+"$")}class bi{constructor(e="key"){this.key=B2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ln=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},mu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Ix=null;const ei=function(t,e,n){let r=Ix||(Ix=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ts=function(t,e,n,r){return n&&(Bx(t,e,n,r,-1)||Bx(t,e,n,r,1))},Wz=/^(img|br|input|textarea|hr)$/i;function Bx(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Br(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Gz(t)||Wz.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ln(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Br(t):0}else return!1}}function Br(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Kz(t,e,n){for(let r=e==0,i=e==Br(t);r||i;){if(t==n)return!0;let o=Ln(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Br(t)}}function Gz(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const vh=function(t){return t.focusNode&&ts(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Oo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Jz(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const fo=typeof navigator<"u"?navigator:null,Fx=typeof document<"u"?document:null,vo=fo&&fo.userAgent||"",by=/Edge\/(\d+)/.exec(vo),F2=/MSIE \d/.exec(vo),wy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),kn=!!(F2||wy||by),no=F2?document.documentMode:wy?+wy[1]:by?+by[1]:0,Er=!kn&&/gecko\/(\d+)/i.test(vo);Er&&+(/Firefox\/(\d+)/.exec(vo)||[0,0])[1];const xy=!kn&&/Chrome\/(\d+)/.exec(vo),an=!!xy,Qz=xy?+xy[1]:0,fn=!kn&&!!fo&&/Apple Computer/.test(fo.vendor),ha=fn&&(/Mobile\/\w+/.test(vo)||!!fo&&fo.maxTouchPoints>2),Un=ha||(fo?/Mac/.test(fo.platform):!1),hr=/Android \d/.test(vo),bh=!!Fx&&"webkitFontSmoothing"in Fx.documentElement.style,Yz=bh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Xz(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ci(t,e){return typeof t=="number"?t:t[e]}function Zz(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function jx(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=mu(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,u=l?Xz(o):Zz(a),d=0,c=0;if(e.top<u.top+Ci(r,"top")?c=-(u.top-e.top+Ci(i,"top")):e.bottom>u.bottom-Ci(r,"bottom")&&(c=e.bottom-u.bottom+Ci(i,"bottom")),e.left<u.left+Ci(r,"left")?d=-(u.left-e.left+Ci(i,"left")):e.right>u.right-Ci(r,"right")&&(d=e.right-u.right+Ci(i,"right")),d||c)if(l)o.defaultView.scrollBy(d,c);else{let f=a.scrollLeft,h=a.scrollTop;c&&(a.scrollTop+=c),d&&(a.scrollLeft+=d);let m=a.scrollLeft-f,y=a.scrollTop-h;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(l)break}}function eq(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:j2(t.dom)}}function j2(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=mu(r));return e}function tq({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;$2(n,r==0?0:r-e)}function $2(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let xs=null;function nq(t){if(t.setActive)return t.setActive();if(xs)return t.focus(xs);let e=j2(t);t.focus(xs==null?{get preventScroll(){return xs={preventScroll:!0},!0}}:void 0),xs||(xs=!1,$2(e,0))}function z2(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let d;if(l.nodeType==1)d=l.getClientRects();else if(l.nodeType==3)d=ei(l).getClientRects();else continue;for(let c=0;c<d.length;c++){let f=d[c];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);let h=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(h<r){n=l,r=h,i=h&&n.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,l.nodeType==1&&h&&(o=u+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=u+1)}}return n&&n.nodeType==3?rq(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:z2(n,i)}function rq(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=_i(r,1);if(o.top!=o.bottom&&C0(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function C0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function iq(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function oq(t,e,n){let{node:r,offset:i}=z2(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function sq(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function q2(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(C0(e,u))return q2(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function aq(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!C0(e,l)||(o=q2(t.dom,e,l),!o))return null}if(fn)for(let l=o;r&&l;l=mu(l))l.draggable&&(r=void 0);if(o=iq(o,e),r){if(Er&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=sq(t,r,i,e))}s==null&&(s=oq(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function _i(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const lq=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function H2(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=bh||Er;if(r.nodeType==3)if(s&&(lq.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=_i(ei(r,i,i),n);if(Er&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=_i(ei(r,i-1,i-1),-1);if(u.top==l.top){let d=_i(ei(r,i,i+1),-1);if(d.top!=l.top)return Xa(d,d.left<u.left)}}return l}else{let l=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:u++,Xa(_i(ei(r,l,u),1),d<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Br(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return nm(l.getBoundingClientRect(),!1)}if(o==null&&i<Br(r)){let l=r.childNodes[i];if(l.nodeType==1)return nm(l.getBoundingClientRect(),!0)}return nm(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Br(r))){let l=r.childNodes[i-1],u=l.nodeType==3?ei(l,Br(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Xa(_i(u,1),!1)}if(o==null&&i<Br(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?ei(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Xa(_i(u,-1),!0)}return Xa(_i(r.nodeType==3?ei(r):r,-n),n>=0)}function Xa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function nm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function V2(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function uq(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return V2(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=H2(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ei(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const cq=/[\u0590-\u08ac]/;function fq(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!cq.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:V2(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:c}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),g=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==y;try{a.collapse(d,c),l&&(l!=d||u!=c)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),g})}let $x=null,zx=null,qx=!1;function dq(t,e,n){return $x==e&&zx==n?qx:($x=e,zx=n,qx=n=="up"||n=="down"?uq(t,e,n):fq(t,e,n))}const xr=0,Hx=1,js=2,Ur=3;class $u{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=xr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof W2){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof U2&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ln(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ln(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(i==-1&&e<=u){let d=s+l.border;if(e>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=s;for(let c=a;c>0;c--){let f=this.children[c-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Ln(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let c=this.children[d];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){o=Ln(c.dom);break}n+=c.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let m=this.children[f],y=h+m.size;if(o>h&&s<y)return m.setSelection(e-h-m.border,n-h-m.border,r,i);h=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),d=!1;if((Er||fn)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(d=!!(h&&f.nodeValue[h-1]==`
`),d&&h==f.nodeValue.length)for(let m=f,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Ln(y)+1});break}let g=m.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let m=f.childNodes[h-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Er&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&fn)&&ts(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ts(l.node,l.offset,u.focusNode,u.focusOffset))return;let c=!1;if((u.extend||e==n)&&!d){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),c=!0}catch{}}if(!c){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?js:Hx,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ur:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?js:Ur}r=s}this.dirty=js}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?js:Hx;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class U2 extends $u{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==xr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class hq extends $u{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ns extends $u{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Fr.renderSpec(document,n.type.spec.toDOM(n,r))),new ns(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Ur&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=xr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=xr}}slice(e,n,r){let i=ns.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Ey(o,n,s,r)),e>0&&(o=Ey(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class rs extends $u{constructor(e,n,r,i,o,s,a,l,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,s&&this.updateChildren(l,u)}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,u=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=u&&u.dom,c=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:c}=Fr.renderSpec(document,n.type.spec.toDOM(n)));!c&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=J2(d,r,n),u?l=new pq(e,n,r,i,d,c||null,f,u,o,s+1):n.isText?new wh(e,n,r,i,d,f,o):new rs(e,n,r,i,d,c||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,n,r){return this.dirty==xr&&e.eq(this.node)&&ky(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new gq(this,s&&s.node,e);bq(this.node,this.innerDeco,(u,d,c)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!c&&l.syncToMarks(d==this.node.childCount?Ge.none:this.node.child(d).marks,r,e),l.placeWidget(u,e,i)},(u,d,c,f)=>{l.syncToMarks(u.marks,r,e);let h;l.findNodeMatch(u,d,c,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,d,c,h,e)||l.updateNextNode(u,d,c,e,f)||l.addNode(u,d,c,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==js)&&(s&&this.protectLocalComposition(e,s),K2(this.contentDOM,this.children,e),ha&&wq(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Be)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=xq(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=Sq(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new hq(this,o,n,i);e.input.compositionNodes.push(s),this.children=Ey(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Ur||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=xr}updateOuterDeco(e){if(ky(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=G2(this.dom,this.nodeDOM,Sy(this.outerDeco,this.node,n),Sy(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Vx(t,e,n,r,i){return J2(r,e,t),new rs(void 0,t,e,n,r,r,r,i,0)}class wh extends rs{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ur||this.dirty!=xr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=xr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=xr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new wh(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ur)}get domAtom(){return!1}}class W2 extends $u{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class pq extends rs{constructor(e,n,r,i,o,s,a,l,u,d){super(e,n,r,i,o,s,a,u,d),this.spec=l}update(e,n,r,i){if(this.dirty==Ur)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function K2(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=Ux(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof ns){let l=r?r.previousSibling:t.lastChild;K2(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Ux(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Nl=function(t){t&&(this.nodeName=t)};Nl.prototype=Object.create(null);const Ro=[new Nl];function Sy(t,e,n){if(t.length==0)return Ro;let r=n?Ro[0]:new Nl,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Nl(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Nl(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function G2(t,e,n,r){if(n==Ro&&r==Ro)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ro[0]),i=l}mq(i,a||Ro[0],s)}return i}function mq(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function J2(t,e,n){return G2(t,t,Ro,Sy(e,n,t.nodeType!=1))}function ky(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ux(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class gq{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=yq(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=xr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ns.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Ur&&s.dom==s.contentDOM&&(s.dirty=js),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof rs){let l=this.preMatch.matched.get(a);if(l!=null&&l!=o)return!1;let u=a.dom;if(!(this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Ur&&ky(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,rs.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new U2(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ns;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||an)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new W2(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function yq(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof ns)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function vq(t,e){return t.type.side-e.type.side}function bq(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,i,e.forChild(o,d),u),o+=d.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){if(s<i.length&&i[s].to==o){let m=i[s++],y;for(;s<i.length&&i[s].to==o;)(y||(y=[m])).push(i[s++]);if(y){y.sort(vq);for(let g=0;g<y.length;g++)n(y[g],u,!!l)}else n(m,u,!!l)}let d,c;if(l)c=-1,d=l,l=null;else if(u<t.childCount)c=u,d=t.child(u++);else break;for(let m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let f=o+d.nodeSize;if(d.isText){let m=f;s<i.length&&i[s].from<m&&(m=i[s].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<f&&(l=d.cut(m-o),d=d.cut(0,m-o),f=m,c=-1)}let h=d.isInline&&!d.isLeaf?a.filter(m=>!m.inline):a.slice();r(d,h,e.forChild(o,d),c),o=f}}function wq(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function xq(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Br(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Sq(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ey(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],u=a,d=a+=l.size;u>=n||d<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),d>n&&o.push(l.slice(n-u,l.size,r)))}return o}function O0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(vh(n)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ke.isSelectable(d)&&i.parent&&!(d.isInline&&Kz(n.focusNode,n.focusOffset,i.dom))){let c=i.posBefore;u=new ke(s==c?a:r.resolve(c))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;l=r.resolve(d)}if(!u){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;u=_0(t,l,a,d)}return u}function Q2(t){return t.editable?t.hasFocus():X2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ci(t,e=!1){let n=t.state.selection;if(Y2(t,n),!!Q2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&an){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ts(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Eq(t);else{let{anchor:r,head:i}=n,o,s;Wx&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(o=Kx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Kx(t,n.to))),t.docView.setSelection(r,i,t.root,e),Wx&&(o&&Gx(o),s&&Gx(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&kq(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Wx=fn||an&&Qz<63;function Kx(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(fn&&i&&i.contentEditable=="false")return rm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return rm(i);if(o)return rm(o)}}function rm(t){return t.contentEditable="true",fn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Gx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function kq(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Q2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Eq(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Ln(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&kn&&no<=11&&(r.disabled=!0,r.disabled=!1)}function Y2(t,e){if(e instanceof ke){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Jx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Jx(t)}function Jx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function _0(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Be.between(e,n,r)}function Qx(t){return t.editable&&!t.hasFocus()?!1:X2(t)}function X2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Aq(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ts(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ay(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&De.findFrom(o,e)}function _o(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Yx(t,e,n){let r=t.state.selection;if(r instanceof Be){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Ay(t.state,e);return i&&i instanceof ke?_o(t,i):!1}else if(!(Un&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?ke.isSelectable(o)?_o(t,new ke(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):bh?_o(t,new Be(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else{if(r instanceof ke&&r.node.isInline)return _o(t,new Be(e>0?r.$to:r.$from));{let i=Ay(t.state,e);return i?_o(t,i):!1}}}function ld(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ml(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function im(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Er&&n.nodeType==1&&r<ld(n)&&Ml(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Ml(a))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Z2(n))break;{let a=n.previousSibling;for(;a&&Ml(a);)i=n.parentNode,o=Ln(a),a=a.previousSibling;if(a)n=a,r=ld(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Cy(t,n,r):i&&Cy(t,i,o)}function om(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ld(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Ml(a))o=n,s=++r;else break}else{if(Z2(n))break;{let a=n.nextSibling;for(;a&&Ml(a);)o=a.parentNode,s=Ln(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=ld(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Cy(t,o,s)}function Z2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Cy(t,e,n){let r=t.domSelection();if(vh(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ci(t)},50)}function Xx(t,e,n){let r=t.state.selection;if(r instanceof Be&&!r.empty||n.indexOf("s")>-1||Un&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Ay(t.state,e);if(s&&s instanceof ke)return _o(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof wr?De.near(s,e):De.findFrom(s,e);return a?_o(t,a):!1}return!1}function Zx(t,e){if(!(t.state.selection instanceof Be))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function eS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Cq(t){if(!fn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;eS(t,r,"true"),setTimeout(()=>eS(t,r,"false"),20)}return!1}function Oq(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function _q(t,e){let n=e.keyCode,r=Oq(e);return n==8||Un&&n==72&&r=="c"?Zx(t,-1)||im(t):n==46||Un&&n==68&&r=="c"?Zx(t,1)||om(t):n==13||n==27?!0:n==37||Un&&n==66&&r=="c"?Yx(t,-1,r)||im(t):n==39||Un&&n==70&&r=="c"?Yx(t,1,r)||om(t):n==38||Un&&n==80&&r=="c"?Xx(t,-1,r)||im(t):n==40||Un&&n==78&&r=="c"?Cq(t)||Xx(t,1,r)||om(t):r==(Un?"m":"c")&&(n==66||n==73||n==89||n==90)}function eO(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||Fr.fromSchema(t.state.schema),a=sO(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,d,c=0;for(;u&&u.nodeType==1&&(d=oO[u.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let m=a.createElement(d[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),c++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${c?` -${c}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function tO(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new me(se.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):me.empty;let c=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(c)a=c;else{let f=i.marks(),{schema:h}=t.state,m=Fr.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let g=s.appendChild(document.createElement("p"));y&&g.appendChild(m.serializeNode(h.text(y,f)))})}}else t.someProp("transformPastedHTML",c=>{n=c(n,t)}),s=Mq(n),bh&&Pq(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let c=+d[3];c>0;c--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||pu.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Tq.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)a=Rq(tS(a,+d[1],+d[2]),d[4]);else if(a=me.maxOpen(Nq(a.content,i),!0),a.openStart||a.openEnd){let c=0,f=0;for(let h=a.content.firstChild;c<a.openStart&&!h.type.spec.isolating;c++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=tS(a,c,f)}return t.someProp("transformPasted",c=>{a=c(a,t)}),a}const Tq=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nq(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&rO(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=iO(s[s.length-1],o.length));let d=nO(a,l);s.push(d),i=i.matchType(d.type),o=l}}),s)return se.from(s)}return t}function nO(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,se.from(t));return t}function rO(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=rO(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(se.from(nO(n,t,i+1))))}}function iO(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,iO(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(se.empty,!0);return t.copy(n.append(r))}function Oy(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=Oy(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(se.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function tS(t,e,n){return e<t.openStart&&(t=new me(Oy(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new me(Oy(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const oO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nS=null;function sO(){return nS||(nS=document.implementation.createHTMLDocument("title"))}function Mq(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=sO().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&oO[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Pq(t){let e=t.querySelectorAll(an?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Rq(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=se.from(l.create(r[a+1],i)),o++,s++}return new me(i,o,s)}const dn={},hn={},Lq={touchstart:!0,touchmove:!0};class Dq{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Iq(t){for(let e in dn){let n=dn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Fq(t,r)&&!T0(t,r)&&(t.editable||!(r.type in hn))&&n(t,r)},Lq[e]?{passive:!0}:void 0)}fn&&t.dom.addEventListener("input",()=>null),_y(t)}function Ui(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Bq(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _y(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>T0(t,r))})}function T0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Fq(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function jq(t,e){!T0(t,e)&&dn[e.type]&&(t.editable||!(e.type in hn))&&dn[e.type](t,e)}hn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!lO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(hr&&an&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ha&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Oo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||_q(t,n)?n.preventDefault():Ui(t,"key")};hn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hn.keypress=(t,e)=>{let n=e;if(lO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Un&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Be)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function xh(t){return{left:t.clientX,top:t.clientY}}function $q(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function N0(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Zs(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function zq(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ke.isSelectable(r)?(Zs(t,new ke(n),"pointer"),!0):!1}function qq(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ke&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ke.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Zs(t,ke.create(t.state.doc,i),"pointer"),!0):!1}function Hq(t,e,n,r,i){return N0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?qq(t,n):zq(t,n))}function Vq(t,e,n,r){return N0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Uq(t,e,n,r){return N0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Wq(t,n,r)}function Wq(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Zs(t,Be.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Zs(t,Be.create(r,a+1,a+1+s.content.size),"pointer");else if(ke.isSelectable(s))Zs(t,ke.create(r,a),"pointer");else continue;return!0}}function M0(t){return ud(t)}const aO=Un?"metaKey":"ctrlKey";dn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=M0(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&$q(n,t.input.lastClick)&&!n[aO]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(xh(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Kq(t,s,n,!!r)):(o=="doubleClick"?Vq:Uq)(t,s.pos,s.inside,n)?n.preventDefault():Ui(t,"pointer"))};class Kq{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[aO],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof ke&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Er&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ui(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ci(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(xh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ui(this.view,"pointer"):Hq(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||an&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zs(this.view,De.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ui(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ui(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dn.touchstart=t=>{t.input.lastTouch=Date.now(),M0(t),Ui(t,"pointer")};dn.touchmove=t=>{t.input.lastTouch=Date.now(),Ui(t,"pointer")};dn.contextmenu=t=>M0(t);function lO(t,e){return t.composing?!0:fn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Gq=hr?5e3:-1;hn.compositionstart=hn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ud(t,!0),t.markCursor=null;else if(ud(t),Er&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}uO(t,Gq)};hn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,uO(t,20))};function uO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ud(t),e))}function cO(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Jq());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Jq(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ud(t,e=!1){if(!(hr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),cO(t),e||t.docView&&t.docView.dirty){let n=O0(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Qq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const pa=kn&&no<15||ha&&Yz<604;dn.copy=hn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=pa?null:n.clipboardData,s=r.content(),{dom:a,text:l}=eO(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Qq(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Yq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Xq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gu(t,r.value,null,t.input.shiftKey,e):gu(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function gu(t,e,n,r,i){let o=tO(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||me.empty)))return!0;if(!o)return!1;let s=Yq(o),a=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}hn.paste=(t,e)=>{let n=e;if(t.composing&&!hr)return;let r=pa?null:n.clipboardData;r&&gu(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():Xq(t,n)};class Zq{constructor(e,n){this.slice=e,this.move=n}}const fO=Un?"altKey":"ctrlKey";dn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(xh(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ke?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=eO(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(pa?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",pa||n.dataTransfer.setData("text/plain",l),t.dragging=new Zq(s,!n[fO])};dn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hn.dragover=hn.dragenter=(t,e)=>e.preventDefault();hn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(xh(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",m=>{s=m(s,t)}):s=tO(t,n.dataTransfer.getData(pa?"Text":"text/plain"),pa?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[fO]);if(t.someProp("handleDrop",m=>m(t,n,s||me.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?M2(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=t.state.tr;a&&u.deleteSelection();let d=u.mapping.map(l),c=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(c?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(f))return;let h=u.doc.resolve(d);if(c&&ke.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new ke(h));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((y,g,b,p)=>m=p),u.setSelection(_0(t,h,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};dn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ci(t)},20))};dn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};dn.beforeinput=(t,e)=>{if(an&&hr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Oo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in hn)dn[t]=hn[t];function yu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class P0{constructor(e,n){this.toDOM=e,this.spec=n||zo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Zn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof P0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&yu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ro{constructor(e,n){this.attrs=e,this.spec=n||zo}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Zn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ro&&yu(this.attrs,e.attrs)&&yu(this.spec,e.spec)}static is(e){return e.type instanceof ro}destroy(){}}class R0{constructor(e,n){this.attrs=e,this.spec=n||zo}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Zn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof R0&&yu(this.attrs,e.attrs)&&yu(this.spec,e.spec)}destroy(){}}class Zn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Zn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Zn(e,e,new P0(n,r))}static inline(e,n,r,i){return new Zn(e,n,new ro(r,i))}static node(e,n,r,i){return new Zn(e,n,new R0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ro}}const Es=[],zo={};class Ot{constructor(e,n){this.local=e.length?e:Es,this.children=n.length?n:Es}static create(e,n){return n.length?cd(n,e,0,zo):Qt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==Qt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||zo)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?eH(this.children,s||[],e,n,r,i,o):s?new Ot(s.sort(qo),Es):Qt}add(e,n){return n.length?this==Qt?Ot.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,d;if(d=hO(n,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,d,u+1):i.splice(o,0,l,l+a.nodeSize,cd(d,a,u+1,zo)),o+=3}});let s=dO(o?pO(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Ot(s.length?this.local.concat(s).sort(qo):this.local,i||this.children)}remove(e){return e.length==0||this==Qt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let d=0,c;d<e.length;d++)(c=e[d])&&c.from>a&&c.to<l&&(e[d]=null,(s||(s=[])).push(c));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=Qt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ot(i,r):Qt}forChild(e,n){if(this==Qt)return this;if(n.isLeaf)return Ot.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ro){let u=Math.max(o,l.from)-o,d=Math.min(s,l.to)-o;u<d&&(i||(i=[])).push(l.copy(u,d))}}if(i){let a=new Ot(i.sort(qo),Es);return r?new Di([a,r]):a}return r||Qt}eq(e){if(this==e)return!0;if(!(e instanceof Ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return L0(this.localsInner(e))}localsInner(e){if(this==Qt)return Es;if(e.inlineContent||!this.local.some(ro.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ro||n.push(this.local[r]);return n}}Ot.empty=new Ot([],[]);Ot.removeOverlap=L0;const Qt=Ot.empty;class Di{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,zo));return Di.from(r)}forChild(e,n){if(n.isLeaf)return Ot.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Qt&&(o instanceof Di?r=r.concat(o.members):r.push(o))}return Di.from(r)}eq(e){if(!(e instanceof Di)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?L0(r?n:n.sort(qo)):Es}static from(e){switch(e.length){case 0:return Qt;case 1:return e[0];default:return new Di(e.every(n=>n instanceof Ot)?e:e.reduce((n,r)=>n.concat(r instanceof Ot?r:r.members),[]))}}}function eH(t,e,n,r,i,o,s){let a=t.slice();for(let u=0,d=o;u<n.maps.length;u++){let c=0;n.maps[u].forEach((f,h,m,y)=>{let g=y-m-(h-f);for(let b=0;b<a.length;b+=3){let p=a[b+1];if(p<0||f>p+d-c)continue;let v=a[b]+d-c;h>=v?a[b+1]=f<=v?-2:-1:m>=i&&g&&(a[b]+=g,a[b+1]+=g)}c+=g}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let d=n.map(t[u]+o),c=d-i;if(c<0||c>=r.content.size){l=!0;continue}let f=n.map(t[u+1]+o,-1),h=f-i,{index:m,offset:y}=r.content.findIndex(c),g=r.maybeChild(m);if(g&&y==c&&y+g.nodeSize==h){let b=a[u+2].mapInner(n,g,d+1,t[u]+o+1,s);b!=Qt?(a[u]=c,a[u+1]=h,a[u+2]=b):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=tH(a,t,e,n,i,o,s),d=cd(u,r,0,s);e=d.local;for(let c=0;c<a.length;c+=3)a[c+1]<0&&(a.splice(c,3),c-=3);for(let c=0,f=0;c<d.children.length;c+=3){let h=d.children[c];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,d.children[c],d.children[c+1],d.children[c+2])}}return new Ot(e.sort(qo),a)}function dO(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Zn(i.from+e,i.to+e,i.type))}return n}function tH(t,e,n,r,i,o,s){function a(l,u){for(let d=0;d<l.local.length;d++){let c=l.local[d].map(r,i,u);c?n.push(c):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function hO(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function pO(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cd(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let u=hO(t,a,l+n);if(u){o=!0;let d=cd(u,a,n+l+1,r);d!=Qt&&i.push(l,l+a.nodeSize,d)}});let s=dO(o?pO(t):t,-n).sort(qo);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Ot(s,i):Qt}function qo(t,e){return t.from-e.from||t.to-e.to}function L0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),rS(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),rS(e,i,r.copy(o.from,r.to)));break}}}return e}function rS(t,e,n){for(;e<t.length&&qo(n,t[e])>0;)e++;t.splice(e,0,n)}function sm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qt&&e.push(r)}),t.cursorWrapper&&e.push(Ot.create(t.state.doc,[t.cursorWrapper.deco])),Di.from(e)}const nH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},rH=kn&&no<=11;class iH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class oH{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new iH,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);kn&&no<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),rH&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nH)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Qx(this.view)){if(this.suppressingSelectionUpdates)return ci(this.view);if(kn&&no<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ts(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=mu(o))n.add(o);for(let o=e.anchorNode;o;o=mu(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Qx(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let c=this.registerMutation(n[d],l);c&&(o=o<0?c.from:Math.min(c.from,o),s=s<0?c.to:Math.max(c.to,s),c.typeOver&&(a=!0))}if(Er&&l.length>1){let d=l.filter(c=>c.nodeName=="BR");if(d.length==2){let c=d[0],f=d[1];c.parentNode&&c.parentNode.parentNode==f.parentNode?f.remove():c.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&vh(r)&&(u=O0(e))&&u.eq(De.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ci(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),sH(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ci(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(kn&&no<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:c,nextSibling:f}=e.addedNodes[d];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?Ln(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Ln(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let iS=new WeakMap,oS=!1;function sH(t){if(!iS.has(t)&&(iS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Er,oS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),oS=!0}}function aH(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ts(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function lH(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],vh(l)||u.push({node:l.focusNode,offset:l.focusOffset})),an&&t.input.lastKeyCode===8)for(let g=o;g>i;g--){let b=r.childNodes[g-1],p=b.pmViewDesc;if(b.nodeName=="BR"&&!p){o=g;break}if(!p||p.size)break}let c=t.state.doc,f=t.someProp("domParser")||pu.fromSchema(t.state.schema),h=c.resolve(s),m=null,y=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:uH,context:h});if(u&&u[0].pos!=null){let g=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=g),m={anchor:g+s,head:b+s}}return{doc:y,sel:m,from:s,to:a}}function uH(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const cH=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fH(t,e,n,r,i){if(e<0){let k=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=O0(t,k);if(A&&!t.state.selection.eq(A)){if(an&&hr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",_=>_(t,Oo(13,"Enter"))))return;let C=t.state.tr.setSelection(A);k=="pointer"?C.setMeta("pointer",!0):k=="key"&&C.scrollIntoView(),t.dispatch(C)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let a=t.state.selection,l=lH(t,e,n),u=t.state.doc,d=u.slice(l.from,l.to),c,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(c=t.state.selection.to,f="end"):(c=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=pH(d.content,l.doc.content,l.from,c,f);if((ha&&t.input.lastIOSEnter>Date.now()-225||hr)&&i.some(k=>k.nodeType==1&&!cH.test(k.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",k=>k(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof Be&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let k=sS(t,t.state.doc,l.sel);k&&!k.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(k))}return}if(an&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let k=h.endB-h.start;l.sel={anchor:l.sel.anchor+k,head:l.sel.anchor+k}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof Be&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),kn&&no<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=l.doc.resolveNoCache(h.start-l.from),y=l.doc.resolveNoCache(h.endB-l.from),g=u.resolve(h.start),b=m.sameParent(y)&&m.parent.inlineContent&&g.end()>=h.endA,p;if((ha&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!b&&m.pos<l.doc.content.size&&(p=De.findFrom(l.doc.resolve(m.pos+1),1,!0))&&p.head==y.pos)&&t.someProp("handleKeyDown",k=>k(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&hH(u,h.start,h.endA,m,y)&&t.someProp("handleKeyDown",k=>k(t,Oo(8,"Backspace")))){hr&&an&&t.domObserver.suppressSelectionUpdates();return}an&&hr&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),hr&&!b&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,y=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(k){return k(t,Oo(13,"Enter"))})},20));let v=h.start,w=h.endA,x,S,E;if(b){if(m.pos==y.pos)kn&&no<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ci(t),20)),x=t.state.tr.delete(v,w),S=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(E=dH(m.parent.content.cut(m.parentOffset,y.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start()))))x=t.state.tr,E.type=="add"?x.addMark(v,w,E.mark):x.removeMark(v,w,E.mark);else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let k=m.parent.textBetween(m.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",A=>A(t,v,w,k)))return;x=t.state.tr.insertText(k,v,w)}}if(x||(x=t.state.tr.replace(v,w,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let k=sS(t,x.doc,l.sel);k&&!(an&&hr&&t.composing&&k.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(k.head==v||k.head==x.mapping.map(w)-1)||kn&&k.empty&&k.head==v)&&x.setSelection(k)}S&&x.ensureMarks(S),t.dispatch(x.scrollIntoView())}function sS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:_0(t,e.resolve(n.anchor),e.resolve(n.head))}function dH(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(se.from(u).eq(t))return{mark:a,type:s}}function hH(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||am(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(am(o,!0,!0));return!s.parent.isTextblock||s.pos>n||am(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function am(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function pH(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}class mH{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Dq,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(fS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=uS(this),lS(this),this.nodeViews=cS(this),this.docView=Vx(this.state.doc,aS(this),sm(this),this.dom,this),this.domObserver=new oH(this,(r,i,o,s)=>fH(this,r,i,o,s)),this.domObserver.start(),Iq(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_y(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(fS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(cO(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=cS(this);yH(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&_y(this),this.editable=uS(this),lS(this);let a=sm(this),l=aS(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,l,a);(d||!e.selection.eq(r.selection))&&(o=!0);let c=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&eq(this);if(o){this.domObserver.stop();let f=d&&(kn||an)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&gH(r.selection,e.selection);if(d){let h=an?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Vx(e.doc,l,a,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Aq(this))?ci(this,f):(Y2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():c&&tq(c)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ke){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&jx(this,n.getBoundingClientRect(),e)}else jx(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&nq(this.dom),ci(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return aq(this,e)}coordsAtPos(e,n=1){return H2(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return dq(this,n||this.state,e)}pasteHTML(e,n){return gu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return gu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Bq(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],sm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return jq(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return fn&&this.root.nodeType===11&&Jz(this.dom.ownerDocument)==this.dom?aH(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function aS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Zn.node(0,t.state.doc.content.size,e)]}function lS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Zn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function uS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function gH(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function cS(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function yH(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function fS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ho={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dS=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),vH=typeof navigator<"u"&&/Mac/.test(navigator.platform),bH=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),wH=vH||dS&&+dS[1]<57;for(var qt=0;qt<10;qt++)ho[48+qt]=ho[96+qt]=String(qt);for(var qt=1;qt<=24;qt++)ho[qt+111]="F"+qt;for(var qt=65;qt<=90;qt++)ho[qt]=String.fromCharCode(qt+32),fd[qt]=String.fromCharCode(qt);for(var lm in ho)fd.hasOwnProperty(lm)||(fd[lm]=ho[lm]);function xH(t){var e=wH&&(t.ctrlKey||t.altKey||t.metaKey)||bH&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?fd:ho)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const SH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function kH(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))SH?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function EH(t){let e=Object.create(null);for(let n in t)e[kH(n)]=t[n];return e}function um(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function AH(t){return new Hn({props:{handleKeyDown:mO(t)}})}function mO(t){let e=EH(t);return function(n,r){let i=xH(r),o,s=e[um(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[um(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ho[r.keyCode])&&o!=i){let a=e[um(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const CH=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function OH(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const _H=(t,e,n)=>{let r=OH(t,n);if(!r)return!1;let i=gO(r);if(!i){let s=r.blockRange(),a=s&&Ra(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&bO(t,i,e))return!0;if(r.parent.content.size==0&&(ma(o,"end")||ke.isSelectable(o))){let s=E0(t.doc,r.before(),r.after(),me.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ma(o,"end")?De.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ke.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function ma(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const TH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=gO(r)}let s=o&&o.nodeBefore;return!s||!ke.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function gO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function NH(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const MH=(t,e,n)=>{let r=NH(t,n);if(!r)return!1;let i=yO(r);if(!i)return!1;let o=i.nodeAfter;if(bO(t,i,e))return!0;if(r.parent.content.size==0&&(ma(o,"start")||ke.isSelectable(o))){let s=E0(t.doc,r.before(),r.after(),me.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ma(o,"start")?De.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ke.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},PH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=yO(r)}let s=o&&o.nodeAfter;return!s||!ke.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos)).scrollIntoView()),!0)};function yO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const RH=(t,e)=>{let n=t.selection,r=n instanceof ke,i;if(r){if(n.node.isTextblock||!yo(t.doc,n.from))return!1;i=n.from}else if(i=N2(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(ke.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},LH=(t,e)=>{let n=t.selection,r;if(n instanceof ke){if(n.node.isTextblock||!yo(t.doc,n.to))return!1;r=n.to}else if(r=N2(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},DH=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Ra(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},IH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function vO(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const BH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=vO(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(De.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},FH=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof wr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=vO(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Be.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},jH=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ys(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ra(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},$H=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(ke.create(t.doc,i))),!0)};function zH(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||yo(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function bO(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(zH(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let c=e.pos+i.nodeSize,f=se.empty;for(let y=o.length-1;y>=0;y--)f=se.from(o[y].create(null,f));f=se.from(r.copy(f));let h=t.tr.step(new It(e.pos-1,c,e.pos,c,new me(f,1,0),o.length,!0)),m=c+2*o.length;yo(h.doc,m)&&h.join(m),n(h.scrollIntoView())}return!0}let l=De.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),d=u&&Ra(u);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(u,d).scrollIntoView()),!0;if(a&&ma(i,"start",!0)&&ma(r,"end")){let c=r,f=[];for(;f.push(c),!c.isTextblock;)c=c.lastChild;let h=i,m=1;for(;!h.isTextblock;h=h.firstChild)m++;if(c.canReplace(c.childCount,c.childCount,h.content)){if(n){let y=se.empty;for(let b=f.length-1;b>=0;b--)y=se.from(f[b].copy(y));let g=t.tr.step(new It(e.pos-f.length,e.pos+i.nodeSize,e.pos+m,e.pos+i.nodeSize-m,new me(y,f.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function wO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Be.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const qH=wO(-1),HH=wO(1);function VH(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&k0(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function hS(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let d=n.doc.resolve(u),c=d.index();i=d.parent.canReplaceWith(c,c+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UH(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);l=new id(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new id(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=k0(l,t,e,s);return u?(r&&r(WH(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function WH(t,e,n,r,i){let o=se.empty;for(let d=n.length-1;d>=0;d--)o=se.from(n[d].type.create(n[d].attrs,o));t.step(new It(e.start-(r?2:0),e.end,e.start,e.end,new me(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,c=e.endIndex,f=!0;d<c;d++,f=!1)!f&&Ys(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(d).nodeSize;return t}function KH(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?GH(e,n,t,o):JH(e,n,o):!0:!1}}function GH(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new It(o-1,s,o,s,new me(se.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new id(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Ra(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return yo(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function JH(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),d=o.index(-1);if(!u.canReplace(d+(a?0:1),d+1,s.content.append(l?se.empty:se.from(i))))return!1;let c=o.pos,f=c+s.nodeSize;return r.step(new It(c-(a?1:0),f+(l?1:0),c+1,f-1,new me((a?se.empty:se.from(i.copy(se.empty))).append(l?se.empty:se.from(i.copy(se.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function QH(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,d=se.from(u?t.create():null),c=new me(se.from(t.create(null,se.from(a.type.create(null,d)))),u?3:1,0),f=o.start,h=o.end;n(e.tr.step(new It(f-(u?3:1),h,f,h,c,1,!0)).scrollIntoView())}return!0}}function Sh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class kh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const c=l(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,d=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(f=>f===!0)),c={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...y)=>{const g=this.buildProps(u,n),b=h(...y)(g);return a.push(b),c}])),run:d};return c}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const a={tr:e,editor:i,view:s,state:Sh({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}}class YH{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ve(t,e,n){return t.config[e]===void 0&&t.parent?ve(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ve(t.parent,e,n):null}):t.config[e]}function Eh(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function xO(t){const e=[],{nodeExtensions:n,markExtensions:r}=Eh(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ve(s,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(c=>{Object.entries(d.attributes).forEach(([f,h])=>{e.push({type:c,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ve(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([d,c])=>{const f={...o,...c};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:d,attribute:f})})}),e}function Bt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ft(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Ty(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ft(n,r),{})}function SO(t){return typeof t=="function"}function Le(t,e=void 0,...n){return SO(t)?e?t.bind(e)(...n):t(...n):t}function XH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ZH(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function pS(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):ZH(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function mS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&XH(n)?!1:n!=null))}function eV(t,e){var n;const r=xO(t),{nodeExtensions:i,markExtensions:o}=Eh(t),s=(n=i.find(u=>ve(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((b,p)=>{const v=ve(p,"extendNodeSchema",c);return{...b,...v?v(u):{}}},{}),h=mS({...f,content:Le(ve(u,"content",c)),marks:Le(ve(u,"marks",c)),group:Le(ve(u,"group",c)),inline:Le(ve(u,"inline",c)),atom:Le(ve(u,"atom",c)),selectable:Le(ve(u,"selectable",c)),draggable:Le(ve(u,"draggable",c)),code:Le(ve(u,"code",c)),defining:Le(ve(u,"defining",c)),isolating:Le(ve(u,"isolating",c)),attrs:Object.fromEntries(d.map(b=>{var p;return[b.name,{default:(p=b==null?void 0:b.attribute)===null||p===void 0?void 0:p.default}]}))}),m=Le(ve(u,"parseHTML",c));m&&(h.parseDOM=m.map(b=>pS(b,d)));const y=ve(u,"renderHTML",c);y&&(h.toDOM=b=>y({node:b,HTMLAttributes:Ty(b,d)}));const g=ve(u,"renderText",c);return g&&(h.toText=g),[u.name,h]})),l=Object.fromEntries(o.map(u=>{const d=r.filter(g=>g.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((g,b)=>{const p=ve(b,"extendMarkSchema",c);return{...g,...p?p(u):{}}},{}),h=mS({...f,inclusive:Le(ve(u,"inclusive",c)),excludes:Le(ve(u,"excludes",c)),group:Le(ve(u,"group",c)),spanning:Le(ve(u,"spanning",c)),code:Le(ve(u,"code",c)),attrs:Object.fromEntries(d.map(g=>{var b;return[g.name,{default:(b=g==null?void 0:g.attribute)===null||b===void 0?void 0:b.default}]}))}),m=Le(ve(u,"parseHTML",c));m&&(h.parseDOM=m.map(g=>pS(g,d)));const y=ve(u,"renderHTML",c);return y&&(h.toDOM=g=>y({mark:g,HTMLAttributes:Ty(g,d)})),[u.name,h]}));return new dz({topNode:s,nodes:a,marks:l})}function cm(t,e){return e.nodes[t]||e.marks[t]||null}function gS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const tV=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,u;const d=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-o))}),n};function D0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Ah{constructor(e){this.find=e.find,this.handler=e.handler}}const nV=(t,e)=>{if(D0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function fm(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const c=tV(u)+o;return s.forEach(f=>{if(d)return;const h=nV(c,f.find);if(!h)return;const m=l.state.tr,y=Sh({state:l.state,transaction:m}),g={from:r-(h[0].length-o.length),to:i},{commands:b,chain:p,can:v}=new kh({editor:n,state:y});f.handler({state:y,range:g,match:h,commands:b,chain:p,can:v})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),d=!0)}),d}function rV(t){const{editor:e,rules:n}=t,r=new Hn({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,a){return fm({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&fm({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?fm({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function iV(t){return typeof t=="number"}class oV{constructor(e){this.find=e.find,this.handler=e.handler}}const sV=(t,e)=>{if(D0(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function aV(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:a,can:l}=new kh({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(c,f)=>{if(!c.isTextblock||c.type.spec.code)return;const h=Math.max(r,f),m=Math.min(i,f+c.content.size),y=c.textBetween(h-f,m-f,void 0,"");sV(y,o.find).forEach(b=>{if(b.index===void 0)return;const p=h+b.index+1,v=p+b[0].length,w={from:n.tr.mapping.map(p),to:n.tr.mapping.map(v)},x=o.handler({state:n,range:w,match:b,commands:s,chain:a,can:l});u.push(x)})}),u.every(c=>c!==null)}function lV(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(a=>new Hn({view(l){const u=d=>{var c;r=!((c=l.dom.parentElement)===null||c===void 0)&&c.contains(d.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:l=>(o=r===l.dom.parentElement,!1),paste:(l,u)=>{var d;const c=(d=u.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return i=!!(c!=null&&c.includes("data-pm-slice")),!1}}},appendTransaction:(l,u,d)=>{const c=l[0],f=c.getMeta("uiEvent")==="paste"&&!i,h=c.getMeta("uiEvent")==="drop"&&!o;if(!f&&!h)return;const m=u.doc.content.findDiffStart(d.doc.content),y=u.doc.content.findDiffEnd(d.doc.content);if(!iV(m)||!y||m===y.b)return;const g=d.tr,b=Sh({state:d,transaction:g});if(!(!aV({editor:e,state:b,from:Math.max(m-1,0),to:y.b-1,rule:a})||!g.steps.length))return g}}))}function uV(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class $s{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=$s.resolve(e),this.schema=eV(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:cm(r.name,this.schema)};r.type==="mark"&&(!((i=Le(ve(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=ve(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=ve(r,"onCreate",o);a&&this.editor.on("create",a);const l=ve(r,"onUpdate",o);l&&this.editor.on("update",l);const u=ve(r,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const d=ve(r,"onTransaction",o);d&&this.editor.on("transaction",d);const c=ve(r,"onFocus",o);c&&this.editor.on("focus",c);const f=ve(r,"onBlur",o);f&&this.editor.on("blur",f);const h=ve(r,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const n=$s.sort($s.flatten(e)),r=uV(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ve(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=ve(r,"priority")||100,s=ve(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:cm(n.name,this.schema)},i=ve(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=$s.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:cm(s.name,this.schema)},l=[],u=ve(s,"addKeyboardShortcuts",a);let d={};if(s.type==="mark"&&s.config.exitable&&(d.ArrowRight=()=>Ar.handleExit({editor:e,mark:s})),u){const y=Object.fromEntries(Object.entries(u()).map(([g,b])=>[g,()=>b({editor:e})]));d={...d,...y}}const c=AH(d);l.push(c);const f=ve(s,"addInputRules",a);gS(s,e.options.enableInputRules)&&f&&r.push(...f());const h=ve(s,"addPasteRules",a);gS(s,e.options.enablePasteRules)&&h&&i.push(...h());const m=ve(s,"addProseMirrorPlugins",a);if(m){const y=m();l.push(...y)}return l}).flat();return[rV({editor:e,rules:r}),...lV({editor:e,rules:i}),...o]}get attributes(){return xO(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Eh(this.extensions);return Object.fromEntries(n.filter(r=>!!ve(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Bt(r.name,this.schema)},s=ve(r,"addNodeView",o);if(!s)return[];const a=(l,u,d,c)=>{const f=Ty(l,i);return s()({editor:e,node:l,getPos:d,decorations:c,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function cV(t){return Object.prototype.toString.call(t).slice(8,-1)}function dm(t){return cV(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Ch(t,e){const n={...t};return dm(t)&&dm(e)&&Object.keys(e).forEach(r=>{dm(e[r])?r in t?n[r]=Ch(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class En{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Le(ve(this,"addOptions",{name:this.name}))),this.storage=Le(ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new En(e)}configure(e={}){const n=this.extend();return n.options=Ch(this.options,e),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new En(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Le(ve(n,"addOptions",{name:n.name})),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}}function kO(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(u,d,c,f)=>{var h;const m=s==null?void 0:s[u.type.name];m?(u.isBlock&&!l&&(a+=o,l=!0),c&&(a+=m({node:u,pos:d,parent:c,index:f,range:e}))):u.isText?(a+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,d)-d,i-d),l=!1):u.isBlock&&!l&&(a+=o,l=!0)}),a}function EO(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const fV=En.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Hn({key:new bi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),a=Math.max(...o.map(d=>d.$to.pos)),l=EO(n);return kO(r,{from:s,to:a},{textSerializers:l})}}})]}}),dV=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),hV=(t=!1)=>({commands:e})=>e.setContent("",t),pV=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:d}=e,c=u.resolve(d.map(l)),f=u.resolve(d.map(l+a.nodeSize)),h=c.blockRange(f);if(!h)return;const m=Ra(h);if(a.type.isTextblock){const{defaultType:y}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(h.start,y)}(m||m===0)&&e.lift(h,m)})}),!0},mV=t=>e=>t(e),gV=()=>({state:t,dispatch:e})=>FH(t,e),yV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},vV=t=>({tr:e,state:n,dispatch:r})=>{const i=Bt(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),u=o.after(s);e.delete(l,u).scrollIntoView()}return!0}return!1},bV=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},wV=()=>({state:t,dispatch:e})=>CH(t,e),xV=()=>({commands:t})=>t.keyboardShortcut("Enter"),SV=()=>({state:t,dispatch:e})=>BH(t,e);function dd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:D0(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Ny(t,e,n={}){return t.find(r=>r.type===e&&dd(r.attrs,n))}function kV(t,e,n={}){return!!Ny(t,e,n)}function I0(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Ny([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(Ny([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&kV([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function bo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const EV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=bo(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:d}=a;if(i){const c=I0(l,o,e);if(c&&c.from<=u&&c.to>=d){const f=Be.create(s,c.from,c.to);n.setSelection(f)}}return!0},AV=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function AO(t){return t instanceof Be}function Lo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function CO(t,e=null){if(!e)return null;const n=De.atStart(t),r=De.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Be.create(t,Lo(0,i,o),Lo(t.content.size,i,o)):Be.create(t,Lo(e,i,o),Lo(e,i,o))}function Oh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const CV=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Oh()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!AO(n.state.selection))return s(),!0;const a=CO(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},OV=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),_V=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function yS(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function hd(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?se.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),hd("",e,n)}if(typeof t=="string"){const r=pu.fromSchema(e);return n.slice?r.parseSlice(yS(t),n.parseOptions).content:r.parse(yS(t),n.parseOptions)}return hd("",e,n)}function TV(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Xt||i instanceof It))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,u,d)=>{s===0&&(s=d)}),t.setSelection(De.near(t.doc.resolve(s),n))}const NV=t=>t.toString().startsWith("<"),MV=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=hd(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,u=!0,d=!0;if((NV(s)?s:[s]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,d=d?f.isBlock:!1}),a===l&&d){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}u?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),a,l):typeof e=="object"&&e&&e.text?r.insertText(e.text,a,l):r.insertText(e,a,l):r.replaceWith(a,l,s),n.updateSelection&&TV(r,r.steps.length-1,-1)}return!0},PV=()=>({state:t,dispatch:e})=>RH(t,e),RV=()=>({state:t,dispatch:e})=>LH(t,e),LV=()=>({state:t,dispatch:e})=>_H(t,e),DV=()=>({state:t,dispatch:e})=>MH(t,e);function OO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function IV(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Oh()||OO()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const BV=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=IV(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function vu(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Bt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(c,f)=>{if(c.isText)return;const h=Math.max(r,f),m=Math.min(i,f+c.nodeSize);a.push({node:c,from:h,to:m})});const l=i-r,u=a.filter(c=>s?s.name===c.node.type.name:!0).filter(c=>dd(c.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((c,f)=>c+f.to-f.from,0)>=l}const FV=(t,e={})=>({state:n,dispatch:r})=>{const i=Bt(t,n.schema);return vu(n,i,e)?DH(n,r):!1},jV=()=>({state:t,dispatch:e})=>jH(t,e),$V=t=>({state:e,dispatch:n})=>{const r=Bt(t,e.schema);return KH(r)(e,n)},zV=()=>({state:t,dispatch:e})=>IH(t,e);function _h(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function vS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const qV=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=_h(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Bt(t,r.schema)),a==="mark"&&(s=bo(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{o&&o===u.type&&n.setNodeMarkup(d,void 0,vS(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(c=>{s===c.type&&n.addMark(d,d+u.nodeSize,s.create(vS(c.attrs,e)))})})}),!0):!1},HV=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),VV=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),UV=()=>({state:t,dispatch:e})=>TH(t,e),WV=()=>({state:t,dispatch:e})=>PH(t,e),KV=()=>({state:t,dispatch:e})=>$H(t,e),GV=()=>({state:t,dispatch:e})=>HH(t,e),JV=()=>({state:t,dispatch:e})=>qH(t,e);function _O(t,e,n={}){return hd(t,e,{slice:!1,parseOptions:n})}const QV=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=_O(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!e),!0};function YV(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function XV(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function B0(t){return e=>XV(e.$from,t)}function ZV(t,e){const n=Fr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function eU(t,e){const n={from:0,to:t.content.size};return kO(t,n,e)}function Th(t,e){const n=bo(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function tU(t,e){const n=Bt(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function nU(t,e){const n=_h(typeof e=="string"?e:e.name,t.schema);return n==="node"?tU(t,e):n==="mark"?Th(t,e):{}}function TO(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=I0(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function nf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function My(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?bo(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(c=>o?o.name===c.type.name:!0).find(c=>dd(c.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:c,$to:f})=>{const h=c.pos,m=f.pos;t.doc.nodesBetween(h,m,(y,g)=>{if(!y.isText&&!y.marks.length)return;const b=Math.max(h,g),p=Math.min(m,g+y.nodeSize),v=p-b;s+=v,a.push(...y.marks.map(w=>({mark:w,from:b,to:p})))})}),s===0)return!1;const l=a.filter(c=>o?o.name===c.mark.type.name:!0).filter(c=>dd(c.mark.attrs,n,{strict:!1})).reduce((c,f)=>c+f.to-f.from,0),u=a.filter(c=>o?c.mark.type!==o&&c.mark.type.excludes(o):!0).reduce((c,f)=>c+f.to-f.from,0);return(l>0?l+u:l)>=s}function rU(t,e,n={}){if(!e)return vu(t,null,n)||My(t,null,n);const r=_h(e,t.schema);return r==="node"?vu(t,e,n):r==="mark"?My(t,e,n):!1}function bS(t,e){const{nodeExtensions:n}=Eh(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Le(ve(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function iU(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function oU(t,e,n){var r;const{selection:i}=e;let o=null;if(AO(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(d,c,f)=>{if(u)return!1;if(d.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(d.marks)||!d.marks.some(y=>y.type.excludes(n));u=h&&m}return!u}),u})}const sU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=bo(t,r.schema);if(i)if(s){const u=Th(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const d=u.$from.pos,c=u.$to.pos;r.doc.nodesBetween(d,c,(f,h)=>{const m=Math.max(h,d),y=Math.min(h+f.nodeSize,c);f.marks.find(b=>b.type===l)?f.marks.forEach(b=>{l===b.type&&n.addMark(m,y,l.create({...b.attrs,...e}))}):n.addMark(m,y,l.create(e))})});return oU(r,n,l)},aU=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),lU=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Bt(t,n.schema);return o.isTextblock?i().command(({commands:s})=>hS(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>hS(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Lo(t,0,r.content.size),o=ke.create(r,i);e.setSelection(o)}return!0},cU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=Be.atStart(r).from,a=Be.atEnd(r).to,l=Lo(i,s,a),u=Lo(o,s,a),d=Be.create(r,l,u);e.setSelection(d)}return!0},fU=t=>({state:e,dispatch:n})=>{const r=Bt(t,e.schema);return QH(r)(e,n)};function wS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const dU=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=i.extensionManager.attributes,d=nf(u,a.node().type.name,a.node().attrs);if(o instanceof ke&&o.node.isBlock)return!a.parentOffset||!Ys(s,a.pos)?!1:(r&&(t&&wS(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const c=l.parentOffset===l.parent.content.size;o instanceof Be&&e.deleteSelection();const f=a.depth===0?void 0:YV(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=c&&f?[{type:f,attrs:d}]:void 0,m=Ys(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!m&&Ys(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:d}]:void 0),m&&(e.split(e.mapping.map(a.pos),1,h),f&&!c&&!a.parentOffset&&a.parent.type!==f)){const y=e.mapping.map(a.before()),g=e.doc.resolve(y);a.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&wS(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},hU=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Bt(t,n.schema),{$from:a,$to:l}=n.selection,u=n.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(l))return!1;const d=a.node(-1);if(d.type!==s)return!1;const c=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let g=se.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let E=a.depth-b;E>=a.depth-3;E-=1)g=se.from(a.node(E).copy(g));const p=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,v=nf(c,a.node().type.name,a.node().attrs),w=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(v))||void 0;g=g.append(se.from(s.createAndFill(null,w)||void 0));const x=a.before(a.depth-(b-1));e.replace(x,a.after(-p),new me(g,4-b,0));let S=-1;e.doc.nodesBetween(x,e.doc.content.size,(E,k)=>{if(S>-1)return!1;E.isTextblock&&E.content.size===0&&(S=k+1)}),S>-1&&e.setSelection(Be.near(e.doc.resolve(S))),e.scrollIntoView()}return!0}const f=l.pos===a.end()?d.contentMatchAt(0).defaultType:null,h=nf(c,d.type.name,d.attrs),m=nf(c,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const y=f?[{type:s,attrs:h},{type:f,attrs:m}]:[{type:s,attrs:h}];if(!Ys(e.doc,a.pos,2))return!1;if(r){const{selection:g,storedMarks:b}=n,{splittableMarks:p}=i.extensionManager,v=b||g.$to.parentOffset&&g.$from.marks();if(e.split(a.pos,2,y).scrollIntoView(),!v||!r)return!0;const w=v.filter(x=>p.includes(x.type.name));e.ensureMarks(w)}return!0},hm=(t,e)=>{const n=B0(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&yo(t.doc,n.pos)&&t.join(n.pos),!0},pm=(t,e)=>{const n=B0(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&yo(t.doc,r)&&t.join(r),!0},pU=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:u,can:d})=>{const{extensions:c,splittableMarks:f}=i.extensionManager,h=Bt(t,s.schema),m=Bt(e,s.schema),{selection:y,storedMarks:g}=s,{$from:b,$to:p}=y,v=b.blockRange(p),w=g||y.$to.parentOffset&&y.$from.marks();if(!v)return!1;const x=B0(S=>bS(S.type.name,c))(y);if(v.depth>=1&&x&&v.depth-x.depth<=1){if(x.node.type===h)return u.liftListItem(m);if(bS(x.node.type.name,c)&&h.validContent(x.node.content)&&a)return l().command(()=>(o.setNodeMarkup(x.pos,h),!0)).command(()=>hm(o,h)).command(()=>pm(o,h)).run()}return!n||!w||!a?l().command(()=>d().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>hm(o,h)).command(()=>pm(o,h)).run():l().command(()=>{const S=d().wrapInList(h,r),E=w.filter(k=>f.includes(k.type.name));return o.ensureMarks(E),S?!0:u.clearNodes()}).wrapInList(h,r).command(()=>hm(o,h)).command(()=>pm(o,h)).run()},mU=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=bo(t,r.schema);return My(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},gU=(t,e,n={})=>({state:r,commands:i})=>{const o=Bt(t,r.schema),s=Bt(e,r.schema);return vu(r,o,n)?i.setNode(s):i.setNode(o,n)},yU=(t,e={})=>({state:n,commands:r})=>{const i=Bt(t,n.schema);return vu(n,i,e)?r.lift(i):r.wrapIn(i,e)},vU=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},bU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},wU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=bo(t,r.schema),{$from:u,empty:d,ranges:c}=a;if(!i)return!0;if(d&&s){let{from:f,to:h}=a;const m=(o=u.marks().find(g=>g.type===l))===null||o===void 0?void 0:o.attrs,y=I0(u,l,m);y&&(f=y.from,h=y.to),n.removeMark(f,h,l)}else c.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},xU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=_h(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Bt(t,r.schema)),a==="mark"&&(s=bo(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;r.doc.nodesBetween(u,d,(c,f)=>{o&&o===c.type&&n.setNodeMarkup(f,void 0,{...c.attrs,...e}),s&&c.marks.length&&c.marks.forEach(h=>{if(s===h.type){const m=Math.max(f,u),y=Math.min(f+c.nodeSize,d);n.addMark(m,y,s.create({...h.attrs,...e}))}})})}),!0):!1},SU=(t,e={})=>({state:n,dispatch:r})=>{const i=Bt(t,n.schema);return VH(i,e)(n,r)},kU=(t,e={})=>({state:n,dispatch:r})=>{const i=Bt(t,n.schema);return UH(i,e)(n,r)};var EU=Object.freeze({__proto__:null,blur:dV,clearContent:hV,clearNodes:pV,command:mV,createParagraphNear:gV,deleteCurrentNode:yV,deleteNode:vV,deleteRange:bV,deleteSelection:wV,enter:xV,exitCode:SV,extendMarkRange:EV,first:AV,focus:CV,forEach:OV,insertContent:_V,insertContentAt:MV,joinUp:PV,joinDown:RV,joinBackward:LV,joinForward:DV,keyboardShortcut:BV,lift:FV,liftEmptyBlock:jV,liftListItem:$V,newlineInCode:zV,resetAttributes:qV,scrollIntoView:HV,selectAll:VV,selectNodeBackward:UV,selectNodeForward:WV,selectParentNode:KV,selectTextblockEnd:GV,selectTextblockStart:JV,setContent:QV,setMark:sU,setMeta:aU,setNode:lU,setNodeSelection:uU,setTextSelection:cU,sinkListItem:fU,splitBlock:dU,splitListItem:hU,toggleList:pU,toggleMark:mU,toggleNode:gU,toggleWrap:yU,undoInputRule:vU,unsetAllMarks:bU,unsetMark:wU,updateAttributes:xU,wrapIn:SU,wrapInList:kU});const AU=En.create({name:"commands",addCommands(){return{...EU}}}),CU=En.create({name:"editable",addProseMirrorPlugins(){return[new Hn({key:new bi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),OU=En.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Hn({key:new bi("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),_U=En.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:d,$anchor:c}=l,{pos:f,parent:h}=c,m=De.atStart(u).from===f;return!d||!m||!h.type.isTextblock||h.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Oh()||OO()?o:i},addProseMirrorPlugins(){return[new Hn({key:new bi("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,a=De.atStart(e.doc).from,l=De.atEnd(e.doc).to;if(i||!(o===a&&s===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const c=n.tr,f=Sh({state:n,transaction:c}),{commands:h}=new kh({editor:this.editor,state:f});if(h.clearNodes(),!!c.steps.length)return c}})]}}),TU=En.create({name:"tabindex",addProseMirrorPlugins(){return[new Hn({key:new bi("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var NU=Object.freeze({__proto__:null,ClipboardTextSerializer:fV,Commands:AU,Editable:CU,FocusEvents:OU,Keymap:_U,Tabindex:TU});const MU=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function PU(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let RU=class extends YH{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=PU(MU,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=SO(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(NU):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new $s(n,this)}createCommandManager(){this.commandManager=new kh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=_O(this.options.content,this.schema,this.options.parseOptions),n=CO(e,this.options.autofocus);this.view=new mH(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Fs.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nU(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return rU(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ZV(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return eU(this.state.doc,{blockSeparator:n,textSerializers:{...EO(this.schema),...r}})}get isEmpty(){return iU(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function is(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Le(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const u=a.search(/\S/),d=n.from+a.indexOf(s),c=d+s.length;if(TO(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>d).length)return null;c<n.to&&o.delete(c,n.to),d>n.from&&o.delete(n.from+u,d),l=n.from+u+s.length,o.addMark(n.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function NO(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Le(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let u=s+l;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,t.type.create(i))}else r[0]&&o.replaceWith(s,a,t.type.create(i))}})}function Py(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Le(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function ga(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Le(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),u=l&&k0(l,t.type,o);if(!u)return null;if(s.wrap(l,u),t.keepMarks&&t.editor){const{selection:c,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,m=f||c.$to.parentOffset&&c.$from.marks();if(m){const y=m.filter(g=>h.includes(g.type.name));s.ensureMarks(y)}}if(t.keepAttributes){const c=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(c,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&yo(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&s.join(n.from-1)}})}class Ar{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Le(ve(this,"addOptions",{name:this.name}))),this.storage=Le(ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ar(e)}configure(e={}){const n=this.extend();return n.options=Ch(this.options,e),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ar(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Le(ve(n,"addOptions",{name:n.name})),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=s.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let Pt=class{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Le(ve(this,"addOptions",{name:this.name}))),this.storage=Le(ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pt(e)}configure(e={}){const n=this.extend();return n.options=Ch(this.options,e),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Pt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Le(ve(n,"addOptions",{name:n.name})),n.storage=Le(ve(n,"addStorage",{name:n.name,options:n.options})),n}};class LU{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,a,l;const{view:u}=this.editor,d=e.target,c=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!c)return;let f=0,h=0;if(this.dom!==c){const g=this.dom.getBoundingClientRect(),b=c.getBoundingClientRect(),p=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,v=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;f=b.x-g.x+p,h=b.y-g.y+v}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,f,h);const m=ke.create(u.state.doc,this.getPos()),y=u.state.tr.setSelection(m);u.dispatch(y)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:u}=this,d=!!this.node.type.spec.draggable,c=ke.isSelectable(this.node),f=e.type==="copy",h=e.type==="paste",m=e.type==="cut",y=e.type==="mousedown";if(!d&&c&&o&&e.preventDefault(),d&&o&&!u)return e.preventDefault(),!1;if(d&&l&&!u&&y){const g=r.closest("[data-drag-handle]");g&&(this.dom===g||this.dom.contains(g))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||s||f||h||m||y&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&Oh()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function ss(t){return new oV({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Le(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const u=a.search(/\S/),d=n.from+a.indexOf(s),c=d+s.length;if(TO(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>d).length)return null;c<n.to&&o.delete(c,n.to),d>n.from&&o.delete(n.from+u,d),l=n.from+u+s.length,o.addMark(n.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}const DU=En.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return((t==null?void 0:t.mode)||this.options.mode)==="textSize"?e.textBetween(0,e.content.size,void 0," ").length:e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return e.textBetween(0,e.content.size," "," ").split(" ").filter(i=>i!=="").length}},addProseMirrorPlugins(){return[new Hn({key:new bi("characterCount"),filterTransaction:(t,e)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const r=this.storage.characters({node:e.doc}),i=this.storage.characters({node:t.doc});if(i<=n||r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,a=i-n,l=s-a,u=s;return t.deleteRange(l,u),!(this.storage.characters({node:t.doc})>n)}})]}}),IU=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,BU=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,FU=Ar.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[is({find:IU,type:this.type})]},addPasteRules(){return[ss({find:BU,type:this.type})]}}),jU=/^\s*(\[([( |x])?\])\s$/,$U=Pt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{}}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-checked")==="true",renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ft(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:c})=>{const f=n(),h=c.doc.nodeAt(f);return c.setNodeMarkup(f,void 0,{...h==null?void 0:h.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,s),i.append(o,l),Object.entries(e).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,u.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[ga({find:jU,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),zU=Pt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ft(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),qU=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,HU=Pt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ft(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[NO({find:qU,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}});class VU extends RU{constructor(){super(...arguments),this.contentComponent=null}}const UU=({renderers:t})=>fe.createElement(fe.Fragment,null,Object.entries(t).map(([e,n])=>gM.createPortal(n.reactElement,n.element,e)));class WU extends fe.Component{constructor(e){super(e),this.editorContentRef=fe.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Ho.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:this.editorContentRef,...n}),fe.createElement(UU,{renderers:this.state.renderers}))}}const KU=fe.memo(WU),MO=U.createContext({onDragStart:void 0}),GU=()=>U.useContext(MO),JU=fe.forwardRef((t,e)=>{const{onDragStart:n}=GU(),r=t.as||"div";return fe.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function QU(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function YU(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class XU{constructor(e,{editor:n,props:r={},as:i="div",className:o="",attrs:s}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),s&&Object.keys(s).forEach(a=>{this.element.setAttribute(a,s[a])}),this.render()}render(){var e,n;const r=this.component,i=this.props;(QU(r)||YU(r))&&(i.ref=o=>{this.ref=o}),this.reactElement=fe.createElement(r,{...i}),(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,n;(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}class ZU extends LU{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const o=s=>s.charAt(0).toUpperCase()+s.substring(1);this.component.displayName=o(this.extension.name)}const n=o=>{const s=this.component,a=this.onDragStart.bind(this),l=u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&u.appendChild(this.contentDOMElement)};return fe.createElement(fe.Fragment,null,fe.createElement(MO.Provider,{value:{onDragStart:a,nodeViewContentRef:l}},fe.createElement(s,{...o})))};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:i=""}=this.options;this.renderer=new XU(n,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${i}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,n){const r=i=>{this.renderer.updateProps(i)};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function eW(t,e){return n=>n.editor.contentComponent?new ZU(t,n,e):{}}function tW(){const[,t]=U.useState(0);return()=>t(e=>e+1)}const nW=(t={},e=[])=>{const[n,r]=U.useState(null),i=tW(),{onBeforeCreate:o,onBlur:s,onCreate:a,onDestroy:l,onFocus:u,onSelectionUpdate:d,onTransaction:c,onUpdate:f}=t;return U.useEffect(()=>{n&&(o&&(n.off("beforeCreate"),n.on("beforeCreate",o)),s&&(n.off("blur"),n.on("blur",s)),a&&(n.off("create"),n.on("create",a)),l&&(n.off("destroy"),n.on("destroy",l)),u&&(n.off("focus"),n.on("focus",u)),d&&(n.off("selectionUpdate"),n.on("selectionUpdate",d)),c&&(n.off("transaction"),n.on("transaction",c)),f&&(n.off("update"),n.on("update",f)))},[o,s,a,l,u,d,c,f]),U.useEffect(()=>{let h=!0;const m=new VU(t);return r(m),m.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{h&&i()})})}),()=>{m.destroy(),h=!1}},e),n},rW=/^\s*>\s$/,iW=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ga({find:rW,type:this.type})]}}),oW=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,sW=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,aW=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,lW=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,uW=Ar.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[is({find:oW,type:this.type}),is({find:aW,type:this.type})]},addPasteRules(){return[ss({find:sW,type:this.type}),ss({find:lW,type:this.type})]}}),cW=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xS=Ar.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Th(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),SS=/^\s*([-+*])\s$/,fW=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cW.name,this.editor.getAttributes(xS.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ga({find:SS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ga({find:SS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xS.name),editor:this.editor})),[t]}}),dW=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,hW=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,pW=Ar.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[is({find:dW,type:this.type})]},addPasteRules(){return[ss({find:hW,type:this.type})]}}),mW=/^```([a-z]+)?[\s\n]$/,gW=/^~~~([a-z]+)?[\s\n]$/,yW=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ft(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[Py({find:mW,type:this.type,getAttributes:t=>({language:t[1]})}),Py({find:gW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Hn({key:new bi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(Be.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),vW=Pt.create({name:"doc",topNode:!0,content:"block+"});function bW(t={}){return new Hn({view(e){return new wW(e,t)}})}class wW{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let d=u.getBoundingClientRect(),c=a?d.bottom:d.top;a&&l&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:c-this.width/2,bottom:c+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=M2(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const xW=En.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[bW(this.options)]}});class wt extends De{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return wt.valid(r)?new wt(r):De.near(r)}content(){return me.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(n.pos))}getBookmark(){return new F0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!SW(e)||!kW(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&wt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(wt.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ke.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(wt.valid(a))return a}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;De.jsonID("gapcursor",wt);class F0{constructor(e){this.pos=e}map(e){return new F0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return wt.valid(n)?new wt(n):De.near(n)}}function SW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function kW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function EW(){return new Hn({props:{decorations:_W,createSelectionBetween(t,e,n){return e.pos==n.pos&&wt.valid(n)?new wt(n):null},handleClick:CW,handleKeyDown:AW,handleDOMEvents:{beforeinput:OW}}})}const AW=mO({ArrowLeft:Nc("horiz",-1),ArrowRight:Nc("horiz",1),ArrowUp:Nc("vert",-1),ArrowDown:Nc("vert",1)});function Nc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof Be){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=wt.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new wt(u))),!0):!1}}function CW(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!wt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ke.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(r))),!0)}function OW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let s=r.length-1;s>=0;s--)i=se.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new me(i,0,0));return o.setSelection(Be.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function _W(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ot.create(t.doc,[Zn.widget(t.selection.head,e,{key:"gapcursor"})])}const TW=En.create({name:"gapCursor",addProseMirrorPlugins(){return[EW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Le(ve(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),NW=Pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ft(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&s){const c=l.filter(f=>a.includes(f.type.name));u.ensureMarks(c)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),MW=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Py({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var pd=200,Ut=function(){};Ut.prototype.append=function(e){return e.length?(e=Ut.from(e),!this.length&&e||e.length<pd&&this.leafAppend(e)||this.length<pd&&e.leafPrepend(this)||this.appendInner(e)):this};Ut.prototype.prepend=function(e){return e.length?Ut.from(e).append(this):this};Ut.prototype.appendInner=function(e){return new PW(this,e)};Ut.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ut.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ut.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ut.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ut.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ut.from=function(e){return e instanceof Ut?e:e&&e.length?new PO(e):Ut.empty};var PO=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=pd)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=pd)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ut);Ut.empty=new PO([]);var PW=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ut),RO=Ut;const RW=500;class pr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],d=[];return this.items.forEach((c,f)=>{if(!c.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,d.push(c);return}if(i){d.push(new Nr(c.map));let h=c.step.map(i.slice(o)),m;h&&s.maybeStep(h).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],u.push(new Nr(m,void 0,void 0,u.length+d.length))),o--,m&&i.appendMap(m,o)}else s.maybeStep(c.step);if(c.selection)return a=i?c.selection.map(i.slice(o)):c.selection,l=new pr(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let c=e.steps[d].invert(e.docs[d]),f=new Nr(e.mapping.maps[d],c,n),h;(h=l&&l.merge(f))&&(f=h,d?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let u=s-r.depth;return u>DW&&(a=LW(a,u),s-=u),new pr(a.append(o),s)}remapping(e,n){let r=new Qs;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new pr(this.items.append(e.map(n=>new Nr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let m=o.maps[h];if(f.step){let y=e.steps[h].invert(e.docs[h]),g=f.selection&&f.selection.map(o.slice(l+1,h));g&&a++,r.push(new Nr(m,y,g))}else r.push(new Nr(m))},i);let u=[];for(let f=n;f<s;f++)u.push(new Nr(o.maps[f]));let d=this.items.slice(0,i).append(u).append(r),c=new pr(d,a);return c.emptyItemCount()>RW&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let c=new Nr(u.invert(),l,d),f,h=i.length-1;(f=i.length&&i[h].merge(c))?i[h]=f:i.push(c)}}else s.map&&r--},this.items.length,0),new pr(RO.from(i.reverse()),o)}}pr.empty=new pr(RO.empty,0);function LW(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Nr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Nr(n.getMap().invert(),n,this.selection)}}}class Pi{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const DW=20;function IW(t,e,n,r){let i=n.getMeta(io),o;if(i)return i.historyState;n.getMeta(FW)&&(t=new Pi(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(io))return s.getMeta(io).redo?new Pi(t.done.addTransform(n,void 0,r,rf(e)),t.undone,kS(n.mapping.maps[n.steps.length-1]),t.prevTime):new Pi(t.done,t.undone.addTransform(n,void 0,r,rf(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!BW(n,t.prevRanges)),l=s?mm(t.prevRanges,n.mapping):kS(n.mapping.maps[n.steps.length-1]);return new Pi(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,rf(e)),pr.empty,l,n.time)}else return(o=n.getMeta("rebased"))?new Pi(t.done.rebased(n,o),t.undone.rebased(n,o),mm(t.prevRanges,n.mapping),t.prevTime):new Pi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),mm(t.prevRanges,n.mapping),t.prevTime)}function BW(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function kS(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function mm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function LO(t,e,n,r){let i=rf(e),o=io.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new Pi(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(io,{redo:r,historyState:u}).scrollIntoView())}let gm=!1,ES=null;function rf(t){let e=t.plugins;if(ES!=e){gm=!1,ES=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){gm=!0;break}}return gm}const io=new bi("history"),FW=new bi("closeHistory");function jW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Hn({key:io,state:{init(){return new Pi(pr.empty,pr.empty,null,0)},apply(e,n,r){return IW(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?DO:r=="historyRedo"?IO:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const DO=(t,e)=>{let n=io.getState(t);return!n||n.done.eventCount==0?!1:(e&&LO(n,t,e,!1),!0)},IO=(t,e)=>{let n=io.getState(t);return!n||n.undone.eventCount==0?!1:(e&&LO(n,t,e,!0),!0)},$W=En.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>DO(t,e),redo:()=>({state:t,dispatch:e})=>IO(t,e)}},addProseMirrorPlugins(){return[jW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),zW=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ft(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,o=i.end();if(i.nodeAfter)e.setSelection(Be.create(e.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(e.insert(o,s),e.setSelection(Be.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[NO({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),qW=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,HW=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,VW=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,UW=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,WW=Ar.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[is({find:qW,type:this.type}),is({find:VW,type:this.type})]},addPasteRules(){return[ss({find:HW,type:this.type}),ss({find:UW,type:this.type})]}}),KW=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),GW=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),AS=Ar.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Th(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),CS=/^(\d+)\.\s$/,JW=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ft(this.options.HTMLAttributes,n),0]:["ol",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GW.name,this.editor.getAttributes(AS.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ga({find:CS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ga({find:CS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(AS.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),QW=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),YW=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,XW=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,ZW=Ar.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[is({find:YW,type:this.type})]},addPasteRules(){return[ss({find:XW,type:this.type})]}}),eK=Pt.create({name:"text",group:"inline"}),tK=En.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,a,l,u,d,c,f,h,m,y,g,b;const p=[];return this.options.blockquote!==!1&&p.push(iW.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&p.push(uW.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&p.push(fW.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&p.push(pW.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&p.push(yW.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&p.push(vW.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&p.push(xW.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&p.push(TW.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&p.push(NW.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&p.push(MW.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&p.push($W.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&p.push(zW.configure((c=this.options)===null||c===void 0?void 0:c.horizontalRule)),this.options.italic!==!1&&p.push(WW.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&p.push(KW.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&p.push(JW.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&p.push(QW.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&p.push(ZW.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&p.push(eK.configure((b=this.options)===null||b===void 0?void 0:b.text)),p}}),nK="_root_vy02g_1",rK="_menuItem_vy02g_12",iK="_active_vy02g_29",oK="_imgUploader_vy02g_33",Mc={root:nK,menuItem:rK,active:iK,imgUploader:oK},sK=""+new URL("remixicon.symbol-d4b9d612.svg",import.meta.url).href;function aK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=aK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Jt="-ms-",md="-moz-",Ue="-webkit-",BO="comm",j0="rule",$0="decl",cK="@import",FO="@keyframes",fK=Math.abs,Nh=String.fromCharCode,dK=Object.assign;function hK(t,e){return zt(t,0)^45?(((e<<2^zt(t,0))<<2^zt(t,1))<<2^zt(t,2))<<2^zt(t,3):0}function jO(t){return t.trim()}function pK(t,e){return(t=e.exec(t))?t[0]:t}function Ke(t,e,n){return t.replace(e,n)}function Ry(t,e){return t.indexOf(e)}function zt(t,e){return t.charCodeAt(e)|0}function bu(t,e,n){return t.slice(e,n)}function Lr(t){return t.length}function z0(t){return t.length}function Pc(t,e){return e.push(t),t}function mK(t,e){return t.map(e).join("")}var Mh=1,ya=1,$O=0,An=0,St=0,La="";function Ph(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Mh,column:ya,length:s,return:""}}function Za(t,e){return dK(Ph("",null,null,"",null,null,0),t,{length:-t.length},e)}function gK(){return St}function yK(){return St=An>0?zt(La,--An):0,ya--,St===10&&(ya=1,Mh--),St}function Fn(){return St=An<$O?zt(La,An++):0,ya++,St===10&&(ya=1,Mh++),St}function qr(){return zt(La,An)}function of(){return An}function zu(t,e){return bu(La,t,e)}function wu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zO(t){return Mh=ya=1,$O=Lr(La=t),An=0,[]}function qO(t){return La="",t}function sf(t){return jO(zu(An-1,Ly(t===91?t+2:t===40?t+1:t)))}function vK(t){for(;(St=qr())&&St<33;)Fn();return wu(t)>2||wu(St)>3?"":" "}function bK(t,e){for(;--e&&Fn()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return zu(t,of()+(e<6&&qr()==32&&Fn()==32))}function Ly(t){for(;Fn();)switch(St){case t:return An;case 34:case 39:t!==34&&t!==39&&Ly(St);break;case 40:t===41&&Ly(t);break;case 92:Fn();break}return An}function wK(t,e){for(;Fn()&&t+St!==47+10;)if(t+St===42+42&&qr()===47)break;return"/*"+zu(e,An-1)+"*"+Nh(t===47?t:Fn())}function xK(t){for(;!wu(qr());)Fn();return zu(t,An)}function SK(t){return qO(af("",null,null,null,[""],t=zO(t),0,[0],t))}function af(t,e,n,r,i,o,s,a,l){for(var u=0,d=0,c=s,f=0,h=0,m=0,y=1,g=1,b=1,p=0,v="",w=i,x=o,S=r,E=v;g;)switch(m=p,p=Fn()){case 40:if(m!=108&&zt(E,c-1)==58){Ry(E+=Ke(sf(p),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:E+=sf(p);break;case 9:case 10:case 13:case 32:E+=vK(m);break;case 92:E+=bK(of()-1,7);continue;case 47:switch(qr()){case 42:case 47:Pc(kK(wK(Fn(),of()),e,n),l);break;default:E+="/"}break;case 123*y:a[u++]=Lr(E)*b;case 125*y:case 59:case 0:switch(p){case 0:case 125:g=0;case 59+d:h>0&&Lr(E)-c&&Pc(h>32?_S(E+";",r,n,c-1):_S(Ke(E," ","")+";",r,n,c-2),l);break;case 59:E+=";";default:if(Pc(S=OS(E,e,n,u,d,i,a,v,w=[],x=[],c),o),p===123)if(d===0)af(E,e,S,S,w,o,c,a,x);else switch(f===99&&zt(E,3)===110?100:f){case 100:case 109:case 115:af(t,S,S,r&&Pc(OS(t,S,S,0,0,i,a,v,i,w=[],c),x),i,x,c,a,r?w:x);break;default:af(E,S,S,S,[""],x,0,a,x)}}u=d=h=0,y=b=1,v=E="",c=s;break;case 58:c=1+Lr(E),h=m;default:if(y<1){if(p==123)--y;else if(p==125&&y++==0&&yK()==125)continue}switch(E+=Nh(p),p*y){case 38:b=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(Lr(E)-1)*b,b=1;break;case 64:qr()===45&&(E+=sf(Fn())),f=qr(),d=c=Lr(v=E+=xK(of())),p++;break;case 45:m===45&&Lr(E)==2&&(y=0)}}return o}function OS(t,e,n,r,i,o,s,a,l,u,d){for(var c=i-1,f=i===0?o:[""],h=z0(f),m=0,y=0,g=0;m<r;++m)for(var b=0,p=bu(t,c+1,c=fK(y=s[m])),v=t;b<h;++b)(v=jO(y>0?f[b]+" "+p:Ke(p,/&\f/g,f[b])))&&(l[g++]=v);return Ph(t,e,n,i===0?j0:a,l,u,d)}function kK(t,e,n){return Ph(t,e,n,BO,Nh(gK()),bu(t,2,-2),0)}function _S(t,e,n,r){return Ph(t,e,n,$0,bu(t,0,r),bu(t,r+1,-1),r)}function ea(t,e){for(var n="",r=z0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EK(t,e,n,r){switch(t.type){case cK:case $0:return t.return=t.return||t.value;case BO:return"";case FO:return t.return=t.value+"{"+ea(t.children,r)+"}";case j0:t.value=t.props.join(",")}return Lr(n=ea(t.children,r))?t.return=t.value+"{"+n+"}":""}function AK(t){var e=z0(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function CK(t){return function(e){e.root||(e=e.return)&&t(e)}}function OK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _K=function(e,n,r){for(var i=0,o=0;i=o,o=qr(),i===38&&o===12&&(n[r]=1),!wu(o);)Fn();return zu(e,An)},TK=function(e,n){var r=-1,i=44;do switch(wu(i)){case 0:i===38&&qr()===12&&(n[r]=1),e[r]+=_K(An-1,n,r);break;case 2:e[r]+=sf(i);break;case 4:if(i===44){e[++r]=qr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Nh(i)}while(i=Fn());return e},NK=function(e,n){return qO(TK(zO(e),n))},TS=new WeakMap,MK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!TS.get(r))&&!i){TS.set(e,!0);for(var o=[],s=NK(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},PK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function HO(t,e){switch(hK(t,e)){case 5103:return Ue+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ue+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ue+t+md+t+Jt+t+t;case 6828:case 4268:return Ue+t+Jt+t+t;case 6165:return Ue+t+Jt+"flex-"+t+t;case 5187:return Ue+t+Ke(t,/(\w+).+(:[^]+)/,Ue+"box-$1$2"+Jt+"flex-$1$2")+t;case 5443:return Ue+t+Jt+"flex-item-"+Ke(t,/flex-|-self/,"")+t;case 4675:return Ue+t+Jt+"flex-line-pack"+Ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Ue+t+Jt+Ke(t,"shrink","negative")+t;case 5292:return Ue+t+Jt+Ke(t,"basis","preferred-size")+t;case 6060:return Ue+"box-"+Ke(t,"-grow","")+Ue+t+Jt+Ke(t,"grow","positive")+t;case 4554:return Ue+Ke(t,/([^-])(transform)/g,"$1"+Ue+"$2")+t;case 6187:return Ke(Ke(Ke(t,/(zoom-|grab)/,Ue+"$1"),/(image-set)/,Ue+"$1"),t,"")+t;case 5495:case 3959:return Ke(t,/(image-set\([^]*)/,Ue+"$1$`$1");case 4968:return Ke(Ke(t,/(.+:)(flex-)?(.*)/,Ue+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ue+t+t;case 4095:case 3583:case 4068:case 2532:return Ke(t,/(.+)-inline(.+)/,Ue+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lr(t)-1-e>6)switch(zt(t,e+1)){case 109:if(zt(t,e+4)!==45)break;case 102:return Ke(t,/(.+:)(.+)-([^]+)/,"$1"+Ue+"$2-$3$1"+md+(zt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ry(t,"stretch")?HO(Ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(zt(t,e+1)!==115)break;case 6444:switch(zt(t,Lr(t)-3-(~Ry(t,"!important")&&10))){case 107:return Ke(t,":",":"+Ue)+t;case 101:return Ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ue+(zt(t,14)===45?"inline-":"")+"box$3$1"+Ue+"$2$3$1"+Jt+"$2box$3")+t}break;case 5936:switch(zt(t,e+11)){case 114:return Ue+t+Jt+Ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ue+t+Jt+Ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ue+t+Jt+Ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ue+t+Jt+t+t}return t}var RK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case $0:e.return=HO(e.value,e.length);break;case FO:return ea([Za(e,{value:Ke(e.value,"@","@"+Ue)})],i);case j0:if(e.length)return mK(e.props,function(o){switch(pK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ea([Za(e,{props:[Ke(o,/:(read-\w+)/,":"+md+"$1")]})],i);case"::placeholder":return ea([Za(e,{props:[Ke(o,/:(plac\w+)/,":"+Ue+"input-$1")]}),Za(e,{props:[Ke(o,/:(plac\w+)/,":"+md+"$1")]}),Za(e,{props:[Ke(o,/:(plac\w+)/,Jt+"input-$1")]})],i)}return""})}},LK=[RK],DK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var g=y.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||LK,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var g=y.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)o[g[b]]=!0;a.push(y)});var l,u=[MK,PK];{var d,c=[EK,CK(function(y){d.insert(y)})],f=AK(u.concat(i,c)),h=function(g){return ea(SK(g),f)};l=function(g,b,p,v){d=p,h(g?g+"{"+b.styles+"}":b.styles),v&&(m.inserted[b.name]=!0)}}var m={key:n,sheet:new uK({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m};function IK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var BK={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},FK=/[A-Z]|^ms/g,jK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VO=function(e){return e.charCodeAt(1)===45},NS=function(e){return e!=null&&typeof e!="boolean"},ym=OK(function(t){return VO(t)?t:t.replace(FK,"-$&").toLowerCase()}),MS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(jK,function(r,i,o){return Dr={name:i,styles:o,next:Dr},i})}return BK[e]!==1&&!VO(e)&&typeof n=="number"&&n!==0?n+"px":n};function xu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Dr={name:n.name,styles:n.styles,next:Dr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Dr={name:r.name,styles:r.styles,next:Dr},r=r.next;var i=n.styles+";";return i}return $K(t,e,n)}case"function":{if(t!==void 0){var o=Dr,s=n(t);return Dr=o,xu(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function $K(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xu(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":NS(s)&&(r+=ym(o)+":"+MS(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)NS(s[a])&&(r+=ym(o)+":"+MS(o,s[a])+";");else{var l=xu(t,e,s);switch(o){case"animation":case"animationName":{r+=ym(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var PS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Dr,vm=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Dr=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=xu(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=xu(r,n,e[a]),i&&(o+=s[a]);PS.lastIndex=0;for(var l="",u;(u=PS.exec(o))!==null;)l+="-"+u[1];var d=IK(o)+l;return{name:d,styles:o,next:Dr}},zK=!0;function UO(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var qK=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},HK=function(e,n,r){qK(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function RS(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function LS(t,e,n){var r=[],i=UO(t,r,n);return r.length<2?n:i+e(r)}var VK=function(e){var n=DK(e);n.sheet.speedy=function(a){this.isSpeedy=a},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var c=vm(u,n.registered,void 0);return HK(n,c,!1),n.key+"-"+c.name},i=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var c=vm(u,n.registered),f="animation-"+c.name;return RS(n,{name:c.name,styles:"@keyframes "+f+"{"+c.styles+"}"}),f},o=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var c=vm(u,n.registered);RS(n,c)},s=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return LS(n.registered,r,UK(u))};return{css:r,cx:s,injectGlobal:o,keyframes:i,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:UO.bind(null,n.registered),merge:LS.bind(null,n.registered,r)}},UK=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},WK=VK({key:"css"}),KK=WK.cx;function GK({editor:t,note:e}){if(!t)return null;const n=[{icon:"bold",title:"Bold",action:()=>t.chain().focus().toggleBold().run(),isActive:()=>t.isActive("bold")},{icon:"italic",title:"Italic",action:()=>t.chain().focus().toggleItalic().run(),isActive:()=>t.isActive("italic")},{icon:"strikethrough",title:"Strike",action:()=>t.chain().focus().toggleStrike().run(),isActive:()=>t.isActive("strike")},{icon:"code-view",title:"Code",action:()=>t.chain().focus().toggleCode().run(),isActive:()=>t.isActive("code")},{icon:"mark-pen-line",title:"Highlight",action:()=>t.chain().focus().toggleHighlight().run(),isActive:()=>t.isActive("highlight")},{icon:"h-1",title:"Heading 1",action:()=>t.chain().focus().toggleHeading({level:1}).run(),isActive:()=>t.isActive("heading",{level:1})},{icon:"h-2",title:"Heading 2",action:()=>t.chain().focus().toggleHeading({level:2}).run(),isActive:()=>t.isActive("heading",{level:2})},{icon:"list-unordered",title:"Bullet List",action:()=>t.chain().focus().toggleBulletList().run(),isActive:()=>t.isActive("bulletList")},{icon:"list-ordered",title:"Ordered List",action:()=>t.chain().focus().toggleOrderedList().run(),isActive:()=>t.isActive("orderedList")},{icon:"list-check-2",title:"Task List",action:()=>t.chain().focus().toggleTaskList().run(),isActive:()=>t.isActive("taskList")},{icon:"image-line",title:"Image",action:()=>{}},{icon:"code-box-line",title:"Code Block",action:()=>t.chain().focus().toggleCodeBlock().run(),isActive:()=>t.isActive("codeBlock")},{icon:"double-quotes-l",title:"Blockquote",action:()=>t.chain().focus().toggleBlockquote().run(),isActive:()=>t.isActive("blockquote")},{icon:"separator",title:"Horizontal Rule",action:()=>t.chain().focus().setHorizontalRule().run()},{icon:"text-wrap",title:"Hard Break",action:()=>t.chain().focus().setHardBreak().run()},{icon:"format-clear",title:"Clear Format",action:()=>t.chain().focus().clearNodes().unsetAllMarks().run()}];return U.useState(!1),oe("div",{className:Mc.root,children:n.map(({icon:r,title:i,action:o,isActive:s=null})=>pt("button",{className:KK(Mc.menuItem,s&&s()&&Mc.active),onClick:o,title:i,children:[oe("svg",{className:"remix",children:oe("use",{xlinkHref:`${sK}#ri-${r}`})}),i==="Image"&&oe("input",{className:Mc.imgUploader,type:"file",onChange:a=>{var u;let l=(u=a.target.files)==null?void 0:u[0];if(l){let d=new FileReader;d.addEventListener("load",async c=>{let f=await $t.images.add({url:d.result,noteId:e.id});t.chain().focus().insertContent(`<custom-image id="${f}" />`).run()}),d.addEventListener("error",console.error),d.readAsDataURL(l)}a.target.value=""}})]}))})}const JK="_root_zemxo_2",QK="_editor_zemxo_2",DS={root:JK,editor:QK};function YK(t){console.log("custom-image",t);const e=ao.useLiveQuery(()=>$t.images.get(Number(t.node.attrs.id)),[t.node.attrs.id]);return oe(JU,{className:"custom-image",children:oe("img",{src:e==null?void 0:e.url})})}const XK=Pt.create({name:"CustomImage",group:"block",atom:!0,addAttributes(){return{id:{default:0}}},parseHTML(){return[{tag:"custom-image"}]},renderHTML({HTMLAttributes:t}){return["custom-image",ft(t)]},addNodeView(){return eW(YK)}});function ZK(t){const e=nW({extensions:[tK.configure({}),FU,zU,$U,HU,XK,DU.configure({})],content:t.value,onUpdate:n=>{t.onChange(n.editor.getHTML())},onBeforeCreate(){console.time("tiptap")},onCreate(){},onFocus(){}});return U.useEffect(()=>{var n;e&&((n=t.getEditor)==null||n.call(t,e),setTimeout(()=>{console.timeEnd("tiptap")},100))},[e]),window.editor=e,pt("div",{className:DS.root,children:[oe(KU,{className:DS.editor,editor:e}),oe(GK,{editor:e,note:t.note})]})}function eG(t){var g,b,p,v;const[e,n]=U.useState(""),[r,i]=U.useState(""),o=eA(),s=U.useRef(),[a,l]=U.useState(0),u=Id(),d=U.useRef(null),c=w=>{var E,k;let x=d.current;if(!x)return;let S=document.createElement("div");S.className=x.className,S.style.overflow="visible",S.innerHTML=w||"",(E=x.parentElement)==null||E.appendChild(S),l(S.offsetHeight),(k=x.parentElement)==null||k.removeChild(S)},[f,h]=ao.useLiveQuery(async()=>{if(o.id==="new")return[{title:"",content:"",createdAt:new Date,updatedAt:new Date,categoryId:0},null];let w=await $t.notes.get(Number(o.id))||null,x;return w&&(n(w.title),i(w.content),x=await $t.categories.get(w.categoryId)),[w,x]},[o.id])||[];function m(){(e||r)&&f&&(f.title!==e||f.content!==r)&&(f.title=e,f.content=r,f!=null&&f.id?$t.notes.update(f.id,{title:e.trim(),content:r,updatedAt:new Date}):$t.notes.add(f))}if(U.useEffect(()=>{c((f==null?void 0:f.title)||"")},[f]),U.useEffect(()=>(window.addEventListener("beforeunload",m),window.addEventListener("popstate",m),()=>{window.removeEventListener("beforeunload",m),window.removeEventListener("popstate",m)}),[e,r,f]),f===null)return u("/memo"),null;if(f===void 0)return null;const y=()=>{var w,x;return(x=(w=s.current)==null?void 0:w.state)==null?void 0:x.history$};return pt("div",{className:ws.root,children:[pt("div",{className:ws.navbar,children:[oe(oi,{fill:"none",onClick:w=>{u(-1),m()},children:oe(U$,{})}),oe("div",{className:ws.cat,children:oe(pC,{color:"#aaa",children:(h==null?void 0:h.title)||""})}),oe(oi,{fill:"none",disabled:!((b=(g=y())==null?void 0:g.done)!=null&&b.eventCount),onClick:w=>{var x;(x=s.current)==null||x.chain().focus().undo().run()},children:oe(G$,{})}),oe(oi,{fill:"none",disabled:!((v=(p=y())==null?void 0:p.undone)!=null&&v.eventCount),onClick:w=>{var x;(x=s.current)==null||x.chain().focus().redo().run()},children:oe(Y$,{})}),oe(oi,{fill:"none",disabled:f.title===f.title&&f.content===r,onClick:w=>{m()},children:oe(q$,{})}),oe(JC,{noteId:f.id,onSave:m})]}),pt("div",{className:ws.main,children:[oe("textarea",{ref:d,value:e,onChange:w=>{let x=w.target.value.replace(/\n+/g,"");n(x),c(x)},className:ws.title,placeholder:"",rows:1,style:{height:a||void 0}}),pt("div",{className:ws.info,children:[Mv(f.updatedAt).format("MM-DD hh:mm")," ",r.length?`${GC(r).length}`:""]}),oe(ZK,{getEditor:w=>{s.current=w},value:r,note:f,onChange:i})]})]})}function tG(){return pt("div",{children:[oe(Bs,{to:"/color-strenth",children:""}),oe("br",{}),oe(Bs,{to:"/timer",children:""}),oe("br",{}),oe(Bs,{to:"/xykey",children:"xykey"}),oe("br",{}),oe(Bs,{to:"/memo",children:"memo"}),oe("br",{})]})}function nG(){return oe(fe.StrictMode,{children:oe(JP,{children:pt(VP,{children:[oe(ko,{path:"/",element:oe(tG,{})}),oe(ko,{path:"/color-strenth",element:oe(JM,{})}),oe(ko,{path:"/timer",element:oe(iR,{})}),oe(ko,{path:"/memo",element:oe(Dj,{})}),oe(ko,{path:"/memo/note/:id",element:oe(e$,{})}),oe(ko,{path:"/tmemo/note/:id",element:oe(eG,{})})]})})})}wm.createRoot(document.getElementById("root")).render(oe(nG,{}));
